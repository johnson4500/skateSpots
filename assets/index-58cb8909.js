function Yw(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var Ex=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $s(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qw={exports:{}},lc={},Jw={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Da=Symbol.for("react.element"),Tx=Symbol.for("react.portal"),Sx=Symbol.for("react.fragment"),Cx=Symbol.for("react.strict_mode"),Ix=Symbol.for("react.profiler"),Px=Symbol.for("react.provider"),xx=Symbol.for("react.context"),kx=Symbol.for("react.forward_ref"),bx=Symbol.for("react.suspense"),Rx=Symbol.for("react.memo"),Lx=Symbol.for("react.lazy"),$g=Symbol.iterator;function Ax(t){return t===null||typeof t!="object"?null:(t=$g&&t[$g]||t["@@iterator"],typeof t=="function"?t:null)}var Xw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},e0=Object.assign,t0={};function Zs(t,e,n){this.props=t,this.context=e,this.refs=t0,this.updater=n||Xw}Zs.prototype.isReactComponent={};Zs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function n0(){}n0.prototype=Zs.prototype;function Cp(t,e,n){this.props=t,this.context=e,this.refs=t0,this.updater=n||Xw}var Ip=Cp.prototype=new n0;Ip.constructor=Cp;e0(Ip,Zs.prototype);Ip.isPureReactComponent=!0;var Zg=Array.isArray,i0=Object.prototype.hasOwnProperty,Pp={current:null},r0={key:!0,ref:!0,__self:!0,__source:!0};function s0(t,e,n){var i,r={},o=null,l=null;if(e!=null)for(i in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)i0.call(e,i)&&!r0.hasOwnProperty(i)&&(r[i]=e[i]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var h=Array(u),f=0;f<u;f++)h[f]=arguments[f+2];r.children=h}if(t&&t.defaultProps)for(i in u=t.defaultProps,u)r[i]===void 0&&(r[i]=u[i]);return{$$typeof:Da,type:t,key:o,ref:l,props:r,_owner:Pp.current}}function Nx(t,e){return{$$typeof:Da,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Da}function Ox(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var qg=/\/+/g;function Uh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ox(""+t.key):e.toString(36)}function zl(t,e,n,i,r){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Da:case Tx:l=!0}}if(l)return l=t,r=r(l),t=i===""?"."+Uh(l,0):i,Zg(r)?(n="",t!=null&&(n=t.replace(qg,"$&/")+"/"),zl(r,e,n,"",function(f){return f})):r!=null&&(xp(r)&&(r=Nx(r,n+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(qg,"$&/")+"/")+t)),e.push(r)),1;if(l=0,i=i===""?".":i+":",Zg(t))for(var u=0;u<t.length;u++){o=t[u];var h=i+Uh(o,u);l+=zl(o,e,n,h,r)}else if(h=Ax(t),typeof h=="function")for(t=h.call(t),u=0;!(o=t.next()).done;)o=o.value,h=i+Uh(o,u++),l+=zl(o,e,n,h,r);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function gl(t,e,n){if(t==null)return t;var i=[],r=0;return zl(t,i,"","",function(o){return e.call(n,o,r++)}),i}function Mx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xt={current:null},jl={transition:null},Dx={ReactCurrentDispatcher:xt,ReactCurrentBatchConfig:jl,ReactCurrentOwner:Pp};le.Children={map:gl,forEach:function(t,e,n){gl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gl(t,function(){e++}),e},toArray:function(t){return gl(t,function(e){return e})||[]},only:function(t){if(!xp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=Zs;le.Fragment=Sx;le.Profiler=Ix;le.PureComponent=Cp;le.StrictMode=Cx;le.Suspense=bx;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dx;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=e0({},t.props),r=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=Pp.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(h in e)i0.call(e,h)&&!r0.hasOwnProperty(h)&&(i[h]=e[h]===void 0&&u!==void 0?u[h]:e[h])}var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){u=Array(h);for(var f=0;f<h;f++)u[f]=arguments[f+2];i.children=u}return{$$typeof:Da,type:t.type,key:r,ref:o,props:i,_owner:l}};le.createContext=function(t){return t={$$typeof:xx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Px,_context:t},t.Consumer=t};le.createElement=s0;le.createFactory=function(t){var e=s0.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:kx,render:t}};le.isValidElement=xp;le.lazy=function(t){return{$$typeof:Lx,_payload:{_status:-1,_result:t},_init:Mx}};le.memo=function(t,e){return{$$typeof:Rx,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=jl.transition;jl.transition={};try{t()}finally{jl.transition=e}};le.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};le.useCallback=function(t,e){return xt.current.useCallback(t,e)};le.useContext=function(t){return xt.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return xt.current.useDeferredValue(t)};le.useEffect=function(t,e){return xt.current.useEffect(t,e)};le.useId=function(){return xt.current.useId()};le.useImperativeHandle=function(t,e,n){return xt.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return xt.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return xt.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return xt.current.useMemo(t,e)};le.useReducer=function(t,e,n){return xt.current.useReducer(t,e,n)};le.useRef=function(t){return xt.current.useRef(t)};le.useState=function(t){return xt.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return xt.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return xt.current.useTransition()};le.version="18.2.0";Jw.exports=le;var O=Jw.exports;const Jn=$s(O),Fx=Yw({__proto__:null,default:Jn},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ux=O,Bx=Symbol.for("react.element"),zx=Symbol.for("react.fragment"),jx=Object.prototype.hasOwnProperty,Hx=Ux.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wx={key:!0,ref:!0,__self:!0,__source:!0};function o0(t,e,n){var i,r={},o=null,l=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(i in e)jx.call(e,i)&&!Wx.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:Bx,type:t,key:o,ref:l,props:r,_owner:Hx.current}}lc.Fragment=zx;lc.jsx=o0;lc.jsxs=o0;Qw.exports=lc;var P=Qw.exports,Bd={},a0={exports:{}},Zt={},l0={exports:{}},u0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,Z){var D=A.length;A.push(Z);e:for(;0<D;){var J=D-1>>>1,de=A[J];if(0<r(de,Z))A[J]=Z,A[D]=de,D=J;else break e}}function n(A){return A.length===0?null:A[0]}function i(A){if(A.length===0)return null;var Z=A[0],D=A.pop();if(D!==Z){A[0]=D;e:for(var J=0,de=A.length,Ke=de>>>1;J<Ke;){var ve=2*(J+1)-1,pe=A[ve],te=ve+1,bt=A[te];if(0>r(pe,D))te<de&&0>r(bt,pe)?(A[J]=bt,A[te]=D,J=te):(A[J]=pe,A[ve]=D,J=ve);else if(te<de&&0>r(bt,D))A[J]=bt,A[te]=D,J=te;else break e}}return Z}function r(A,Z){var D=A.sortIndex-Z.sortIndex;return D!==0?D:A.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],f=[],m=1,_=null,v=3,E=!1,w=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(A){for(var Z=n(f);Z!==null;){if(Z.callback===null)i(f);else if(Z.startTime<=A)i(f),Z.sortIndex=Z.expirationTime,e(h,Z);else break;Z=n(f)}}function b(A){if(C=!1,I(A),!w)if(n(h)!==null)w=!0,Me(U);else{var Z=n(f);Z!==null&&Xe(b,Z.startTime-A)}}function U(A,Z){w=!1,C&&(C=!1,T(W),W=-1),E=!0;var D=v;try{for(I(Z),_=n(h);_!==null&&(!(_.expirationTime>Z)||A&&!G());){var J=_.callback;if(typeof J=="function"){_.callback=null,v=_.priorityLevel;var de=J(_.expirationTime<=Z);Z=t.unstable_now(),typeof de=="function"?_.callback=de:_===n(h)&&i(h),I(Z)}else i(h);_=n(h)}if(_!==null)var Ke=!0;else{var ve=n(f);ve!==null&&Xe(b,ve.startTime-Z),Ke=!1}return Ke}finally{_=null,v=D,E=!1}}var z=!1,H=null,W=-1,he=5,X=-1;function G(){return!(t.unstable_now()-X<he)}function $(){if(H!==null){var A=t.unstable_now();X=A;var Z=!0;try{Z=H(!0,A)}finally{Z?Ee():(z=!1,H=null)}}else z=!1}var Ee;if(typeof y=="function")Ee=function(){y($)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,at=He.port2;He.port1.onmessage=$,Ee=function(){at.postMessage(null)}}else Ee=function(){R($,0)};function Me(A){H=A,z||(z=!0,Ee())}function Xe(A,Z){W=R(function(){A(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){w||E||(w=!0,Me(U))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(A){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var D=v;v=Z;try{return A()}finally{v=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,Z){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var D=v;v=A;try{return Z()}finally{v=D}},t.unstable_scheduleCallback=function(A,Z,D){var J=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?J+D:J):D=J,A){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=D+de,A={id:m++,callback:Z,priorityLevel:A,startTime:D,expirationTime:de,sortIndex:-1},D>J?(A.sortIndex=D,e(f,A),n(h)===null&&A===n(f)&&(C?(T(W),W=-1):C=!0,Xe(b,D-J))):(A.sortIndex=de,e(h,A),w||E||(w=!0,Me(U))),A},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(A){var Z=v;return function(){var D=v;v=Z;try{return A.apply(this,arguments)}finally{v=D}}}})(u0);l0.exports=u0;var Vx=l0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0=O,$t=Vx;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h0=new Set,ia={};function Fr(t,e){Ls(t,e),Ls(t+"Capture",e)}function Ls(t,e){for(ia[t]=e,t=0;t<e.length;t++)h0.add(e[t])}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zd=Object.prototype.hasOwnProperty,$x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gg={},Kg={};function Zx(t){return zd.call(Kg,t)?!0:zd.call(Gg,t)?!1:$x.test(t)?Kg[t]=!0:(Gg[t]=!0,!1)}function qx(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Gx(t,e,n,i){if(e===null||typeof e>"u"||qx(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kt(t,e,n,i,r,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pt[t]=new kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pt[e]=new kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pt[t]=new kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pt[t]=new kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pt[t]=new kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pt[t]=new kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pt[t]=new kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pt[t]=new kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pt[t]=new kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var kp=/[\-:]([a-z])/g;function bp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kp,bp);pt[e]=new kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kp,bp);pt[e]=new kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kp,bp);pt[e]=new kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pt[t]=new kt(t,1,!1,t.toLowerCase(),null,!1,!1)});pt.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pt[t]=new kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rp(t,e,n,i){var r=pt.hasOwnProperty(e)?pt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Gx(e,n,r,i)&&(n=null),i||r===null?Zx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var ui=c0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vl=Symbol.for("react.element"),rs=Symbol.for("react.portal"),ss=Symbol.for("react.fragment"),Lp=Symbol.for("react.strict_mode"),jd=Symbol.for("react.profiler"),d0=Symbol.for("react.provider"),f0=Symbol.for("react.context"),Ap=Symbol.for("react.forward_ref"),Hd=Symbol.for("react.suspense"),Wd=Symbol.for("react.suspense_list"),Np=Symbol.for("react.memo"),yi=Symbol.for("react.lazy"),p0=Symbol.for("react.offscreen"),Yg=Symbol.iterator;function vo(t){return t===null||typeof t!="object"?null:(t=Yg&&t[Yg]||t["@@iterator"],typeof t=="function"?t:null)}var Oe=Object.assign,Bh;function Mo(t){if(Bh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bh=e&&e[1]||""}return`
`+Bh+t}var zh=!1;function jh(t,e){if(!t||zh)return"";zh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var i=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){i=f}t.call(e.prototype)}else{try{throw Error()}catch(f){i=f}t()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var r=f.stack.split(`
`),o=i.stack.split(`
`),l=r.length-1,u=o.length-1;1<=l&&0<=u&&r[l]!==o[u];)u--;for(;1<=l&&0<=u;l--,u--)if(r[l]!==o[u]){if(l!==1||u!==1)do if(l--,u--,0>u||r[l]!==o[u]){var h=`
`+r[l].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=l&&0<=u);break}}}finally{zh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Mo(t):""}function Kx(t){switch(t.tag){case 5:return Mo(t.type);case 16:return Mo("Lazy");case 13:return Mo("Suspense");case 19:return Mo("SuspenseList");case 0:case 2:case 15:return t=jh(t.type,!1),t;case 11:return t=jh(t.type.render,!1),t;case 1:return t=jh(t.type,!0),t;default:return""}}function Vd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ss:return"Fragment";case rs:return"Portal";case jd:return"Profiler";case Lp:return"StrictMode";case Hd:return"Suspense";case Wd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case f0:return(t.displayName||"Context")+".Consumer";case d0:return(t._context.displayName||"Context")+".Provider";case Ap:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Np:return e=t.displayName||null,e!==null?e:Vd(t.type)||"Memo";case yi:e=t._payload,t=t._init;try{return Vd(t(e))}catch{}}return null}function Yx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vd(e);case 8:return e===Lp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function m0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Qx(t){var e=m0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(l){i=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yl(t){t._valueTracker||(t._valueTracker=Qx(t))}function _0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=m0(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function au(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $d(t,e){var n=e.checked;return Oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Qg(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Vi(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function g0(t,e){e=e.checked,e!=null&&Rp(t,"checked",e,!1)}function Zd(t,e){g0(t,e);var n=Vi(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qd(t,e.type,n):e.hasOwnProperty("defaultValue")&&qd(t,e.type,Vi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Jg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function qd(t,e,n){(e!=="number"||au(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Do=Array.isArray;function vs(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Vi(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Gd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return Oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(Do(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vi(n)}}function v0(t,e){var n=Vi(e.value),i=Vi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function ev(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function y0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?y0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wl,w0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wl=wl||document.createElement("div"),wl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ra(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var jo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jx=["Webkit","ms","Moz","O"];Object.keys(jo).forEach(function(t){Jx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),jo[e]=jo[t]})});function E0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||jo.hasOwnProperty(t)&&jo[t]?(""+e).trim():e+"px"}function T0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=E0(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var Xx=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yd(t,e){if(e){if(Xx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function Qd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jd=null;function Op(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xd=null,ys=null,ws=null;function tv(t){if(t=Ba(t)){if(typeof Xd!="function")throw Error(F(280));var e=t.stateNode;e&&(e=fc(e),Xd(t.stateNode,t.type,e))}}function S0(t){ys?ws?ws.push(t):ws=[t]:ys=t}function C0(){if(ys){var t=ys,e=ws;if(ws=ys=null,tv(t),e)for(t=0;t<e.length;t++)tv(e[t])}}function I0(t,e){return t(e)}function P0(){}var Hh=!1;function x0(t,e,n){if(Hh)return t(e,n);Hh=!0;try{return I0(t,e,n)}finally{Hh=!1,(ys!==null||ws!==null)&&(P0(),C0())}}function sa(t,e){var n=t.stateNode;if(n===null)return null;var i=fc(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var ef=!1;if(ii)try{var yo={};Object.defineProperty(yo,"passive",{get:function(){ef=!0}}),window.addEventListener("test",yo,yo),window.removeEventListener("test",yo,yo)}catch{ef=!1}function ek(t,e,n,i,r,o,l,u,h){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(m){this.onError(m)}}var Ho=!1,lu=null,uu=!1,tf=null,tk={onError:function(t){Ho=!0,lu=t}};function nk(t,e,n,i,r,o,l,u,h){Ho=!1,lu=null,ek.apply(tk,arguments)}function ik(t,e,n,i,r,o,l,u,h){if(nk.apply(this,arguments),Ho){if(Ho){var f=lu;Ho=!1,lu=null}else throw Error(F(198));uu||(uu=!0,tf=f)}}function Ur(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function k0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nv(t){if(Ur(t)!==t)throw Error(F(188))}function rk(t){var e=t.alternate;if(!e){if(e=Ur(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return nv(r),t;if(o===i)return nv(r),e;o=o.sibling}throw Error(F(188))}if(n.return!==i.return)n=r,i=o;else{for(var l=!1,u=r.child;u;){if(u===n){l=!0,n=r,i=o;break}if(u===i){l=!0,i=r,n=o;break}u=u.sibling}if(!l){for(u=o.child;u;){if(u===n){l=!0,n=o,i=r;break}if(u===i){l=!0,i=o,n=r;break}u=u.sibling}if(!l)throw Error(F(189))}}if(n.alternate!==i)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function b0(t){return t=rk(t),t!==null?R0(t):null}function R0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=R0(t);if(e!==null)return e;t=t.sibling}return null}var L0=$t.unstable_scheduleCallback,iv=$t.unstable_cancelCallback,sk=$t.unstable_shouldYield,ok=$t.unstable_requestPaint,Ve=$t.unstable_now,ak=$t.unstable_getCurrentPriorityLevel,Mp=$t.unstable_ImmediatePriority,A0=$t.unstable_UserBlockingPriority,cu=$t.unstable_NormalPriority,lk=$t.unstable_LowPriority,N0=$t.unstable_IdlePriority,uc=null,On=null;function uk(t){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(uc,t,void 0,(t.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:dk,ck=Math.log,hk=Math.LN2;function dk(t){return t>>>=0,t===0?32:31-(ck(t)/hk|0)|0}var El=64,Tl=4194304;function Fo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hu(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,l=n&268435455;if(l!==0){var u=l&~r;u!==0?i=Fo(u):(o&=l,o!==0&&(i=Fo(o)))}else l=n&~r,l!==0?i=Fo(l):o!==0&&(i=Fo(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-_n(e),r=1<<n,i|=t[n],e&=~r;return i}function fk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pk(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-_n(o),u=1<<l,h=r[l];h===-1?(!(u&n)||u&i)&&(r[l]=fk(u,e)):h<=e&&(t.expiredLanes|=u),o&=~u}}function nf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function O0(){var t=El;return El<<=1,!(El&4194240)&&(El=64),t}function Wh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Fa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_n(e),t[e]=n}function mk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-_n(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}function Dp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-_n(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var ge=0;function M0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var D0,Fp,F0,U0,B0,rf=!1,Sl=[],Ai=null,Ni=null,Oi=null,oa=new Map,aa=new Map,Ei=[],_k="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rv(t,e){switch(t){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":oa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":aa.delete(e.pointerId)}}function wo(t,e,n,i,r,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=Ba(e),e!==null&&Fp(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function gk(t,e,n,i,r){switch(e){case"focusin":return Ai=wo(Ai,t,e,n,i,r),!0;case"dragenter":return Ni=wo(Ni,t,e,n,i,r),!0;case"mouseover":return Oi=wo(Oi,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return oa.set(o,wo(oa.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,aa.set(o,wo(aa.get(o)||null,t,e,n,i,r)),!0}return!1}function z0(t){var e=ar(t.target);if(e!==null){var n=Ur(e);if(n!==null){if(e=n.tag,e===13){if(e=k0(n),e!==null){t.blockedOn=e,B0(t.priority,function(){F0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=sf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Jd=i,n.target.dispatchEvent(i),Jd=null}else return e=Ba(n),e!==null&&Fp(e),t.blockedOn=n,!1;e.shift()}return!0}function sv(t,e,n){Hl(t)&&n.delete(e)}function vk(){rf=!1,Ai!==null&&Hl(Ai)&&(Ai=null),Ni!==null&&Hl(Ni)&&(Ni=null),Oi!==null&&Hl(Oi)&&(Oi=null),oa.forEach(sv),aa.forEach(sv)}function Eo(t,e){t.blockedOn===e&&(t.blockedOn=null,rf||(rf=!0,$t.unstable_scheduleCallback($t.unstable_NormalPriority,vk)))}function la(t){function e(r){return Eo(r,t)}if(0<Sl.length){Eo(Sl[0],t);for(var n=1;n<Sl.length;n++){var i=Sl[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Ai!==null&&Eo(Ai,t),Ni!==null&&Eo(Ni,t),Oi!==null&&Eo(Oi,t),oa.forEach(e),aa.forEach(e),n=0;n<Ei.length;n++)i=Ei[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Ei.length&&(n=Ei[0],n.blockedOn===null);)z0(n),n.blockedOn===null&&Ei.shift()}var Es=ui.ReactCurrentBatchConfig,du=!0;function yk(t,e,n,i){var r=ge,o=Es.transition;Es.transition=null;try{ge=1,Up(t,e,n,i)}finally{ge=r,Es.transition=o}}function wk(t,e,n,i){var r=ge,o=Es.transition;Es.transition=null;try{ge=4,Up(t,e,n,i)}finally{ge=r,Es.transition=o}}function Up(t,e,n,i){if(du){var r=sf(t,e,n,i);if(r===null)Xh(t,e,i,fu,n),rv(t,i);else if(gk(r,t,e,n,i))i.stopPropagation();else if(rv(t,i),e&4&&-1<_k.indexOf(t)){for(;r!==null;){var o=Ba(r);if(o!==null&&D0(o),o=sf(t,e,n,i),o===null&&Xh(t,e,i,fu,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else Xh(t,e,i,null,n)}}var fu=null;function sf(t,e,n,i){if(fu=null,t=Op(i),t=ar(t),t!==null)if(e=Ur(t),e===null)t=null;else if(n=e.tag,n===13){if(t=k0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fu=t,null}function j0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ak()){case Mp:return 1;case A0:return 4;case cu:case lk:return 16;case N0:return 536870912;default:return 16}default:return 16}}var ki=null,Bp=null,Wl=null;function H0(){if(Wl)return Wl;var t,e=Bp,n=e.length,i,r="value"in ki?ki.value:ki.textContent,o=r.length;for(t=0;t<n&&e[t]===r[t];t++);var l=n-t;for(i=1;i<=l&&e[n-i]===r[o-i];i++);return Wl=r.slice(t,1<i?1-i:void 0)}function Vl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cl(){return!0}function ov(){return!1}function qt(t){function e(n,i,r,o,l){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Cl:ov,this.isPropagationStopped=ov,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cl)},persist:function(){},isPersistent:Cl}),e}var qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zp=qt(qs),Ua=Oe({},qs,{view:0,detail:0}),Ek=qt(Ua),Vh,$h,To,cc=Oe({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==To&&(To&&t.type==="mousemove"?(Vh=t.screenX-To.screenX,$h=t.screenY-To.screenY):$h=Vh=0,To=t),Vh)},movementY:function(t){return"movementY"in t?t.movementY:$h}}),av=qt(cc),Tk=Oe({},cc,{dataTransfer:0}),Sk=qt(Tk),Ck=Oe({},Ua,{relatedTarget:0}),Zh=qt(Ck),Ik=Oe({},qs,{animationName:0,elapsedTime:0,pseudoElement:0}),Pk=qt(Ik),xk=Oe({},qs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kk=qt(xk),bk=Oe({},qs,{data:0}),lv=qt(bk),Rk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ak={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ak[t])?!!e[t]:!1}function jp(){return Nk}var Ok=Oe({},Ua,{key:function(t){if(t.key){var e=Rk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jp,charCode:function(t){return t.type==="keypress"?Vl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mk=qt(Ok),Dk=Oe({},cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uv=qt(Dk),Fk=Oe({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jp}),Uk=qt(Fk),Bk=Oe({},qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),zk=qt(Bk),jk=Oe({},cc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hk=qt(jk),Wk=[9,13,27,32],Hp=ii&&"CompositionEvent"in window,Wo=null;ii&&"documentMode"in document&&(Wo=document.documentMode);var Vk=ii&&"TextEvent"in window&&!Wo,W0=ii&&(!Hp||Wo&&8<Wo&&11>=Wo),cv=String.fromCharCode(32),hv=!1;function V0(t,e){switch(t){case"keyup":return Wk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var os=!1;function $k(t,e){switch(t){case"compositionend":return $0(e);case"keypress":return e.which!==32?null:(hv=!0,cv);case"textInput":return t=e.data,t===cv&&hv?null:t;default:return null}}function Zk(t,e){if(os)return t==="compositionend"||!Hp&&V0(t,e)?(t=H0(),Wl=Bp=ki=null,os=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return W0&&e.locale!=="ko"?null:e.data;default:return null}}var qk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qk[t.type]:e==="textarea"}function Z0(t,e,n,i){S0(i),e=pu(e,"onChange"),0<e.length&&(n=new zp("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Vo=null,ua=null;function Gk(t){iE(t,0)}function hc(t){var e=us(t);if(_0(e))return t}function Kk(t,e){if(t==="change")return e}var q0=!1;if(ii){var qh;if(ii){var Gh="oninput"in document;if(!Gh){var fv=document.createElement("div");fv.setAttribute("oninput","return;"),Gh=typeof fv.oninput=="function"}qh=Gh}else qh=!1;q0=qh&&(!document.documentMode||9<document.documentMode)}function pv(){Vo&&(Vo.detachEvent("onpropertychange",G0),ua=Vo=null)}function G0(t){if(t.propertyName==="value"&&hc(ua)){var e=[];Z0(e,ua,t,Op(t)),x0(Gk,e)}}function Yk(t,e,n){t==="focusin"?(pv(),Vo=e,ua=n,Vo.attachEvent("onpropertychange",G0)):t==="focusout"&&pv()}function Qk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hc(ua)}function Jk(t,e){if(t==="click")return hc(e)}function Xk(t,e){if(t==="input"||t==="change")return hc(e)}function e1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yn=typeof Object.is=="function"?Object.is:e1;function ca(t,e){if(yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!zd.call(e,r)||!yn(t[r],e[r]))return!1}return!0}function mv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _v(t,e){var n=mv(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mv(n)}}function K0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?K0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Y0(){for(var t=window,e=au();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=au(t.document)}return e}function Wp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function t1(t){var e=Y0(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&K0(n.ownerDocument.documentElement,n)){if(i!==null&&Wp(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=_v(n,o);var l=_v(n,i);r&&l&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var n1=ii&&"documentMode"in document&&11>=document.documentMode,as=null,of=null,$o=null,af=!1;function gv(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;af||as==null||as!==au(i)||(i=as,"selectionStart"in i&&Wp(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),$o&&ca($o,i)||($o=i,i=pu(of,"onSelect"),0<i.length&&(e=new zp("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=as)))}function Il(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ls={animationend:Il("Animation","AnimationEnd"),animationiteration:Il("Animation","AnimationIteration"),animationstart:Il("Animation","AnimationStart"),transitionend:Il("Transition","TransitionEnd")},Kh={},Q0={};ii&&(Q0=document.createElement("div").style,"AnimationEvent"in window||(delete ls.animationend.animation,delete ls.animationiteration.animation,delete ls.animationstart.animation),"TransitionEvent"in window||delete ls.transitionend.transition);function dc(t){if(Kh[t])return Kh[t];if(!ls[t])return t;var e=ls[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Q0)return Kh[t]=e[n];return t}var J0=dc("animationend"),X0=dc("animationiteration"),eE=dc("animationstart"),tE=dc("transitionend"),nE=new Map,vv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gi(t,e){nE.set(t,e),Fr(e,[t])}for(var Yh=0;Yh<vv.length;Yh++){var Qh=vv[Yh],i1=Qh.toLowerCase(),r1=Qh[0].toUpperCase()+Qh.slice(1);Gi(i1,"on"+r1)}Gi(J0,"onAnimationEnd");Gi(X0,"onAnimationIteration");Gi(eE,"onAnimationStart");Gi("dblclick","onDoubleClick");Gi("focusin","onFocus");Gi("focusout","onBlur");Gi(tE,"onTransitionEnd");Ls("onMouseEnter",["mouseout","mouseover"]);Ls("onMouseLeave",["mouseout","mouseover"]);Ls("onPointerEnter",["pointerout","pointerover"]);Ls("onPointerLeave",["pointerout","pointerover"]);Fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uo));function yv(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,ik(i,e,void 0,t),t.currentTarget=null}function iE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var l=i.length-1;0<=l;l--){var u=i[l],h=u.instance,f=u.currentTarget;if(u=u.listener,h!==o&&r.isPropagationStopped())break e;yv(r,u,f),o=h}else for(l=0;l<i.length;l++){if(u=i[l],h=u.instance,f=u.currentTarget,u=u.listener,h!==o&&r.isPropagationStopped())break e;yv(r,u,f),o=h}}}if(uu)throw t=tf,uu=!1,tf=null,t}function Pe(t,e){var n=e[df];n===void 0&&(n=e[df]=new Set);var i=t+"__bubble";n.has(i)||(rE(e,t,2,!1),n.add(i))}function Jh(t,e,n){var i=0;e&&(i|=4),rE(n,t,i,e)}var Pl="_reactListening"+Math.random().toString(36).slice(2);function ha(t){if(!t[Pl]){t[Pl]=!0,h0.forEach(function(n){n!=="selectionchange"&&(s1.has(n)||Jh(n,!1,t),Jh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pl]||(e[Pl]=!0,Jh("selectionchange",!1,e))}}function rE(t,e,n,i){switch(j0(e)){case 1:var r=yk;break;case 4:r=wk;break;default:r=Up}n=r.bind(null,e,n,t),r=void 0,!ef||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Xh(t,e,n,i,r){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var u=i.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(l===4)for(l=i.return;l!==null;){var h=l.tag;if((h===3||h===4)&&(h=l.stateNode.containerInfo,h===r||h.nodeType===8&&h.parentNode===r))return;l=l.return}for(;u!==null;){if(l=ar(u),l===null)return;if(h=l.tag,h===5||h===6){i=o=l;continue e}u=u.parentNode}}i=i.return}x0(function(){var f=o,m=Op(n),_=[];e:{var v=nE.get(t);if(v!==void 0){var E=zp,w=t;switch(t){case"keypress":if(Vl(n)===0)break e;case"keydown":case"keyup":E=Mk;break;case"focusin":w="focus",E=Zh;break;case"focusout":w="blur",E=Zh;break;case"beforeblur":case"afterblur":E=Zh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=av;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=Sk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=Uk;break;case J0:case X0:case eE:E=Pk;break;case tE:E=zk;break;case"scroll":E=Ek;break;case"wheel":E=Hk;break;case"copy":case"cut":case"paste":E=kk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=uv}var C=(e&4)!==0,R=!C&&t==="scroll",T=C?v!==null?v+"Capture":null:v;C=[];for(var y=f,I;y!==null;){I=y;var b=I.stateNode;if(I.tag===5&&b!==null&&(I=b,T!==null&&(b=sa(y,T),b!=null&&C.push(da(y,b,I)))),R)break;y=y.return}0<C.length&&(v=new E(v,w,null,n,m),_.push({event:v,listeners:C}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",v&&n!==Jd&&(w=n.relatedTarget||n.fromElement)&&(ar(w)||w[ri]))break e;if((E||v)&&(v=m.window===m?m:(v=m.ownerDocument)?v.defaultView||v.parentWindow:window,E?(w=n.relatedTarget||n.toElement,E=f,w=w?ar(w):null,w!==null&&(R=Ur(w),w!==R||w.tag!==5&&w.tag!==6)&&(w=null)):(E=null,w=f),E!==w)){if(C=av,b="onMouseLeave",T="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(C=uv,b="onPointerLeave",T="onPointerEnter",y="pointer"),R=E==null?v:us(E),I=w==null?v:us(w),v=new C(b,y+"leave",E,n,m),v.target=R,v.relatedTarget=I,b=null,ar(m)===f&&(C=new C(T,y+"enter",w,n,m),C.target=I,C.relatedTarget=R,b=C),R=b,E&&w)t:{for(C=E,T=w,y=0,I=C;I;I=es(I))y++;for(I=0,b=T;b;b=es(b))I++;for(;0<y-I;)C=es(C),y--;for(;0<I-y;)T=es(T),I--;for(;y--;){if(C===T||T!==null&&C===T.alternate)break t;C=es(C),T=es(T)}C=null}else C=null;E!==null&&wv(_,v,E,C,!1),w!==null&&R!==null&&wv(_,R,w,C,!0)}}e:{if(v=f?us(f):window,E=v.nodeName&&v.nodeName.toLowerCase(),E==="select"||E==="input"&&v.type==="file")var U=Kk;else if(dv(v))if(q0)U=Xk;else{U=Qk;var z=Yk}else(E=v.nodeName)&&E.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(U=Jk);if(U&&(U=U(t,f))){Z0(_,U,n,m);break e}z&&z(t,v,f),t==="focusout"&&(z=v._wrapperState)&&z.controlled&&v.type==="number"&&qd(v,"number",v.value)}switch(z=f?us(f):window,t){case"focusin":(dv(z)||z.contentEditable==="true")&&(as=z,of=f,$o=null);break;case"focusout":$o=of=as=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,gv(_,n,m);break;case"selectionchange":if(n1)break;case"keydown":case"keyup":gv(_,n,m)}var H;if(Hp)e:{switch(t){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else os?V0(t,n)&&(W="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(W="onCompositionStart");W&&(W0&&n.locale!=="ko"&&(os||W!=="onCompositionStart"?W==="onCompositionEnd"&&os&&(H=H0()):(ki=m,Bp="value"in ki?ki.value:ki.textContent,os=!0)),z=pu(f,W),0<z.length&&(W=new lv(W,t,null,n,m),_.push({event:W,listeners:z}),H?W.data=H:(H=$0(n),H!==null&&(W.data=H)))),(H=Vk?$k(t,n):Zk(t,n))&&(f=pu(f,"onBeforeInput"),0<f.length&&(m=new lv("onBeforeInput","beforeinput",null,n,m),_.push({event:m,listeners:f}),m.data=H))}iE(_,e)})}function da(t,e,n){return{instance:t,listener:e,currentTarget:n}}function pu(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=sa(t,n),o!=null&&i.unshift(da(t,o,r)),o=sa(t,e),o!=null&&i.push(da(t,o,r))),t=t.return}return i}function es(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wv(t,e,n,i,r){for(var o=e._reactName,l=[];n!==null&&n!==i;){var u=n,h=u.alternate,f=u.stateNode;if(h!==null&&h===i)break;u.tag===5&&f!==null&&(u=f,r?(h=sa(n,o),h!=null&&l.unshift(da(n,h,u))):r||(h=sa(n,o),h!=null&&l.push(da(n,h,u)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var o1=/\r\n?/g,a1=/\u0000|\uFFFD/g;function Ev(t){return(typeof t=="string"?t:""+t).replace(o1,`
`).replace(a1,"")}function xl(t,e,n){if(e=Ev(e),Ev(t)!==e&&n)throw Error(F(425))}function mu(){}var lf=null,uf=null;function cf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hf=typeof setTimeout=="function"?setTimeout:void 0,l1=typeof clearTimeout=="function"?clearTimeout:void 0,Tv=typeof Promise=="function"?Promise:void 0,u1=typeof queueMicrotask=="function"?queueMicrotask:typeof Tv<"u"?function(t){return Tv.resolve(null).then(t).catch(c1)}:hf;function c1(t){setTimeout(function(){throw t})}function ed(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),la(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);la(e)}function Mi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Sv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),Rn="__reactFiber$"+Gs,fa="__reactProps$"+Gs,ri="__reactContainer$"+Gs,df="__reactEvents$"+Gs,h1="__reactListeners$"+Gs,d1="__reactHandles$"+Gs;function ar(t){var e=t[Rn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ri]||n[Rn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Sv(t);t!==null;){if(n=t[Rn])return n;t=Sv(t)}return e}t=n,n=t.parentNode}return null}function Ba(t){return t=t[Rn]||t[ri],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function us(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function fc(t){return t[fa]||null}var ff=[],cs=-1;function Ki(t){return{current:t}}function xe(t){0>cs||(t.current=ff[cs],ff[cs]=null,cs--)}function Ie(t,e){cs++,ff[cs]=t.current,t.current=e}var $i={},yt=Ki($i),Dt=Ki(!1),Er=$i;function As(t,e){var n=t.type.contextTypes;if(!n)return $i;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Ft(t){return t=t.childContextTypes,t!=null}function _u(){xe(Dt),xe(yt)}function Cv(t,e,n){if(yt.current!==$i)throw Error(F(168));Ie(yt,e),Ie(Dt,n)}function sE(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(F(108,Yx(t)||"Unknown",r));return Oe({},n,i)}function gu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$i,Er=yt.current,Ie(yt,t),Ie(Dt,Dt.current),!0}function Iv(t,e,n){var i=t.stateNode;if(!i)throw Error(F(169));n?(t=sE(t,e,Er),i.__reactInternalMemoizedMergedChildContext=t,xe(Dt),xe(yt),Ie(yt,t)):xe(Dt),Ie(Dt,n)}var Zn=null,pc=!1,td=!1;function oE(t){Zn===null?Zn=[t]:Zn.push(t)}function f1(t){pc=!0,oE(t)}function Yi(){if(!td&&Zn!==null){td=!0;var t=0,e=ge;try{var n=Zn;for(ge=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Zn=null,pc=!1}catch(r){throw Zn!==null&&(Zn=Zn.slice(t+1)),L0(Mp,Yi),r}finally{ge=e,td=!1}}return null}var hs=[],ds=0,vu=null,yu=0,Qt=[],Jt=0,Tr=null,qn=1,Gn="";function ir(t,e){hs[ds++]=yu,hs[ds++]=vu,vu=t,yu=e}function aE(t,e,n){Qt[Jt++]=qn,Qt[Jt++]=Gn,Qt[Jt++]=Tr,Tr=t;var i=qn;t=Gn;var r=32-_n(i)-1;i&=~(1<<r),n+=1;var o=32-_n(e)+r;if(30<o){var l=r-r%5;o=(i&(1<<l)-1).toString(32),i>>=l,r-=l,qn=1<<32-_n(e)+r|n<<r|i,Gn=o+t}else qn=1<<o|n<<r|i,Gn=t}function Vp(t){t.return!==null&&(ir(t,1),aE(t,1,0))}function $p(t){for(;t===vu;)vu=hs[--ds],hs[ds]=null,yu=hs[--ds],hs[ds]=null;for(;t===Tr;)Tr=Qt[--Jt],Qt[Jt]=null,Gn=Qt[--Jt],Qt[Jt]=null,qn=Qt[--Jt],Qt[Jt]=null}var Wt=null,Ht=null,Re=!1,dn=null;function lE(t,e){var n=Xt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Pv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wt=t,Ht=Mi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wt=t,Ht=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Tr!==null?{id:qn,overflow:Gn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wt=t,Ht=null,!0):!1;default:return!1}}function pf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function mf(t){if(Re){var e=Ht;if(e){var n=e;if(!Pv(t,e)){if(pf(t))throw Error(F(418));e=Mi(n.nextSibling);var i=Wt;e&&Pv(t,e)?lE(i,n):(t.flags=t.flags&-4097|2,Re=!1,Wt=t)}}else{if(pf(t))throw Error(F(418));t.flags=t.flags&-4097|2,Re=!1,Wt=t}}}function xv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wt=t}function kl(t){if(t!==Wt)return!1;if(!Re)return xv(t),Re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!cf(t.type,t.memoizedProps)),e&&(e=Ht)){if(pf(t))throw uE(),Error(F(418));for(;e;)lE(t,e),e=Mi(e.nextSibling)}if(xv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ht=Mi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ht=null}}else Ht=Wt?Mi(t.stateNode.nextSibling):null;return!0}function uE(){for(var t=Ht;t;)t=Mi(t.nextSibling)}function Ns(){Ht=Wt=null,Re=!1}function Zp(t){dn===null?dn=[t]:dn.push(t)}var p1=ui.ReactCurrentBatchConfig;function cn(t,e){if(t&&t.defaultProps){e=Oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var wu=Ki(null),Eu=null,fs=null,qp=null;function Gp(){qp=fs=Eu=null}function Kp(t){var e=wu.current;xe(wu),t._currentValue=e}function _f(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Ts(t,e){Eu=t,qp=fs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Nt=!0),t.firstContext=null)}function rn(t){var e=t._currentValue;if(qp!==t)if(t={context:t,memoizedValue:e,next:null},fs===null){if(Eu===null)throw Error(F(308));fs=t,Eu.dependencies={lanes:0,firstContext:t}}else fs=fs.next=t;return e}var lr=null;function Yp(t){lr===null?lr=[t]:lr.push(t)}function cE(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Yp(e)):(n.next=r.next,r.next=n),e.interleaved=n,si(t,i)}function si(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wi=!1;function Qp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Di(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,fe&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,si(t,n)}return r=i.interleaved,r===null?(e.next=e,Yp(i)):(e.next=r.next,r.next=e),i.interleaved=e,si(t,n)}function $l(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Dp(t,n)}}function kv(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?r=o=e:o=o.next=e}else r=o=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Tu(t,e,n,i){var r=t.updateQueue;wi=!1;var o=r.firstBaseUpdate,l=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var h=u,f=h.next;h.next=null,l===null?o=f:l.next=f,l=h;var m=t.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==l&&(u===null?m.firstBaseUpdate=f:u.next=f,m.lastBaseUpdate=h))}if(o!==null){var _=r.baseState;l=0,m=f=h=null,u=o;do{var v=u.lane,E=u.eventTime;if((i&v)===v){m!==null&&(m=m.next={eventTime:E,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var w=t,C=u;switch(v=e,E=n,C.tag){case 1:if(w=C.payload,typeof w=="function"){_=w.call(E,_,v);break e}_=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=C.payload,v=typeof w=="function"?w.call(E,_,v):w,v==null)break e;_=Oe({},_,v);break e;case 2:wi=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,v=r.effects,v===null?r.effects=[u]:v.push(u))}else E={eventTime:E,lane:v,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(f=m=E,h=_):m=m.next=E,l|=v;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;v=u,u=v.next,v.next=null,r.lastBaseUpdate=v,r.shared.pending=null}}while(1);if(m===null&&(h=_),r.baseState=h,r.firstBaseUpdate=f,r.lastBaseUpdate=m,e=r.shared.interleaved,e!==null){r=e;do l|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);Cr|=l,t.lanes=l,t.memoizedState=_}}function bv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(F(191,r));r.call(i)}}}var dE=new c0.Component().refs;function gf(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var mc={isMounted:function(t){return(t=t._reactInternals)?Ur(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=It(),r=Ui(t),o=Xn(i,r);o.payload=e,n!=null&&(o.callback=n),e=Di(t,o,r),e!==null&&(gn(e,t,r,i),$l(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=It(),r=Ui(t),o=Xn(i,r);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Di(t,o,r),e!==null&&(gn(e,t,r,i),$l(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=It(),i=Ui(t),r=Xn(n,i);r.tag=2,e!=null&&(r.callback=e),e=Di(t,r,i),e!==null&&(gn(e,t,i,n),$l(e,t,i))}};function Rv(t,e,n,i,r,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,l):e.prototype&&e.prototype.isPureReactComponent?!ca(n,i)||!ca(r,o):!0}function fE(t,e,n){var i=!1,r=$i,o=e.contextType;return typeof o=="object"&&o!==null?o=rn(o):(r=Ft(e)?Er:yt.current,i=e.contextTypes,o=(i=i!=null)?As(t,r):$i),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mc,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function Lv(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&mc.enqueueReplaceState(e,e.state,null)}function vf(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=dE,Qp(t);var o=e.contextType;typeof o=="object"&&o!==null?r.context=rn(o):(o=Ft(e)?Er:yt.current,r.context=As(t,o)),r.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(gf(t,e,o,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&mc.enqueueReplaceState(r,r.state,null),Tu(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function So(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var i=n.stateNode}if(!i)throw Error(F(147,t));var r=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var u=r.refs;u===dE&&(u=r.refs={}),l===null?delete u[o]:u[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function bl(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Av(t){var e=t._init;return e(t._payload)}function pE(t){function e(T,y){if(t){var I=T.deletions;I===null?(T.deletions=[y],T.flags|=16):I.push(y)}}function n(T,y){if(!t)return null;for(;y!==null;)e(T,y),y=y.sibling;return null}function i(T,y){for(T=new Map;y!==null;)y.key!==null?T.set(y.key,y):T.set(y.index,y),y=y.sibling;return T}function r(T,y){return T=Bi(T,y),T.index=0,T.sibling=null,T}function o(T,y,I){return T.index=I,t?(I=T.alternate,I!==null?(I=I.index,I<y?(T.flags|=2,y):I):(T.flags|=2,y)):(T.flags|=1048576,y)}function l(T){return t&&T.alternate===null&&(T.flags|=2),T}function u(T,y,I,b){return y===null||y.tag!==6?(y=ld(I,T.mode,b),y.return=T,y):(y=r(y,I),y.return=T,y)}function h(T,y,I,b){var U=I.type;return U===ss?m(T,y,I.props.children,b,I.key):y!==null&&(y.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===yi&&Av(U)===y.type)?(b=r(y,I.props),b.ref=So(T,y,I),b.return=T,b):(b=Ql(I.type,I.key,I.props,null,T.mode,b),b.ref=So(T,y,I),b.return=T,b)}function f(T,y,I,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==I.containerInfo||y.stateNode.implementation!==I.implementation?(y=ud(I,T.mode,b),y.return=T,y):(y=r(y,I.children||[]),y.return=T,y)}function m(T,y,I,b,U){return y===null||y.tag!==7?(y=mr(I,T.mode,b,U),y.return=T,y):(y=r(y,I),y.return=T,y)}function _(T,y,I){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ld(""+y,T.mode,I),y.return=T,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case vl:return I=Ql(y.type,y.key,y.props,null,T.mode,I),I.ref=So(T,null,y),I.return=T,I;case rs:return y=ud(y,T.mode,I),y.return=T,y;case yi:var b=y._init;return _(T,b(y._payload),I)}if(Do(y)||vo(y))return y=mr(y,T.mode,I,null),y.return=T,y;bl(T,y)}return null}function v(T,y,I,b){var U=y!==null?y.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return U!==null?null:u(T,y,""+I,b);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case vl:return I.key===U?h(T,y,I,b):null;case rs:return I.key===U?f(T,y,I,b):null;case yi:return U=I._init,v(T,y,U(I._payload),b)}if(Do(I)||vo(I))return U!==null?null:m(T,y,I,b,null);bl(T,I)}return null}function E(T,y,I,b,U){if(typeof b=="string"&&b!==""||typeof b=="number")return T=T.get(I)||null,u(y,T,""+b,U);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case vl:return T=T.get(b.key===null?I:b.key)||null,h(y,T,b,U);case rs:return T=T.get(b.key===null?I:b.key)||null,f(y,T,b,U);case yi:var z=b._init;return E(T,y,I,z(b._payload),U)}if(Do(b)||vo(b))return T=T.get(I)||null,m(y,T,b,U,null);bl(y,b)}return null}function w(T,y,I,b){for(var U=null,z=null,H=y,W=y=0,he=null;H!==null&&W<I.length;W++){H.index>W?(he=H,H=null):he=H.sibling;var X=v(T,H,I[W],b);if(X===null){H===null&&(H=he);break}t&&H&&X.alternate===null&&e(T,H),y=o(X,y,W),z===null?U=X:z.sibling=X,z=X,H=he}if(W===I.length)return n(T,H),Re&&ir(T,W),U;if(H===null){for(;W<I.length;W++)H=_(T,I[W],b),H!==null&&(y=o(H,y,W),z===null?U=H:z.sibling=H,z=H);return Re&&ir(T,W),U}for(H=i(T,H);W<I.length;W++)he=E(H,T,W,I[W],b),he!==null&&(t&&he.alternate!==null&&H.delete(he.key===null?W:he.key),y=o(he,y,W),z===null?U=he:z.sibling=he,z=he);return t&&H.forEach(function(G){return e(T,G)}),Re&&ir(T,W),U}function C(T,y,I,b){var U=vo(I);if(typeof U!="function")throw Error(F(150));if(I=U.call(I),I==null)throw Error(F(151));for(var z=U=null,H=y,W=y=0,he=null,X=I.next();H!==null&&!X.done;W++,X=I.next()){H.index>W?(he=H,H=null):he=H.sibling;var G=v(T,H,X.value,b);if(G===null){H===null&&(H=he);break}t&&H&&G.alternate===null&&e(T,H),y=o(G,y,W),z===null?U=G:z.sibling=G,z=G,H=he}if(X.done)return n(T,H),Re&&ir(T,W),U;if(H===null){for(;!X.done;W++,X=I.next())X=_(T,X.value,b),X!==null&&(y=o(X,y,W),z===null?U=X:z.sibling=X,z=X);return Re&&ir(T,W),U}for(H=i(T,H);!X.done;W++,X=I.next())X=E(H,T,W,X.value,b),X!==null&&(t&&X.alternate!==null&&H.delete(X.key===null?W:X.key),y=o(X,y,W),z===null?U=X:z.sibling=X,z=X);return t&&H.forEach(function($){return e(T,$)}),Re&&ir(T,W),U}function R(T,y,I,b){if(typeof I=="object"&&I!==null&&I.type===ss&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case vl:e:{for(var U=I.key,z=y;z!==null;){if(z.key===U){if(U=I.type,U===ss){if(z.tag===7){n(T,z.sibling),y=r(z,I.props.children),y.return=T,T=y;break e}}else if(z.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===yi&&Av(U)===z.type){n(T,z.sibling),y=r(z,I.props),y.ref=So(T,z,I),y.return=T,T=y;break e}n(T,z);break}else e(T,z);z=z.sibling}I.type===ss?(y=mr(I.props.children,T.mode,b,I.key),y.return=T,T=y):(b=Ql(I.type,I.key,I.props,null,T.mode,b),b.ref=So(T,y,I),b.return=T,T=b)}return l(T);case rs:e:{for(z=I.key;y!==null;){if(y.key===z)if(y.tag===4&&y.stateNode.containerInfo===I.containerInfo&&y.stateNode.implementation===I.implementation){n(T,y.sibling),y=r(y,I.children||[]),y.return=T,T=y;break e}else{n(T,y);break}else e(T,y);y=y.sibling}y=ud(I,T.mode,b),y.return=T,T=y}return l(T);case yi:return z=I._init,R(T,y,z(I._payload),b)}if(Do(I))return w(T,y,I,b);if(vo(I))return C(T,y,I,b);bl(T,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,y!==null&&y.tag===6?(n(T,y.sibling),y=r(y,I),y.return=T,T=y):(n(T,y),y=ld(I,T.mode,b),y.return=T,T=y),l(T)):n(T,y)}return R}var Os=pE(!0),mE=pE(!1),za={},Mn=Ki(za),pa=Ki(za),ma=Ki(za);function ur(t){if(t===za)throw Error(F(174));return t}function Jp(t,e){switch(Ie(ma,e),Ie(pa,t),Ie(Mn,za),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Kd(e,t)}xe(Mn),Ie(Mn,e)}function Ms(){xe(Mn),xe(pa),xe(ma)}function _E(t){ur(ma.current);var e=ur(Mn.current),n=Kd(e,t.type);e!==n&&(Ie(pa,t),Ie(Mn,n))}function Xp(t){pa.current===t&&(xe(Mn),xe(pa))}var Ae=Ki(0);function Su(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nd=[];function em(){for(var t=0;t<nd.length;t++)nd[t]._workInProgressVersionPrimary=null;nd.length=0}var Zl=ui.ReactCurrentDispatcher,id=ui.ReactCurrentBatchConfig,Sr=0,Ne=null,Ye=null,nt=null,Cu=!1,Zo=!1,_a=0,m1=0;function _t(){throw Error(F(321))}function tm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yn(t[n],e[n]))return!1;return!0}function nm(t,e,n,i,r,o){if(Sr=o,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zl.current=t===null||t.memoizedState===null?y1:w1,t=n(i,r),Zo){o=0;do{if(Zo=!1,_a=0,25<=o)throw Error(F(301));o+=1,nt=Ye=null,e.updateQueue=null,Zl.current=E1,t=n(i,r)}while(Zo)}if(Zl.current=Iu,e=Ye!==null&&Ye.next!==null,Sr=0,nt=Ye=Ne=null,Cu=!1,e)throw Error(F(300));return t}function im(){var t=_a!==0;return _a=0,t}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Ne.memoizedState=nt=t:nt=nt.next=t,nt}function sn(){if(Ye===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var e=nt===null?Ne.memoizedState:nt.next;if(e!==null)nt=e,Ye=t;else{if(t===null)throw Error(F(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},nt===null?Ne.memoizedState=nt=t:nt=nt.next=t}return nt}function ga(t,e){return typeof e=="function"?e(t):e}function rd(t){var e=sn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var i=Ye,r=i.baseQueue,o=n.pending;if(o!==null){if(r!==null){var l=r.next;r.next=o.next,o.next=l}i.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,i=i.baseState;var u=l=null,h=null,f=o;do{var m=f.lane;if((Sr&m)===m)h!==null&&(h=h.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:t(i,f.action);else{var _={lane:m,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};h===null?(u=h=_,l=i):h=h.next=_,Ne.lanes|=m,Cr|=m}f=f.next}while(f!==null&&f!==o);h===null?l=i:h.next=u,yn(i,e.memoizedState)||(Nt=!0),e.memoizedState=i,e.baseState=l,e.baseQueue=h,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do o=r.lane,Ne.lanes|=o,Cr|=o,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function sd(t){var e=sn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do o=t(o,l.action),l=l.next;while(l!==r);yn(o,e.memoizedState)||(Nt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function gE(){}function vE(t,e){var n=Ne,i=sn(),r=e(),o=!yn(i.memoizedState,r);if(o&&(i.memoizedState=r,Nt=!0),i=i.queue,rm(EE.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||nt!==null&&nt.memoizedState.tag&1){if(n.flags|=2048,va(9,wE.bind(null,n,i,r,e),void 0,null),ot===null)throw Error(F(349));Sr&30||yE(n,e,r)}return r}function yE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function wE(t,e,n,i){e.value=n,e.getSnapshot=i,TE(e)&&SE(t)}function EE(t,e,n){return n(function(){TE(e)&&SE(t)})}function TE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yn(t,n)}catch{return!0}}function SE(t){var e=si(t,1);e!==null&&gn(e,t,1,-1)}function Nv(t){var e=bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:t},e.queue=t,t=t.dispatch=v1.bind(null,Ne,t),[e.memoizedState,t]}function va(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function CE(){return sn().memoizedState}function ql(t,e,n,i){var r=bn();Ne.flags|=t,r.memoizedState=va(1|e,n,void 0,i===void 0?null:i)}function _c(t,e,n,i){var r=sn();i=i===void 0?null:i;var o=void 0;if(Ye!==null){var l=Ye.memoizedState;if(o=l.destroy,i!==null&&tm(i,l.deps)){r.memoizedState=va(e,n,o,i);return}}Ne.flags|=t,r.memoizedState=va(1|e,n,o,i)}function Ov(t,e){return ql(8390656,8,t,e)}function rm(t,e){return _c(2048,8,t,e)}function IE(t,e){return _c(4,2,t,e)}function PE(t,e){return _c(4,4,t,e)}function xE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kE(t,e,n){return n=n!=null?n.concat([t]):null,_c(4,4,xE.bind(null,e,t),n)}function sm(){}function bE(t,e){var n=sn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&tm(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function RE(t,e){var n=sn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&tm(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function LE(t,e,n){return Sr&21?(yn(n,e)||(n=O0(),Ne.lanes|=n,Cr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Nt=!0),t.memoizedState=n)}function _1(t,e){var n=ge;ge=n!==0&&4>n?n:4,t(!0);var i=id.transition;id.transition={};try{t(!1),e()}finally{ge=n,id.transition=i}}function AE(){return sn().memoizedState}function g1(t,e,n){var i=Ui(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},NE(t))OE(e,n);else if(n=cE(t,e,n,i),n!==null){var r=It();gn(n,t,i,r),ME(n,e,i)}}function v1(t,e,n){var i=Ui(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(NE(t))OE(e,r);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,u=o(l,n);if(r.hasEagerState=!0,r.eagerState=u,yn(u,l)){var h=e.interleaved;h===null?(r.next=r,Yp(e)):(r.next=h.next,h.next=r),e.interleaved=r;return}}catch{}finally{}n=cE(t,e,r,i),n!==null&&(r=It(),gn(n,t,i,r),ME(n,e,i))}}function NE(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function OE(t,e){Zo=Cu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ME(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Dp(t,n)}}var Iu={readContext:rn,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},y1={readContext:rn,useCallback:function(t,e){return bn().memoizedState=[t,e===void 0?null:e],t},useContext:rn,useEffect:Ov,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ql(4194308,4,xE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ql(4194308,4,t,e)},useInsertionEffect:function(t,e){return ql(4,2,t,e)},useMemo:function(t,e){var n=bn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=bn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=g1.bind(null,Ne,t),[i.memoizedState,t]},useRef:function(t){var e=bn();return t={current:t},e.memoizedState=t},useState:Nv,useDebugValue:sm,useDeferredValue:function(t){return bn().memoizedState=t},useTransition:function(){var t=Nv(!1),e=t[0];return t=_1.bind(null,t[1]),bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Ne,r=bn();if(Re){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),ot===null)throw Error(F(349));Sr&30||yE(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,Ov(EE.bind(null,i,o,t),[t]),i.flags|=2048,va(9,wE.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=bn(),e=ot.identifierPrefix;if(Re){var n=Gn,i=qn;n=(i&~(1<<32-_n(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=_a++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=m1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},w1={readContext:rn,useCallback:bE,useContext:rn,useEffect:rm,useImperativeHandle:kE,useInsertionEffect:IE,useLayoutEffect:PE,useMemo:RE,useReducer:rd,useRef:CE,useState:function(){return rd(ga)},useDebugValue:sm,useDeferredValue:function(t){var e=sn();return LE(e,Ye.memoizedState,t)},useTransition:function(){var t=rd(ga)[0],e=sn().memoizedState;return[t,e]},useMutableSource:gE,useSyncExternalStore:vE,useId:AE,unstable_isNewReconciler:!1},E1={readContext:rn,useCallback:bE,useContext:rn,useEffect:rm,useImperativeHandle:kE,useInsertionEffect:IE,useLayoutEffect:PE,useMemo:RE,useReducer:sd,useRef:CE,useState:function(){return sd(ga)},useDebugValue:sm,useDeferredValue:function(t){var e=sn();return Ye===null?e.memoizedState=t:LE(e,Ye.memoizedState,t)},useTransition:function(){var t=sd(ga)[0],e=sn().memoizedState;return[t,e]},useMutableSource:gE,useSyncExternalStore:vE,useId:AE,unstable_isNewReconciler:!1};function Ds(t,e){try{var n="",i=e;do n+=Kx(i),i=i.return;while(i);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:r,digest:null}}function od(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function yf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var T1=typeof WeakMap=="function"?WeakMap:Map;function DE(t,e,n){n=Xn(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){xu||(xu=!0,bf=i),yf(t,e)},n}function FE(t,e,n){n=Xn(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){yf(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){yf(t,e),typeof i!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Mv(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new T1;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=D1.bind(null,t,e,n),e.then(t,t))}function Dv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Fv(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xn(-1,1),e.tag=2,Di(n,e,1))),n.lanes|=1),t)}var S1=ui.ReactCurrentOwner,Nt=!1;function St(t,e,n,i){e.child=t===null?mE(e,null,n,i):Os(e,t.child,n,i)}function Uv(t,e,n,i,r){n=n.render;var o=e.ref;return Ts(e,r),i=nm(t,e,n,i,o,r),n=im(),t!==null&&!Nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,oi(t,e,r)):(Re&&n&&Vp(e),e.flags|=1,St(t,e,i,r),e.child)}function Bv(t,e,n,i,r){if(t===null){var o=n.type;return typeof o=="function"&&!fm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,UE(t,e,o,i,r)):(t=Ql(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&r)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:ca,n(l,i)&&t.ref===e.ref)return oi(t,e,r)}return e.flags|=1,t=Bi(o,i),t.ref=e.ref,t.return=e,e.child=t}function UE(t,e,n,i,r){if(t!==null){var o=t.memoizedProps;if(ca(o,i)&&t.ref===e.ref)if(Nt=!1,e.pendingProps=i=o,(t.lanes&r)!==0)t.flags&131072&&(Nt=!0);else return e.lanes=t.lanes,oi(t,e,r)}return wf(t,e,n,i,r)}function BE(t,e,n){var i=e.pendingProps,r=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(ms,jt),jt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ie(ms,jt),jt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,Ie(ms,jt),jt|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,Ie(ms,jt),jt|=i;return St(t,e,r,n),e.child}function zE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function wf(t,e,n,i,r){var o=Ft(n)?Er:yt.current;return o=As(e,o),Ts(e,r),n=nm(t,e,n,i,o,r),i=im(),t!==null&&!Nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,oi(t,e,r)):(Re&&i&&Vp(e),e.flags|=1,St(t,e,n,r),e.child)}function zv(t,e,n,i,r){if(Ft(n)){var o=!0;gu(e)}else o=!1;if(Ts(e,r),e.stateNode===null)Gl(t,e),fE(e,n,i),vf(e,n,i,r),i=!0;else if(t===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var h=l.context,f=n.contextType;typeof f=="object"&&f!==null?f=rn(f):(f=Ft(n)?Er:yt.current,f=As(e,f));var m=n.getDerivedStateFromProps,_=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";_||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==i||h!==f)&&Lv(e,l,i,f),wi=!1;var v=e.memoizedState;l.state=v,Tu(e,i,l,r),h=e.memoizedState,u!==i||v!==h||Dt.current||wi?(typeof m=="function"&&(gf(e,n,m,i),h=e.memoizedState),(u=wi||Rv(e,n,u,i,v,h,f))?(_||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=h),l.props=i,l.state=h,l.context=f,i=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{l=e.stateNode,hE(t,e),u=e.memoizedProps,f=e.type===e.elementType?u:cn(e.type,u),l.props=f,_=e.pendingProps,v=l.context,h=n.contextType,typeof h=="object"&&h!==null?h=rn(h):(h=Ft(n)?Er:yt.current,h=As(e,h));var E=n.getDerivedStateFromProps;(m=typeof E=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==_||v!==h)&&Lv(e,l,i,h),wi=!1,v=e.memoizedState,l.state=v,Tu(e,i,l,r);var w=e.memoizedState;u!==_||v!==w||Dt.current||wi?(typeof E=="function"&&(gf(e,n,E,i),w=e.memoizedState),(f=wi||Rv(e,n,f,i,v,w,h)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,w,h),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,w,h)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=w),l.props=i,l.state=w,l.context=h,i=f):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),i=!1)}return Ef(t,e,n,i,o,r)}function Ef(t,e,n,i,r,o){zE(t,e);var l=(e.flags&128)!==0;if(!i&&!l)return r&&Iv(e,n,!1),oi(t,e,o);i=e.stateNode,S1.current=e;var u=l&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&l?(e.child=Os(e,t.child,null,o),e.child=Os(e,null,u,o)):St(t,e,u,o),e.memoizedState=i.state,r&&Iv(e,n,!0),e.child}function jE(t){var e=t.stateNode;e.pendingContext?Cv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Cv(t,e.context,!1),Jp(t,e.containerInfo)}function jv(t,e,n,i,r){return Ns(),Zp(r),e.flags|=256,St(t,e,n,i),e.child}var Tf={dehydrated:null,treeContext:null,retryLane:0};function Sf(t){return{baseLanes:t,cachePool:null,transitions:null}}function HE(t,e,n){var i=e.pendingProps,r=Ae.current,o=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=t!==null&&t.memoizedState===null?!1:(r&2)!==0),u?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Ie(Ae,r&1),t===null)return mf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=i.children,t=i.fallback,o?(i=e.mode,o=e.child,l={mode:"hidden",children:l},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=yc(l,i,0,null),t=mr(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Sf(n),e.memoizedState=Tf,t):om(e,l));if(r=t.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return C1(t,e,l,i,u,r,n);if(o){o=i.fallback,l=e.mode,r=t.child,u=r.sibling;var h={mode:"hidden",children:i.children};return!(l&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=h,e.deletions=null):(i=Bi(r,h),i.subtreeFlags=r.subtreeFlags&14680064),u!==null?o=Bi(u,o):(o=mr(o,l,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,l=t.child.memoizedState,l=l===null?Sf(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=Tf,i}return o=t.child,t=o.sibling,i=Bi(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function om(t,e){return e=yc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Rl(t,e,n,i){return i!==null&&Zp(i),Os(e,t.child,null,n),t=om(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function C1(t,e,n,i,r,o,l){if(n)return e.flags&256?(e.flags&=-257,i=od(Error(F(422))),Rl(t,e,l,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=yc({mode:"visible",children:i.children},r,0,null),o=mr(o,r,l,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&Os(e,t.child,null,l),e.child.memoizedState=Sf(l),e.memoizedState=Tf,o);if(!(e.mode&1))return Rl(t,e,l,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var u=i.dgst;return i=u,o=Error(F(419)),i=od(o,i,void 0),Rl(t,e,l,i)}if(u=(l&t.childLanes)!==0,Nt||u){if(i=ot,i!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|l)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,si(t,r),gn(i,t,r,-1))}return dm(),i=od(Error(F(421))),Rl(t,e,l,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=F1.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,Ht=Mi(r.nextSibling),Wt=e,Re=!0,dn=null,t!==null&&(Qt[Jt++]=qn,Qt[Jt++]=Gn,Qt[Jt++]=Tr,qn=t.id,Gn=t.overflow,Tr=e),e=om(e,i.children),e.flags|=4096,e)}function Hv(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),_f(t.return,e,n)}function ad(t,e,n,i,r){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function WE(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(St(t,e,i.children,n),i=Ae.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hv(t,n,e);else if(t.tag===19)Hv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Ie(Ae,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Su(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),ad(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Su(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}ad(e,!0,n,null,o);break;case"together":ad(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function oi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=Bi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function I1(t,e,n){switch(e.tag){case 3:jE(e),Ns();break;case 5:_E(e);break;case 1:Ft(e.type)&&gu(e);break;case 4:Jp(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Ie(wu,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ie(Ae,Ae.current&1),e.flags|=128,null):n&e.child.childLanes?HE(t,e,n):(Ie(Ae,Ae.current&1),t=oi(t,e,n),t!==null?t.sibling:null);Ie(Ae,Ae.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return WE(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ie(Ae,Ae.current),i)break;return null;case 22:case 23:return e.lanes=0,BE(t,e,n)}return oi(t,e,n)}var VE,Cf,$E,ZE;VE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cf=function(){};$E=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,ur(Mn.current);var o=null;switch(n){case"input":r=$d(t,r),i=$d(t,i),o=[];break;case"select":r=Oe({},r,{value:void 0}),i=Oe({},i,{value:void 0}),o=[];break;case"textarea":r=Gd(t,r),i=Gd(t,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=mu)}Yd(n,i);var l;n=null;for(f in r)if(!i.hasOwnProperty(f)&&r.hasOwnProperty(f)&&r[f]!=null)if(f==="style"){var u=r[f];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(ia.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in i){var h=i[f];if(u=r!=null?r[f]:void 0,i.hasOwnProperty(f)&&h!==u&&(h!=null||u!=null))if(f==="style")if(u){for(l in u)!u.hasOwnProperty(l)||h&&h.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in h)h.hasOwnProperty(l)&&u[l]!==h[l]&&(n||(n={}),n[l]=h[l])}else n||(o||(o=[]),o.push(f,n)),n=h;else f==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(o=o||[]).push(f,h)):f==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(f,""+h):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(ia.hasOwnProperty(f)?(h!=null&&f==="onScroll"&&Pe("scroll",t),o||u===h||(o=[])):(o=o||[]).push(f,h))}n&&(o=o||[]).push("style",n);var f=o;(e.updateQueue=f)&&(e.flags|=4)}};ZE=function(t,e,n,i){n!==i&&(e.flags|=4)};function Co(t,e){if(!Re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function P1(t,e,n){var i=e.pendingProps;switch($p(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(e),null;case 1:return Ft(e.type)&&_u(),gt(e),null;case 3:return i=e.stateNode,Ms(),xe(Dt),xe(yt),em(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(kl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dn!==null&&(Af(dn),dn=null))),Cf(t,e),gt(e),null;case 5:Xp(e);var r=ur(ma.current);if(n=e.type,t!==null&&e.stateNode!=null)$E(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(F(166));return gt(e),null}if(t=ur(Mn.current),kl(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[Rn]=e,i[fa]=o,t=(e.mode&1)!==0,n){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(r=0;r<Uo.length;r++)Pe(Uo[r],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Qg(i,o),Pe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Pe("invalid",i);break;case"textarea":Xg(i,o),Pe("invalid",i)}Yd(n,o),r=null;for(var l in o)if(o.hasOwnProperty(l)){var u=o[l];l==="children"?typeof u=="string"?i.textContent!==u&&(o.suppressHydrationWarning!==!0&&xl(i.textContent,u,t),r=["children",u]):typeof u=="number"&&i.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&xl(i.textContent,u,t),r=["children",""+u]):ia.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&Pe("scroll",i)}switch(n){case"input":yl(i),Jg(i,o,!0);break;case"textarea":yl(i),ev(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=mu)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=y0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),n==="select"&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[Rn]=e,t[fa]=i,VE(t,e,!1,!1),e.stateNode=t;e:{switch(l=Qd(n,i),n){case"dialog":Pe("cancel",t),Pe("close",t),r=i;break;case"iframe":case"object":case"embed":Pe("load",t),r=i;break;case"video":case"audio":for(r=0;r<Uo.length;r++)Pe(Uo[r],t);r=i;break;case"source":Pe("error",t),r=i;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),r=i;break;case"details":Pe("toggle",t),r=i;break;case"input":Qg(t,i),r=$d(t,i),Pe("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Oe({},i,{value:void 0}),Pe("invalid",t);break;case"textarea":Xg(t,i),r=Gd(t,i),Pe("invalid",t);break;default:r=i}Yd(n,r),u=r;for(o in u)if(u.hasOwnProperty(o)){var h=u[o];o==="style"?T0(t,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&w0(t,h)):o==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&ra(t,h):typeof h=="number"&&ra(t,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ia.hasOwnProperty(o)?h!=null&&o==="onScroll"&&Pe("scroll",t):h!=null&&Rp(t,o,h,l))}switch(n){case"input":yl(t),Jg(t,i,!1);break;case"textarea":yl(t),ev(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Vi(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?vs(t,!!i.multiple,o,!1):i.defaultValue!=null&&vs(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=mu)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gt(e),null;case 6:if(t&&e.stateNode!=null)ZE(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(F(166));if(n=ur(ma.current),ur(Mn.current),kl(e)){if(i=e.stateNode,n=e.memoizedProps,i[Rn]=e,(o=i.nodeValue!==n)&&(t=Wt,t!==null))switch(t.tag){case 3:xl(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xl(i.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Rn]=e,e.stateNode=i}return gt(e),null;case 13:if(xe(Ae),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&Ht!==null&&e.mode&1&&!(e.flags&128))uE(),Ns(),e.flags|=98560,o=!1;else if(o=kl(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(F(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(F(317));o[Rn]=e}else Ns(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gt(e),o=!1}else dn!==null&&(Af(dn),dn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Ae.current&1?Qe===0&&(Qe=3):dm())),e.updateQueue!==null&&(e.flags|=4),gt(e),null);case 4:return Ms(),Cf(t,e),t===null&&ha(e.stateNode.containerInfo),gt(e),null;case 10:return Kp(e.type._context),gt(e),null;case 17:return Ft(e.type)&&_u(),gt(e),null;case 19:if(xe(Ae),o=e.memoizedState,o===null)return gt(e),null;if(i=(e.flags&128)!==0,l=o.rendering,l===null)if(i)Co(o,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=Su(t),l!==null){for(e.flags|=128,Co(o,!1),i=l.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,t=i,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ie(Ae,Ae.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ve()>Fs&&(e.flags|=128,i=!0,Co(o,!1),e.lanes=4194304)}else{if(!i)if(t=Su(l),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Co(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Re)return gt(e),null}else 2*Ve()-o.renderingStartTime>Fs&&n!==1073741824&&(e.flags|=128,i=!0,Co(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(n=o.last,n!==null?n.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ve(),e.sibling=null,n=Ae.current,Ie(Ae,i?n&1|2:n&1),e):(gt(e),null);case 22:case 23:return hm(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?jt&1073741824&&(gt(e),e.subtreeFlags&6&&(e.flags|=8192)):gt(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function x1(t,e){switch($p(e),e.tag){case 1:return Ft(e.type)&&_u(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ms(),xe(Dt),xe(yt),em(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xp(e),null;case 13:if(xe(Ae),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));Ns()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xe(Ae),null;case 4:return Ms(),null;case 10:return Kp(e.type._context),null;case 22:case 23:return hm(),null;case 24:return null;default:return null}}var Ll=!1,vt=!1,k1=typeof WeakSet=="function"?WeakSet:Set,V=null;function ps(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){De(t,e,i)}else n.current=null}function If(t,e,n){try{n()}catch(i){De(t,e,i)}}var Wv=!1;function b1(t,e){if(lf=du,t=Y0(),Wp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,u=-1,h=-1,f=0,m=0,_=t,v=null;t:for(;;){for(var E;_!==n||r!==0&&_.nodeType!==3||(u=l+r),_!==o||i!==0&&_.nodeType!==3||(h=l+i),_.nodeType===3&&(l+=_.nodeValue.length),(E=_.firstChild)!==null;)v=_,_=E;for(;;){if(_===t)break t;if(v===n&&++f===r&&(u=l),v===o&&++m===i&&(h=l),(E=_.nextSibling)!==null)break;_=v,v=_.parentNode}_=E}n=u===-1||h===-1?null:{start:u,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(uf={focusedElem:t,selectionRange:n},du=!1,V=e;V!==null;)if(e=V,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,V=t;else for(;V!==null;){e=V;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var C=w.memoizedProps,R=w.memoizedState,T=e.stateNode,y=T.getSnapshotBeforeUpdate(e.elementType===e.type?C:cn(e.type,C),R);T.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(b){De(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,V=t;break}V=e.return}return w=Wv,Wv=!1,w}function qo(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,o!==void 0&&If(e,n,o)}r=r.next}while(r!==i)}}function gc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Pf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function qE(t){var e=t.alternate;e!==null&&(t.alternate=null,qE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Rn],delete e[fa],delete e[df],delete e[h1],delete e[d1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function GE(t){return t.tag===5||t.tag===3||t.tag===4}function Vv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||GE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=mu));else if(i!==4&&(t=t.child,t!==null))for(xf(t,e,n),t=t.sibling;t!==null;)xf(t,e,n),t=t.sibling}function kf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(kf(t,e,n),t=t.sibling;t!==null;)kf(t,e,n),t=t.sibling}var ct=null,hn=!1;function _i(t,e,n){for(n=n.child;n!==null;)KE(t,e,n),n=n.sibling}function KE(t,e,n){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(uc,n)}catch{}switch(n.tag){case 5:vt||ps(n,e);case 6:var i=ct,r=hn;ct=null,_i(t,e,n),ct=i,hn=r,ct!==null&&(hn?(t=ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ct.removeChild(n.stateNode));break;case 18:ct!==null&&(hn?(t=ct,n=n.stateNode,t.nodeType===8?ed(t.parentNode,n):t.nodeType===1&&ed(t,n),la(t)):ed(ct,n.stateNode));break;case 4:i=ct,r=hn,ct=n.stateNode.containerInfo,hn=!0,_i(t,e,n),ct=i,hn=r;break;case 0:case 11:case 14:case 15:if(!vt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&If(n,e,l),r=r.next}while(r!==i)}_i(t,e,n);break;case 1:if(!vt&&(ps(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(u){De(n,e,u)}_i(t,e,n);break;case 21:_i(t,e,n);break;case 22:n.mode&1?(vt=(i=vt)||n.memoizedState!==null,_i(t,e,n),vt=i):_i(t,e,n);break;default:_i(t,e,n)}}function $v(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new k1),e.forEach(function(i){var r=U1.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function un(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:ct=u.stateNode,hn=!1;break e;case 3:ct=u.stateNode.containerInfo,hn=!0;break e;case 4:ct=u.stateNode.containerInfo,hn=!0;break e}u=u.return}if(ct===null)throw Error(F(160));KE(o,l,r),ct=null,hn=!1;var h=r.alternate;h!==null&&(h.return=null),r.return=null}catch(f){De(r,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)YE(e,t),e=e.sibling}function YE(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(un(e,t),kn(t),i&4){try{qo(3,t,t.return),gc(3,t)}catch(C){De(t,t.return,C)}try{qo(5,t,t.return)}catch(C){De(t,t.return,C)}}break;case 1:un(e,t),kn(t),i&512&&n!==null&&ps(n,n.return);break;case 5:if(un(e,t),kn(t),i&512&&n!==null&&ps(n,n.return),t.flags&32){var r=t.stateNode;try{ra(r,"")}catch(C){De(t,t.return,C)}}if(i&4&&(r=t.stateNode,r!=null)){var o=t.memoizedProps,l=n!==null?n.memoizedProps:o,u=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&g0(r,o),Qd(u,l);var f=Qd(u,o);for(l=0;l<h.length;l+=2){var m=h[l],_=h[l+1];m==="style"?T0(r,_):m==="dangerouslySetInnerHTML"?w0(r,_):m==="children"?ra(r,_):Rp(r,m,_,f)}switch(u){case"input":Zd(r,o);break;case"textarea":v0(r,o);break;case"select":var v=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var E=o.value;E!=null?vs(r,!!o.multiple,E,!1):v!==!!o.multiple&&(o.defaultValue!=null?vs(r,!!o.multiple,o.defaultValue,!0):vs(r,!!o.multiple,o.multiple?[]:"",!1))}r[fa]=o}catch(C){De(t,t.return,C)}}break;case 6:if(un(e,t),kn(t),i&4){if(t.stateNode===null)throw Error(F(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(C){De(t,t.return,C)}}break;case 3:if(un(e,t),kn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{la(e.containerInfo)}catch(C){De(t,t.return,C)}break;case 4:un(e,t),kn(t);break;case 13:un(e,t),kn(t),r=t.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(um=Ve())),i&4&&$v(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(vt=(f=vt)||m,un(e,t),vt=f):un(e,t),kn(t),i&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!m&&t.mode&1)for(V=t,m=t.child;m!==null;){for(_=V=m;V!==null;){switch(v=V,E=v.child,v.tag){case 0:case 11:case 14:case 15:qo(4,v,v.return);break;case 1:ps(v,v.return);var w=v.stateNode;if(typeof w.componentWillUnmount=="function"){i=v,n=v.return;try{e=i,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(C){De(i,n,C)}}break;case 5:ps(v,v.return);break;case 22:if(v.memoizedState!==null){qv(_);continue}}E!==null?(E.return=v,V=E):qv(_)}m=m.sibling}e:for(m=null,_=t;;){if(_.tag===5){if(m===null){m=_;try{r=_.stateNode,f?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=_.stateNode,h=_.memoizedProps.style,l=h!=null&&h.hasOwnProperty("display")?h.display:null,u.style.display=E0("display",l))}catch(C){De(t,t.return,C)}}}else if(_.tag===6){if(m===null)try{_.stateNode.nodeValue=f?"":_.memoizedProps}catch(C){De(t,t.return,C)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===t)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;m===_&&(m=null),_=_.return}m===_&&(m=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:un(e,t),kn(t),i&4&&$v(t);break;case 21:break;default:un(e,t),kn(t)}}function kn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(GE(n)){var i=n;break e}n=n.return}throw Error(F(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(ra(r,""),i.flags&=-33);var o=Vv(t);kf(t,o,r);break;case 3:case 4:var l=i.stateNode.containerInfo,u=Vv(t);xf(t,u,l);break;default:throw Error(F(161))}}catch(h){De(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function R1(t,e,n){V=t,QE(t)}function QE(t,e,n){for(var i=(t.mode&1)!==0;V!==null;){var r=V,o=r.child;if(r.tag===22&&i){var l=r.memoizedState!==null||Ll;if(!l){var u=r.alternate,h=u!==null&&u.memoizedState!==null||vt;u=Ll;var f=vt;if(Ll=l,(vt=h)&&!f)for(V=r;V!==null;)l=V,h=l.child,l.tag===22&&l.memoizedState!==null?Gv(r):h!==null?(h.return=l,V=h):Gv(r);for(;o!==null;)V=o,QE(o),o=o.sibling;V=r,Ll=u,vt=f}Zv(t)}else r.subtreeFlags&8772&&o!==null?(o.return=r,V=o):Zv(t)}}function Zv(t){for(;V!==null;){var e=V;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vt||gc(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!vt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:cn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&bv(e,o,i);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}bv(e,l,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var m=f.memoizedState;if(m!==null){var _=m.dehydrated;_!==null&&la(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}vt||e.flags&512&&Pf(e)}catch(v){De(e,e.return,v)}}if(e===t){V=null;break}if(n=e.sibling,n!==null){n.return=e.return,V=n;break}V=e.return}}function qv(t){for(;V!==null;){var e=V;if(e===t){V=null;break}var n=e.sibling;if(n!==null){n.return=e.return,V=n;break}V=e.return}}function Gv(t){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{gc(4,e)}catch(h){De(e,n,h)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(h){De(e,r,h)}}var o=e.return;try{Pf(e)}catch(h){De(e,o,h)}break;case 5:var l=e.return;try{Pf(e)}catch(h){De(e,l,h)}}}catch(h){De(e,e.return,h)}if(e===t){V=null;break}var u=e.sibling;if(u!==null){u.return=e.return,V=u;break}V=e.return}}var L1=Math.ceil,Pu=ui.ReactCurrentDispatcher,am=ui.ReactCurrentOwner,tn=ui.ReactCurrentBatchConfig,fe=0,ot=null,qe=null,ft=0,jt=0,ms=Ki(0),Qe=0,ya=null,Cr=0,vc=0,lm=0,Go=null,At=null,um=0,Fs=1/0,$n=null,xu=!1,bf=null,Fi=null,Al=!1,bi=null,ku=0,Ko=0,Rf=null,Kl=-1,Yl=0;function It(){return fe&6?Ve():Kl!==-1?Kl:Kl=Ve()}function Ui(t){return t.mode&1?fe&2&&ft!==0?ft&-ft:p1.transition!==null?(Yl===0&&(Yl=O0()),Yl):(t=ge,t!==0||(t=window.event,t=t===void 0?16:j0(t.type)),t):1}function gn(t,e,n,i){if(50<Ko)throw Ko=0,Rf=null,Error(F(185));Fa(t,n,i),(!(fe&2)||t!==ot)&&(t===ot&&(!(fe&2)&&(vc|=n),Qe===4&&Ti(t,ft)),Ut(t,i),n===1&&fe===0&&!(e.mode&1)&&(Fs=Ve()+500,pc&&Yi()))}function Ut(t,e){var n=t.callbackNode;pk(t,e);var i=hu(t,t===ot?ft:0);if(i===0)n!==null&&iv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&iv(n),e===1)t.tag===0?f1(Kv.bind(null,t)):oE(Kv.bind(null,t)),u1(function(){!(fe&6)&&Yi()}),n=null;else{switch(M0(i)){case 1:n=Mp;break;case 4:n=A0;break;case 16:n=cu;break;case 536870912:n=N0;break;default:n=cu}n=sT(n,JE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function JE(t,e){if(Kl=-1,Yl=0,fe&6)throw Error(F(327));var n=t.callbackNode;if(Ss()&&t.callbackNode!==n)return null;var i=hu(t,t===ot?ft:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=bu(t,i);else{e=i;var r=fe;fe|=2;var o=eT();(ot!==t||ft!==e)&&($n=null,Fs=Ve()+500,pr(t,e));do try{O1();break}catch(u){XE(t,u)}while(1);Gp(),Pu.current=o,fe=r,qe!==null?e=0:(ot=null,ft=0,e=Qe)}if(e!==0){if(e===2&&(r=nf(t),r!==0&&(i=r,e=Lf(t,r))),e===1)throw n=ya,pr(t,0),Ti(t,i),Ut(t,Ve()),n;if(e===6)Ti(t,i);else{if(r=t.current.alternate,!(i&30)&&!A1(r)&&(e=bu(t,i),e===2&&(o=nf(t),o!==0&&(i=o,e=Lf(t,o))),e===1))throw n=ya,pr(t,0),Ti(t,i),Ut(t,Ve()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(F(345));case 2:rr(t,At,$n);break;case 3:if(Ti(t,i),(i&130023424)===i&&(e=um+500-Ve(),10<e)){if(hu(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){It(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=hf(rr.bind(null,t,At,$n),e);break}rr(t,At,$n);break;case 4:if(Ti(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var l=31-_n(i);o=1<<l,l=e[l],l>r&&(r=l),i&=~o}if(i=r,i=Ve()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*L1(i/1960))-i,10<i){t.timeoutHandle=hf(rr.bind(null,t,At,$n),i);break}rr(t,At,$n);break;case 5:rr(t,At,$n);break;default:throw Error(F(329))}}}return Ut(t,Ve()),t.callbackNode===n?JE.bind(null,t):null}function Lf(t,e){var n=Go;return t.current.memoizedState.isDehydrated&&(pr(t,e).flags|=256),t=bu(t,e),t!==2&&(e=At,At=n,e!==null&&Af(e)),t}function Af(t){At===null?At=t:At.push.apply(At,t)}function A1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!yn(o(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ti(t,e){for(e&=~lm,e&=~vc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_n(e),i=1<<n;t[n]=-1,e&=~i}}function Kv(t){if(fe&6)throw Error(F(327));Ss();var e=hu(t,0);if(!(e&1))return Ut(t,Ve()),null;var n=bu(t,e);if(t.tag!==0&&n===2){var i=nf(t);i!==0&&(e=i,n=Lf(t,i))}if(n===1)throw n=ya,pr(t,0),Ti(t,e),Ut(t,Ve()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,rr(t,At,$n),Ut(t,Ve()),null}function cm(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(Fs=Ve()+500,pc&&Yi())}}function Ir(t){bi!==null&&bi.tag===0&&!(fe&6)&&Ss();var e=fe;fe|=1;var n=tn.transition,i=ge;try{if(tn.transition=null,ge=1,t)return t()}finally{ge=i,tn.transition=n,fe=e,!(fe&6)&&Yi()}}function hm(){jt=ms.current,xe(ms)}function pr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,l1(n)),qe!==null)for(n=qe.return;n!==null;){var i=n;switch($p(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&_u();break;case 3:Ms(),xe(Dt),xe(yt),em();break;case 5:Xp(i);break;case 4:Ms();break;case 13:xe(Ae);break;case 19:xe(Ae);break;case 10:Kp(i.type._context);break;case 22:case 23:hm()}n=n.return}if(ot=t,qe=t=Bi(t.current,null),ft=jt=e,Qe=0,ya=null,lm=vc=Cr=0,At=Go=null,lr!==null){for(e=0;e<lr.length;e++)if(n=lr[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,o=n.pending;if(o!==null){var l=o.next;o.next=r,i.next=l}n.pending=i}lr=null}return t}function XE(t,e){do{var n=qe;try{if(Gp(),Zl.current=Iu,Cu){for(var i=Ne.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Cu=!1}if(Sr=0,nt=Ye=Ne=null,Zo=!1,_a=0,am.current=null,n===null||n.return===null){Qe=1,ya=e,qe=null;break}e:{var o=t,l=n.return,u=n,h=e;if(e=ft,u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var f=h,m=u,_=m.tag;if(!(m.mode&1)&&(_===0||_===11||_===15)){var v=m.alternate;v?(m.updateQueue=v.updateQueue,m.memoizedState=v.memoizedState,m.lanes=v.lanes):(m.updateQueue=null,m.memoizedState=null)}var E=Dv(l);if(E!==null){E.flags&=-257,Fv(E,l,u,o,e),E.mode&1&&Mv(o,f,e),e=E,h=f;var w=e.updateQueue;if(w===null){var C=new Set;C.add(h),e.updateQueue=C}else w.add(h);break e}else{if(!(e&1)){Mv(o,f,e),dm();break e}h=Error(F(426))}}else if(Re&&u.mode&1){var R=Dv(l);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Fv(R,l,u,o,e),Zp(Ds(h,u));break e}}o=h=Ds(h,u),Qe!==4&&(Qe=2),Go===null?Go=[o]:Go.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var T=DE(o,h,e);kv(o,T);break e;case 1:u=h;var y=o.type,I=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Fi===null||!Fi.has(I)))){o.flags|=65536,e&=-e,o.lanes|=e;var b=FE(o,u,e);kv(o,b);break e}}o=o.return}while(o!==null)}nT(n)}catch(U){e=U,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(1)}function eT(){var t=Pu.current;return Pu.current=Iu,t===null?Iu:t}function dm(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),ot===null||!(Cr&268435455)&&!(vc&268435455)||Ti(ot,ft)}function bu(t,e){var n=fe;fe|=2;var i=eT();(ot!==t||ft!==e)&&($n=null,pr(t,e));do try{N1();break}catch(r){XE(t,r)}while(1);if(Gp(),fe=n,Pu.current=i,qe!==null)throw Error(F(261));return ot=null,ft=0,Qe}function N1(){for(;qe!==null;)tT(qe)}function O1(){for(;qe!==null&&!sk();)tT(qe)}function tT(t){var e=rT(t.alternate,t,jt);t.memoizedProps=t.pendingProps,e===null?nT(t):qe=e,am.current=null}function nT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=x1(n,e),n!==null){n.flags&=32767,qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,qe=null;return}}else if(n=P1(n,e,jt),n!==null){qe=n;return}if(e=e.sibling,e!==null){qe=e;return}qe=e=t}while(e!==null);Qe===0&&(Qe=5)}function rr(t,e,n){var i=ge,r=tn.transition;try{tn.transition=null,ge=1,M1(t,e,n,i)}finally{tn.transition=r,ge=i}return null}function M1(t,e,n,i){do Ss();while(bi!==null);if(fe&6)throw Error(F(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(mk(t,o),t===ot&&(qe=ot=null,ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Al||(Al=!0,sT(cu,function(){return Ss(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=tn.transition,tn.transition=null;var l=ge;ge=1;var u=fe;fe|=4,am.current=null,b1(t,n),YE(n,t),t1(uf),du=!!lf,uf=lf=null,t.current=n,R1(n),ok(),fe=u,ge=l,tn.transition=o}else t.current=n;if(Al&&(Al=!1,bi=t,ku=r),o=t.pendingLanes,o===0&&(Fi=null),uk(n.stateNode),Ut(t,Ve()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(xu)throw xu=!1,t=bf,bf=null,t;return ku&1&&t.tag!==0&&Ss(),o=t.pendingLanes,o&1?t===Rf?Ko++:(Ko=0,Rf=t):Ko=0,Yi(),null}function Ss(){if(bi!==null){var t=M0(ku),e=tn.transition,n=ge;try{if(tn.transition=null,ge=16>t?16:t,bi===null)var i=!1;else{if(t=bi,bi=null,ku=0,fe&6)throw Error(F(331));var r=fe;for(fe|=4,V=t.current;V!==null;){var o=V,l=o.child;if(V.flags&16){var u=o.deletions;if(u!==null){for(var h=0;h<u.length;h++){var f=u[h];for(V=f;V!==null;){var m=V;switch(m.tag){case 0:case 11:case 15:qo(8,m,o)}var _=m.child;if(_!==null)_.return=m,V=_;else for(;V!==null;){m=V;var v=m.sibling,E=m.return;if(qE(m),m===f){V=null;break}if(v!==null){v.return=E,V=v;break}V=E}}}var w=o.alternate;if(w!==null){var C=w.child;if(C!==null){w.child=null;do{var R=C.sibling;C.sibling=null,C=R}while(C!==null)}}V=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,V=l;else e:for(;V!==null;){if(o=V,o.flags&2048)switch(o.tag){case 0:case 11:case 15:qo(9,o,o.return)}var T=o.sibling;if(T!==null){T.return=o.return,V=T;break e}V=o.return}}var y=t.current;for(V=y;V!==null;){l=V;var I=l.child;if(l.subtreeFlags&2064&&I!==null)I.return=l,V=I;else e:for(l=y;V!==null;){if(u=V,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:gc(9,u)}}catch(U){De(u,u.return,U)}if(u===l){V=null;break e}var b=u.sibling;if(b!==null){b.return=u.return,V=b;break e}V=u.return}}if(fe=r,Yi(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(uc,t)}catch{}i=!0}return i}finally{ge=n,tn.transition=e}}return!1}function Yv(t,e,n){e=Ds(n,e),e=DE(t,e,1),t=Di(t,e,1),e=It(),t!==null&&(Fa(t,1,e),Ut(t,e))}function De(t,e,n){if(t.tag===3)Yv(t,t,n);else for(;e!==null;){if(e.tag===3){Yv(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Fi===null||!Fi.has(i))){t=Ds(n,t),t=FE(e,t,1),e=Di(e,t,1),t=It(),e!==null&&(Fa(e,1,t),Ut(e,t));break}}e=e.return}}function D1(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=It(),t.pingedLanes|=t.suspendedLanes&n,ot===t&&(ft&n)===n&&(Qe===4||Qe===3&&(ft&130023424)===ft&&500>Ve()-um?pr(t,0):lm|=n),Ut(t,e)}function iT(t,e){e===0&&(t.mode&1?(e=Tl,Tl<<=1,!(Tl&130023424)&&(Tl=4194304)):e=1);var n=It();t=si(t,e),t!==null&&(Fa(t,e,n),Ut(t,n))}function F1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),iT(t,n)}function U1(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(F(314))}i!==null&&i.delete(e),iT(t,n)}var rT;rT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Dt.current)Nt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Nt=!1,I1(t,e,n);Nt=!!(t.flags&131072)}else Nt=!1,Re&&e.flags&1048576&&aE(e,yu,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Gl(t,e),t=e.pendingProps;var r=As(e,yt.current);Ts(e,n),r=nm(null,e,i,t,r,n);var o=im();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ft(i)?(o=!0,gu(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Qp(e),r.updater=mc,e.stateNode=r,r._reactInternals=e,vf(e,i,t,n),e=Ef(null,e,i,!0,o,n)):(e.tag=0,Re&&o&&Vp(e),St(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Gl(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=z1(i),t=cn(i,t),r){case 0:e=wf(null,e,i,t,n);break e;case 1:e=zv(null,e,i,t,n);break e;case 11:e=Uv(null,e,i,t,n);break e;case 14:e=Bv(null,e,i,cn(i.type,t),n);break e}throw Error(F(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:cn(i,r),wf(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:cn(i,r),zv(t,e,i,r,n);case 3:e:{if(jE(e),t===null)throw Error(F(387));i=e.pendingProps,o=e.memoizedState,r=o.element,hE(t,e),Tu(e,i,null,n);var l=e.memoizedState;if(i=l.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=Ds(Error(F(423)),e),e=jv(t,e,i,n,r);break e}else if(i!==r){r=Ds(Error(F(424)),e),e=jv(t,e,i,n,r);break e}else for(Ht=Mi(e.stateNode.containerInfo.firstChild),Wt=e,Re=!0,dn=null,n=mE(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ns(),i===r){e=oi(t,e,n);break e}St(t,e,i,n)}e=e.child}return e;case 5:return _E(e),t===null&&mf(e),i=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,l=r.children,cf(i,r)?l=null:o!==null&&cf(i,o)&&(e.flags|=32),zE(t,e),St(t,e,l,n),e.child;case 6:return t===null&&mf(e),null;case 13:return HE(t,e,n);case 4:return Jp(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Os(e,null,i,n):St(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:cn(i,r),Uv(t,e,i,r,n);case 7:return St(t,e,e.pendingProps,n),e.child;case 8:return St(t,e,e.pendingProps.children,n),e.child;case 12:return St(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,l=r.value,Ie(wu,i._currentValue),i._currentValue=l,o!==null)if(yn(o.value,l)){if(o.children===r.children&&!Dt.current){e=oi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){l=o.child;for(var h=u.firstContext;h!==null;){if(h.context===i){if(o.tag===1){h=Xn(-1,n&-n),h.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var m=f.pending;m===null?h.next=h:(h.next=m.next,m.next=h),f.pending=h}}o.lanes|=n,h=o.alternate,h!==null&&(h.lanes|=n),_f(o.return,n,e),u.lanes|=n;break}h=h.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(F(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),_f(l,n,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}St(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Ts(e,n),r=rn(r),i=i(r),e.flags|=1,St(t,e,i,n),e.child;case 14:return i=e.type,r=cn(i,e.pendingProps),r=cn(i.type,r),Bv(t,e,i,r,n);case 15:return UE(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:cn(i,r),Gl(t,e),e.tag=1,Ft(i)?(t=!0,gu(e)):t=!1,Ts(e,n),fE(e,i,r),vf(e,i,r,n),Ef(null,e,i,!0,t,n);case 19:return WE(t,e,n);case 22:return BE(t,e,n)}throw Error(F(156,e.tag))};function sT(t,e){return L0(t,e)}function B1(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(t,e,n,i){return new B1(t,e,n,i)}function fm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function z1(t){if(typeof t=="function")return fm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ap)return 11;if(t===Np)return 14}return 2}function Bi(t,e){var n=t.alternate;return n===null?(n=Xt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ql(t,e,n,i,r,o){var l=2;if(i=t,typeof t=="function")fm(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case ss:return mr(n.children,r,o,e);case Lp:l=8,r|=8;break;case jd:return t=Xt(12,n,e,r|2),t.elementType=jd,t.lanes=o,t;case Hd:return t=Xt(13,n,e,r),t.elementType=Hd,t.lanes=o,t;case Wd:return t=Xt(19,n,e,r),t.elementType=Wd,t.lanes=o,t;case p0:return yc(n,r,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case d0:l=10;break e;case f0:l=9;break e;case Ap:l=11;break e;case Np:l=14;break e;case yi:l=16,i=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=Xt(l,n,e,r),e.elementType=t,e.type=i,e.lanes=o,e}function mr(t,e,n,i){return t=Xt(7,t,i,e),t.lanes=n,t}function yc(t,e,n,i){return t=Xt(22,t,i,e),t.elementType=p0,t.lanes=n,t.stateNode={isHidden:!1},t}function ld(t,e,n){return t=Xt(6,t,null,e),t.lanes=n,t}function ud(t,e,n){return e=Xt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function j1(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wh(0),this.expirationTimes=Wh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wh(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function pm(t,e,n,i,r,o,l,u,h){return t=new j1(t,e,n,u,h),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Xt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qp(o),t}function H1(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rs,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function oT(t){if(!t)return $i;t=t._reactInternals;e:{if(Ur(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ft(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(Ft(n))return sE(t,n,e)}return e}function aT(t,e,n,i,r,o,l,u,h){return t=pm(n,i,!0,t,r,o,l,u,h),t.context=oT(null),n=t.current,i=It(),r=Ui(n),o=Xn(i,r),o.callback=e??null,Di(n,o,r),t.current.lanes=r,Fa(t,r,i),Ut(t,i),t}function wc(t,e,n,i){var r=e.current,o=It(),l=Ui(r);return n=oT(n),e.context===null?e.context=n:e.pendingContext=n,e=Xn(o,l),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Di(r,e,l),t!==null&&(gn(t,r,l,o),$l(t,r,l)),l}function Ru(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Qv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mm(t,e){Qv(t,e),(t=t.alternate)&&Qv(t,e)}function W1(){return null}var lT=typeof reportError=="function"?reportError:function(t){console.error(t)};function _m(t){this._internalRoot=t}Ec.prototype.render=_m.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));wc(t,e,null,null)};Ec.prototype.unmount=_m.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ir(function(){wc(null,t,null,null)}),e[ri]=null}};function Ec(t){this._internalRoot=t}Ec.prototype.unstable_scheduleHydration=function(t){if(t){var e=U0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ei.length&&e!==0&&e<Ei[n].priority;n++);Ei.splice(n,0,t),n===0&&z0(t)}};function gm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Tc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jv(){}function V1(t,e,n,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var f=Ru(l);o.call(f)}}var l=aT(e,i,t,0,null,!1,!1,"",Jv);return t._reactRootContainer=l,t[ri]=l.current,ha(t.nodeType===8?t.parentNode:t),Ir(),l}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var u=i;i=function(){var f=Ru(h);u.call(f)}}var h=pm(t,0,!1,null,null,!1,!1,"",Jv);return t._reactRootContainer=h,t[ri]=h.current,ha(t.nodeType===8?t.parentNode:t),Ir(function(){wc(e,h,n,i)}),h}function Sc(t,e,n,i,r){var o=n._reactRootContainer;if(o){var l=o;if(typeof r=="function"){var u=r;r=function(){var h=Ru(l);u.call(h)}}wc(e,l,t,r)}else l=V1(n,e,t,r,i);return Ru(l)}D0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fo(e.pendingLanes);n!==0&&(Dp(e,n|1),Ut(e,Ve()),!(fe&6)&&(Fs=Ve()+500,Yi()))}break;case 13:Ir(function(){var i=si(t,1);if(i!==null){var r=It();gn(i,t,1,r)}}),mm(t,1)}};Fp=function(t){if(t.tag===13){var e=si(t,134217728);if(e!==null){var n=It();gn(e,t,134217728,n)}mm(t,134217728)}};F0=function(t){if(t.tag===13){var e=Ui(t),n=si(t,e);if(n!==null){var i=It();gn(n,t,e,i)}mm(t,e)}};U0=function(){return ge};B0=function(t,e){var n=ge;try{return ge=t,e()}finally{ge=n}};Xd=function(t,e,n){switch(e){case"input":if(Zd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=fc(i);if(!r)throw Error(F(90));_0(i),Zd(i,r)}}}break;case"textarea":v0(t,n);break;case"select":e=n.value,e!=null&&vs(t,!!n.multiple,e,!1)}};I0=cm;P0=Ir;var $1={usingClientEntryPoint:!1,Events:[Ba,us,fc,S0,C0,cm]},Io={findFiberByHostInstance:ar,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Z1={bundleType:Io.bundleType,version:Io.version,rendererPackageName:Io.rendererPackageName,rendererConfig:Io.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=b0(t),t===null?null:t.stateNode},findFiberByHostInstance:Io.findFiberByHostInstance||W1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{uc=Nl.inject(Z1),On=Nl}catch{}}Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$1;Zt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gm(e))throw Error(F(200));return H1(t,e,null,n)};Zt.createRoot=function(t,e){if(!gm(t))throw Error(F(299));var n=!1,i="",r=lT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=pm(t,1,!1,null,null,n,!1,i,r),t[ri]=e.current,ha(t.nodeType===8?t.parentNode:t),new _m(e)};Zt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=b0(e),t=t===null?null:t.stateNode,t};Zt.flushSync=function(t){return Ir(t)};Zt.hydrate=function(t,e,n){if(!Tc(e))throw Error(F(200));return Sc(null,t,e,!0,n)};Zt.hydrateRoot=function(t,e,n){if(!gm(t))throw Error(F(405));var i=n!=null&&n.hydratedSources||null,r=!1,o="",l=lT;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=aT(e,null,t,1,n??null,r,!1,o,l),t[ri]=e.current,ha(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Ec(e)};Zt.render=function(t,e,n){if(!Tc(e))throw Error(F(200));return Sc(null,t,e,!1,n)};Zt.unmountComponentAtNode=function(t){if(!Tc(t))throw Error(F(40));return t._reactRootContainer?(Ir(function(){Sc(null,null,t,!1,function(){t._reactRootContainer=null,t[ri]=null})}),!0):!1};Zt.unstable_batchedUpdates=cm;Zt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Tc(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return Sc(t,e,n,!1,i)};Zt.version="18.2.0-next-9e3b772b8-20220608";function uT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uT)}catch(t){console.error(t)}}uT(),a0.exports=Zt;var q1=a0.exports,Xv=q1;Bd.createRoot=Xv.createRoot,Bd.hydrateRoot=Xv.hydrateRoot;/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wa(){return wa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},wa.apply(this,arguments)}var Ri;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ri||(Ri={}));const ey="popstate";function G1(t){t===void 0&&(t={});function e(r,o){let{pathname:l="/",search:u="",hash:h=""}=Br(r.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Nf("",{pathname:l,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){let l=r.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let h=r.location.href,f=h.indexOf("#");u=f===-1?h:h.slice(0,f)}return u+"#"+(typeof o=="string"?o:cT(o))}function i(r,o){Cc(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return Y1(e,n,i,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Cc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function K1(){return Math.random().toString(36).substr(2,8)}function ty(t,e){return{usr:t.state,key:t.key,idx:e}}function Nf(t,e,n,i){return n===void 0&&(n=null),wa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Br(e):e,{state:n,key:e&&e.key||i||K1()})}function cT(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Br(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function Y1(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,u=Ri.Pop,h=null,f=m();f==null&&(f=0,l.replaceState(wa({},l.state,{idx:f}),""));function m(){return(l.state||{idx:null}).idx}function _(){u=Ri.Pop;let R=m(),T=R==null?null:R-f;f=R,h&&h({action:u,location:C.location,delta:T})}function v(R,T){u=Ri.Push;let y=Nf(C.location,R,T);n&&n(y,R),f=m()+1;let I=ty(y,f),b=C.createHref(y);try{l.pushState(I,"",b)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;r.location.assign(b)}o&&h&&h({action:u,location:C.location,delta:1})}function E(R,T){u=Ri.Replace;let y=Nf(C.location,R,T);n&&n(y,R),f=m();let I=ty(y,f),b=C.createHref(y);l.replaceState(I,"",b),o&&h&&h({action:u,location:C.location,delta:0})}function w(R){let T=r.location.origin!=="null"?r.location.origin:r.location.href,y=typeof R=="string"?R:cT(R);return Je(T,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,T)}let C={get action(){return u},get location(){return t(r,l)},listen(R){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(ey,_),h=R,()=>{r.removeEventListener(ey,_),h=null}},createHref(R){return e(r,R)},createURL:w,encodeLocation(R){let T=w(R);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:v,replace:E,go(R){return l.go(R)}};return C}var ny;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ny||(ny={}));function Q1(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?Br(e):e,r=fT(i.pathname||"/",n);if(r==null)return null;let o=hT(t);J1(o);let l=null;for(let u=0;l==null&&u<o.length;++u)l=ab(o[u],cb(r));return l}function hT(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(o,l,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(Je(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let f=_r([i,h.relativePath]),m=n.concat(h);o.children&&o.children.length>0&&(Je(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),hT(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:sb(f,o.index),routesMeta:m})};return t.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))r(o,l);else for(let h of dT(o.path))r(o,l,h)}),e}function dT(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=dT(i.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),r&&u.push(...l),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function J1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ob(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const X1=/^:\w+$/,eb=3,tb=2,nb=1,ib=10,rb=-2,iy=t=>t==="*";function sb(t,e){let n=t.split("/"),i=n.length;return n.some(iy)&&(i+=rb),e&&(i+=tb),n.filter(r=>!iy(r)).reduce((r,o)=>r+(X1.test(o)?eb:o===""?nb:ib),i)}function ob(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function ab(t,e){let{routesMeta:n}=t,i={},r="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],h=l===n.length-1,f=r==="/"?e:e.slice(r.length)||"/",m=lb({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f);if(!m)return null;Object.assign(i,m.params);let _=u.route;o.push({params:i,pathname:_r([r,m.pathname]),pathnameBase:_b(_r([r,m.pathnameBase])),route:_}),m.pathnameBase!=="/"&&(r=_r([r,m.pathnameBase]))}return o}function lb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=ub(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,m,_)=>{let{paramName:v,isOptional:E}=m;if(v==="*"){let C=u[_]||"";l=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const w=u[_];return E&&!w?f[v]=void 0:f[v]=hb(w||"",v),f},{}),pathname:o,pathnameBase:l,pattern:t}}function ub(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Cc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(l,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function cb(t){try{return decodeURI(t)}catch(e){return Cc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function hb(t,e){try{return decodeURIComponent(t)}catch(n){return Cc(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function fT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function db(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Br(t):t;return{pathname:n?n.startsWith("/")?n:fb(n,e):e,search:gb(i),hash:vb(r)}}function fb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function cd(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pb(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mb(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=Br(t):(r=wa({},t),Je(!r.pathname||!r.pathname.includes("?"),cd("?","pathname","search",r)),Je(!r.pathname||!r.pathname.includes("#"),cd("#","pathname","hash",r)),Je(!r.search||!r.search.includes("#"),cd("#","search","hash",r)));let o=t===""||r.pathname==="",l=o?"/":r.pathname,u;if(i||l==null)u=n;else{let _=e.length-1;if(l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),_-=1;r.pathname=v.join("/")}u=_>=0?e[_]:"/"}let h=db(r,u),f=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}const _r=t=>t.join("/").replace(/\/\/+/g,"/"),_b=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function yb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const pT=["post","put","patch","delete"];new Set(pT);const wb=["get",...pT];new Set(wb);/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lu(){return Lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Lu.apply(this,arguments)}const vm=O.createContext(null),Eb=O.createContext(null),Ic=O.createContext(null),Pc=O.createContext(null),Ks=O.createContext({outlet:null,matches:[],isDataRoute:!1}),mT=O.createContext(null);function xc(){return O.useContext(Pc)!=null}function _T(){return xc()||Je(!1),O.useContext(Pc).location}function gT(t){O.useContext(Ic).static||O.useLayoutEffect(t)}function kc(){let{isDataRoute:t}=O.useContext(Ks);return t?Ob():Tb()}function Tb(){xc()||Je(!1);let t=O.useContext(vm),{basename:e,navigator:n}=O.useContext(Ic),{matches:i}=O.useContext(Ks),{pathname:r}=_T(),o=JSON.stringify(pb(i).map(h=>h.pathnameBase)),l=O.useRef(!1);return gT(()=>{l.current=!0}),O.useCallback(function(h,f){if(f===void 0&&(f={}),!l.current)return;if(typeof h=="number"){n.go(h);return}let m=mb(h,JSON.parse(o),r,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:_r([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,o,r,t])}function Sb(t,e){return Cb(t,e)}function Cb(t,e,n){xc()||Je(!1);let{navigator:i}=O.useContext(Ic),{matches:r}=O.useContext(Ks),o=r[r.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let h=_T(),f;if(e){var m;let C=typeof e=="string"?Br(e):e;u==="/"||(m=C.pathname)!=null&&m.startsWith(u)||Je(!1),f=C}else f=h;let _=f.pathname||"/",v=u==="/"?_:_.slice(u.length)||"/",E=Q1(t,{pathname:v}),w=bb(E&&E.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:_r([u,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?u:_r([u,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),r,n);return e&&w?O.createElement(Pc.Provider,{value:{location:Lu({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Ri.Pop}},w):w}function Ib(){let t=Nb(),e=yb(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:r},n):null,o)}const Pb=O.createElement(Ib,null);class xb extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?O.createElement(Ks.Provider,{value:this.props.routeContext},O.createElement(mT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kb(t){let{routeContext:e,match:n,children:i}=t,r=O.useContext(vm);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(Ks.Provider,{value:e},i)}function bb(t,e,n){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var r;if((r=n)!=null&&r.errors)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id]));u>=0||Je(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((u,h,f)=>{let m=h.route.id?l==null?void 0:l[h.route.id]:null,_=null;n&&(_=h.route.errorElement||Pb);let v=e.concat(o.slice(0,f+1)),E=()=>{let w;return m?w=_:h.route.Component?w=O.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=u,O.createElement(kb,{match:h,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?O.createElement(xb,{location:n.location,revalidation:n.revalidation,component:_,error:m,children:E(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):E()},null)}var vT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(vT||{}),Au=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Au||{});function Rb(t){let e=O.useContext(vm);return e||Je(!1),e}function Lb(t){let e=O.useContext(Eb);return e||Je(!1),e}function Ab(t){let e=O.useContext(Ks);return e||Je(!1),e}function yT(t){let e=Ab(),n=e.matches[e.matches.length-1];return n.route.id||Je(!1),n.route.id}function Nb(){var t;let e=O.useContext(mT),n=Lb(Au.UseRouteError),i=yT(Au.UseRouteError);return e||((t=n.errors)==null?void 0:t[i])}function Ob(){let{router:t}=Rb(vT.UseNavigateStable),e=yT(Au.UseNavigateStable),n=O.useRef(!1);return gT(()=>{n.current=!0}),O.useCallback(function(r,o){o===void 0&&(o={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Lu({fromRouteId:e},o)))},[t,e])}function is(t){Je(!1)}function Mb(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Ri.Pop,navigator:o,static:l=!1}=t;xc()&&Je(!1);let u=e.replace(/^\/*/,"/"),h=O.useMemo(()=>({basename:u,navigator:o,static:l}),[u,o,l]);typeof i=="string"&&(i=Br(i));let{pathname:f="/",search:m="",hash:_="",state:v=null,key:E="default"}=i,w=O.useMemo(()=>{let C=fT(f,u);return C==null?null:{location:{pathname:C,search:m,hash:_,state:v,key:E},navigationType:r}},[u,f,m,_,v,E,r]);return w==null?null:O.createElement(Ic.Provider,{value:h},O.createElement(Pc.Provider,{children:n,value:w}))}function Db(t){let{children:e,location:n}=t;return Sb(Of(e),n)}new Promise(()=>{});function Of(t,e){e===void 0&&(e=[]);let n=[];return O.Children.forEach(t,(i,r)=>{if(!O.isValidElement(i))return;let o=[...e,r];if(i.type===O.Fragment){n.push.apply(n,Of(i.props.children,o));return}i.type!==is&&Je(!1),!i.props.index||!i.props.children||Je(!1);let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Of(i.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Fb="startTransition",ry=Fx[Fb];function Ub(t){let{basename:e,children:n,future:i,window:r}=t,o=O.useRef();o.current==null&&(o.current=G1({window:r,v5Compat:!0}));let l=o.current,[u,h]=O.useState({action:l.action,location:l.location}),{v7_startTransition:f}=i||{},m=O.useCallback(_=>{f&&ry?ry(()=>h(_)):h(_)},[h,f]);return O.useLayoutEffect(()=>l.listen(m),[l,m]),O.createElement(Mb,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:l})}var sy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(sy||(sy={}));var oy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(oy||(oy={}));function wT(t,e){return function(){return t.apply(e,arguments)}}const{toString:Bb}=Object.prototype,{getPrototypeOf:ym}=Object,bc=(t=>e=>{const n=Bb.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Un=t=>(t=t.toLowerCase(),e=>bc(e)===t),Rc=t=>e=>typeof e===t,{isArray:Ys}=Array,Ea=Rc("undefined");function zb(t){return t!==null&&!Ea(t)&&t.constructor!==null&&!Ea(t.constructor)&&nn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ET=Un("ArrayBuffer");function jb(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ET(t.buffer),e}const Hb=Rc("string"),nn=Rc("function"),TT=Rc("number"),Lc=t=>t!==null&&typeof t=="object",Wb=t=>t===!0||t===!1,Jl=t=>{if(bc(t)!=="object")return!1;const e=ym(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Vb=Un("Date"),$b=Un("File"),Zb=Un("Blob"),qb=Un("FileList"),Gb=t=>Lc(t)&&nn(t.pipe),Kb=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||nn(t.append)&&((e=bc(t))==="formdata"||e==="object"&&nn(t.toString)&&t.toString()==="[object FormData]"))},Yb=Un("URLSearchParams"),Qb=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ja(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),Ys(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let u;for(i=0;i<l;i++)u=o[i],e.call(null,t[u],u,t)}}function ST(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const CT=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),IT=t=>!Ea(t)&&t!==CT;function Mf(){const{caseless:t}=IT(this)&&this||{},e={},n=(i,r)=>{const o=t&&ST(e,r)||r;Jl(e[o])&&Jl(i)?e[o]=Mf(e[o],i):Jl(i)?e[o]=Mf({},i):Ys(i)?e[o]=i.slice():e[o]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&ja(arguments[i],n);return e}const Jb=(t,e,n,{allOwnKeys:i}={})=>(ja(e,(r,o)=>{n&&nn(r)?t[o]=wT(r,n):t[o]=r},{allOwnKeys:i}),t),Xb=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),eR=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},tR=(t,e,n,i)=>{let r,o,l;const u={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),o=r.length;o-- >0;)l=r[o],(!i||i(l,t,e))&&!u[l]&&(e[l]=t[l],u[l]=!0);t=n!==!1&&ym(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},nR=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},iR=t=>{if(!t)return null;if(Ys(t))return t;let e=t.length;if(!TT(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},rR=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&ym(Uint8Array)),sR=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=i.next())&&!r.done;){const o=r.value;e.call(t,o[0],o[1])}},oR=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},aR=Un("HTMLFormElement"),lR=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),ay=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),uR=Un("RegExp"),PT=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};ja(n,(r,o)=>{let l;(l=e(r,o,t))!==!1&&(i[o]=l||r)}),Object.defineProperties(t,i)},cR=t=>{PT(t,(e,n)=>{if(nn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(nn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},hR=(t,e)=>{const n={},i=r=>{r.forEach(o=>{n[o]=!0})};return Ys(t)?i(t):i(String(t).split(e)),n},dR=()=>{},fR=(t,e)=>(t=+t,Number.isFinite(t)?t:e),hd="abcdefghijklmnopqrstuvwxyz",ly="0123456789",xT={DIGIT:ly,ALPHA:hd,ALPHA_DIGIT:hd+hd.toUpperCase()+ly},pR=(t=16,e=xT.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n};function mR(t){return!!(t&&nn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const _R=t=>{const e=new Array(10),n=(i,r)=>{if(Lc(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const o=Ys(i)?[]:{};return ja(i,(l,u)=>{const h=n(l,r+1);!Ea(h)&&(o[u]=h)}),e[r]=void 0,o}}return i};return n(t,0)},gR=Un("AsyncFunction"),vR=t=>t&&(Lc(t)||nn(t))&&nn(t.then)&&nn(t.catch),N={isArray:Ys,isArrayBuffer:ET,isBuffer:zb,isFormData:Kb,isArrayBufferView:jb,isString:Hb,isNumber:TT,isBoolean:Wb,isObject:Lc,isPlainObject:Jl,isUndefined:Ea,isDate:Vb,isFile:$b,isBlob:Zb,isRegExp:uR,isFunction:nn,isStream:Gb,isURLSearchParams:Yb,isTypedArray:rR,isFileList:qb,forEach:ja,merge:Mf,extend:Jb,trim:Qb,stripBOM:Xb,inherits:eR,toFlatObject:tR,kindOf:bc,kindOfTest:Un,endsWith:nR,toArray:iR,forEachEntry:sR,matchAll:oR,isHTMLForm:aR,hasOwnProperty:ay,hasOwnProp:ay,reduceDescriptors:PT,freezeMethods:cR,toObjectSet:hR,toCamelCase:lR,noop:dR,toFiniteNumber:fR,findKey:ST,global:CT,isContextDefined:IT,ALPHABET:xT,generateString:pR,isSpecCompliantForm:mR,toJSONObject:_R,isAsyncFn:gR,isThenable:vR};function ce(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}N.inherits(ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:N.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const kT=ce.prototype,bT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{bT[t]={value:t}});Object.defineProperties(ce,bT);Object.defineProperty(kT,"isAxiosError",{value:!0});ce.from=(t,e,n,i,r,o)=>{const l=Object.create(kT);return N.toFlatObject(t,l,function(h){return h!==Error.prototype},u=>u!=="isAxiosError"),ce.call(l,t.message,e,n,i,r),l.cause=t,l.name=t.name,o&&Object.assign(l,o),l};const yR=null;function Df(t){return N.isPlainObject(t)||N.isArray(t)}function RT(t){return N.endsWith(t,"[]")?t.slice(0,-2):t}function uy(t,e,n){return t?t.concat(e).map(function(r,o){return r=RT(r),!n&&o?"["+r+"]":r}).join(n?".":""):e}function wR(t){return N.isArray(t)&&!t.some(Df)}const ER=N.toFlatObject(N,{},null,function(e){return/^is[A-Z]/.test(e)});function Ac(t,e,n){if(!N.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=N.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,R){return!N.isUndefined(R[C])});const i=n.metaTokens,r=n.visitor||m,o=n.dots,l=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&N.isSpecCompliantForm(e);if(!N.isFunction(r))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(N.isDate(w))return w.toISOString();if(!h&&N.isBlob(w))throw new ce("Blob is not supported. Use a Buffer instead.");return N.isArrayBuffer(w)||N.isTypedArray(w)?h&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function m(w,C,R){let T=w;if(w&&!R&&typeof w=="object"){if(N.endsWith(C,"{}"))C=i?C:C.slice(0,-2),w=JSON.stringify(w);else if(N.isArray(w)&&wR(w)||(N.isFileList(w)||N.endsWith(C,"[]"))&&(T=N.toArray(w)))return C=RT(C),T.forEach(function(I,b){!(N.isUndefined(I)||I===null)&&e.append(l===!0?uy([C],b,o):l===null?C:C+"[]",f(I))}),!1}return Df(w)?!0:(e.append(uy(R,C,o),f(w)),!1)}const _=[],v=Object.assign(ER,{defaultVisitor:m,convertValue:f,isVisitable:Df});function E(w,C){if(!N.isUndefined(w)){if(_.indexOf(w)!==-1)throw Error("Circular reference detected in "+C.join("."));_.push(w),N.forEach(w,function(T,y){(!(N.isUndefined(T)||T===null)&&r.call(e,T,N.isString(y)?y.trim():y,C,v))===!0&&E(T,C?C.concat(y):[y])}),_.pop()}}if(!N.isObject(t))throw new TypeError("data must be an object");return E(t),e}function cy(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function wm(t,e){this._pairs=[],t&&Ac(t,this,e)}const LT=wm.prototype;LT.append=function(e,n){this._pairs.push([e,n])};LT.toString=function(e){const n=e?function(i){return e.call(this,i,cy)}:cy;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function TR(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function AT(t,e,n){if(!e)return t;const i=n&&n.encode||TR,r=n&&n.serialize;let o;if(r?o=r(e,n):o=N.isURLSearchParams(e)?e.toString():new wm(e,n).toString(i),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class SR{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){N.forEach(this.handlers,function(i){i!==null&&e(i)})}}const hy=SR,NT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},CR=typeof URLSearchParams<"u"?URLSearchParams:wm,IR=typeof FormData<"u"?FormData:null,PR=typeof Blob<"u"?Blob:null,xR={isBrowser:!0,classes:{URLSearchParams:CR,FormData:IR,Blob:PR},protocols:["http","https","file","blob","url","data"]},OT=typeof window<"u"&&typeof document<"u",kR=(t=>OT&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),bR=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),RR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:OT,hasStandardBrowserEnv:kR,hasStandardBrowserWebWorkerEnv:bR},Symbol.toStringTag,{value:"Module"})),An={...RR,...xR};function LR(t,e){return Ac(t,new An.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,o){return An.isNode&&N.isBuffer(n)?(this.append(i,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function AR(t){return N.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function NR(t){const e={},n=Object.keys(t);let i;const r=n.length;let o;for(i=0;i<r;i++)o=n[i],e[o]=t[o];return e}function MT(t){function e(n,i,r,o){let l=n[o++];const u=Number.isFinite(+l),h=o>=n.length;return l=!l&&N.isArray(r)?r.length:l,h?(N.hasOwnProp(r,l)?r[l]=[r[l],i]:r[l]=i,!u):((!r[l]||!N.isObject(r[l]))&&(r[l]=[]),e(n,i,r[l],o)&&N.isArray(r[l])&&(r[l]=NR(r[l])),!u)}if(N.isFormData(t)&&N.isFunction(t.entries)){const n={};return N.forEachEntry(t,(i,r)=>{e(AR(i),r,n,0)}),n}return null}function OR(t,e,n){if(N.isString(t))try{return(e||JSON.parse)(t),N.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Em={transitional:NT,adapter:["xhr","http"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,o=N.isObject(e);if(o&&N.isHTMLForm(e)&&(e=new FormData(e)),N.isFormData(e))return r&&r?JSON.stringify(MT(e)):e;if(N.isArrayBuffer(e)||N.isBuffer(e)||N.isStream(e)||N.isFile(e)||N.isBlob(e))return e;if(N.isArrayBufferView(e))return e.buffer;if(N.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return LR(e,this.formSerializer).toString();if((u=N.isFileList(e))||i.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Ac(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),OR(e)):e}],transformResponse:[function(e){const n=this.transitional||Em.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(e&&N.isString(e)&&(i&&!this.responseType||r)){const l=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?ce.from(u,ce.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:An.classes.FormData,Blob:An.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};N.forEach(["delete","get","head","post","put","patch"],t=>{Em.headers[t]={}});const Tm=Em,MR=N.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),DR=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(l){r=l.indexOf(":"),n=l.substring(0,r).trim().toLowerCase(),i=l.substring(r+1).trim(),!(!n||e[n]&&MR[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},dy=Symbol("internals");function Po(t){return t&&String(t).trim().toLowerCase()}function Xl(t){return t===!1||t==null?t:N.isArray(t)?t.map(Xl):String(t)}function FR(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const UR=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function dd(t,e,n,i,r){if(N.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!N.isString(e)){if(N.isString(i))return e.indexOf(i)!==-1;if(N.isRegExp(i))return i.test(e)}}function BR(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function zR(t,e){const n=N.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,o,l){return this[i].call(this,e,r,o,l)},configurable:!0})})}class Nc{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function o(u,h,f){const m=Po(h);if(!m)throw new Error("header name must be a non-empty string");const _=N.findKey(r,m);(!_||r[_]===void 0||f===!0||f===void 0&&r[_]!==!1)&&(r[_||h]=Xl(u))}const l=(u,h)=>N.forEach(u,(f,m)=>o(f,m,h));return N.isPlainObject(e)||e instanceof this.constructor?l(e,n):N.isString(e)&&(e=e.trim())&&!UR(e)?l(DR(e),n):e!=null&&o(n,e,i),this}get(e,n){if(e=Po(e),e){const i=N.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return FR(r);if(N.isFunction(n))return n.call(this,r,i);if(N.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Po(e),e){const i=N.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||dd(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function o(l){if(l=Po(l),l){const u=N.findKey(i,l);u&&(!n||dd(i,i[u],u,n))&&(delete i[u],r=!0)}}return N.isArray(e)?e.forEach(o):o(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const o=n[i];(!e||dd(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const n=this,i={};return N.forEach(this,(r,o)=>{const l=N.findKey(i,o);if(l){n[l]=Xl(r),delete n[o];return}const u=e?BR(o):String(o).trim();u!==o&&delete n[o],n[u]=Xl(r),i[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return N.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&N.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[dy]=this[dy]={accessors:{}}).accessors,r=this.prototype;function o(l){const u=Po(l);i[u]||(zR(r,l),i[u]=!0)}return N.isArray(e)?e.forEach(o):o(e),this}}Nc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);N.reduceDescriptors(Nc.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});N.freezeMethods(Nc);const ei=Nc;function fd(t,e){const n=this||Tm,i=e||n,r=ei.from(i.headers);let o=i.data;return N.forEach(t,function(u){o=u.call(n,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function DT(t){return!!(t&&t.__CANCEL__)}function Ha(t,e,n){ce.call(this,t??"canceled",ce.ERR_CANCELED,e,n),this.name="CanceledError"}N.inherits(Ha,ce,{__CANCEL__:!0});function jR(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new ce("Request failed with status code "+n.status,[ce.ERR_BAD_REQUEST,ce.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const HR=An.hasStandardBrowserEnv?function(){return{write:function(n,i,r,o,l,u){const h=[];h.push(n+"="+encodeURIComponent(i)),N.isNumber(r)&&h.push("expires="+new Date(r).toGMTString()),N.isString(o)&&h.push("path="+o),N.isString(l)&&h.push("domain="+l),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(n){const i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function WR(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function VR(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function FT(t,e){return t&&!WR(e)?VR(t,e):e}const $R=An.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function r(o){let l=o;return e&&(n.setAttribute("href",l),l=n.href),n.setAttribute("href",l),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=r(window.location.href),function(l){const u=N.isString(l)?r(l):l;return u.protocol===i.protocol&&u.host===i.host}}():function(){return function(){return!0}}();function ZR(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function qR(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,o=0,l;return e=e!==void 0?e:1e3,function(h){const f=Date.now(),m=i[o];l||(l=f),n[r]=h,i[r]=f;let _=o,v=0;for(;_!==r;)v+=n[_++],_=_%t;if(r=(r+1)%t,r===o&&(o=(o+1)%t),f-l<e)return;const E=m&&f-m;return E?Math.round(v*1e3/E):void 0}}function fy(t,e){let n=0;const i=qR(50,250);return r=>{const o=r.loaded,l=r.lengthComputable?r.total:void 0,u=o-n,h=i(u),f=o<=l;n=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:h||void 0,estimated:h&&l&&f?(l-o)/h:void 0,event:r};m[e?"download":"upload"]=!0,t(m)}}const GR=typeof XMLHttpRequest<"u",KR=GR&&function(t){return new Promise(function(n,i){let r=t.data;const o=ei.from(t.headers).normalize(),l=t.responseType;let u;function h(){t.cancelToken&&t.cancelToken.unsubscribe(u),t.signal&&t.signal.removeEventListener("abort",u)}let f;if(N.isFormData(r)){if(An.hasStandardBrowserEnv||An.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if((f=o.getContentType())!==!1){const[w,...C]=f?f.split(";").map(R=>R.trim()).filter(Boolean):[];o.setContentType([w||"multipart/form-data",...C].join("; "))}}let m=new XMLHttpRequest;if(t.auth){const w=t.auth.username||"",C=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(w+":"+C))}const _=FT(t.baseURL,t.url);m.open(t.method.toUpperCase(),AT(_,t.params,t.paramsSerializer),!0),m.timeout=t.timeout;function v(){if(!m)return;const w=ei.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),R={data:!l||l==="text"||l==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:w,config:t,request:m};jR(function(y){n(y),h()},function(y){i(y),h()},R),m=null}if("onloadend"in m?m.onloadend=v:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(v)},m.onabort=function(){m&&(i(new ce("Request aborted",ce.ECONNABORTED,t,m)),m=null)},m.onerror=function(){i(new ce("Network Error",ce.ERR_NETWORK,t,m)),m=null},m.ontimeout=function(){let C=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const R=t.transitional||NT;t.timeoutErrorMessage&&(C=t.timeoutErrorMessage),i(new ce(C,R.clarifyTimeoutError?ce.ETIMEDOUT:ce.ECONNABORTED,t,m)),m=null},An.hasStandardBrowserEnv){const w=$R(_)&&t.xsrfCookieName&&HR.read(t.xsrfCookieName);w&&o.set(t.xsrfHeaderName,w)}r===void 0&&o.setContentType(null),"setRequestHeader"in m&&N.forEach(o.toJSON(),function(C,R){m.setRequestHeader(R,C)}),N.isUndefined(t.withCredentials)||(m.withCredentials=!!t.withCredentials),l&&l!=="json"&&(m.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&m.addEventListener("progress",fy(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&m.upload&&m.upload.addEventListener("progress",fy(t.onUploadProgress)),(t.cancelToken||t.signal)&&(u=w=>{m&&(i(!w||w.type?new Ha(null,t,m):w),m.abort(),m=null)},t.cancelToken&&t.cancelToken.subscribe(u),t.signal&&(t.signal.aborted?u():t.signal.addEventListener("abort",u)));const E=ZR(_);if(E&&An.protocols.indexOf(E)===-1){i(new ce("Unsupported protocol "+E+":",ce.ERR_BAD_REQUEST,t));return}m.send(r||null)})},Ff={http:yR,xhr:KR};N.forEach(Ff,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const py=t=>`- ${t}`,YR=t=>N.isFunction(t)||t===null||t===!1,UT={getAdapter:t=>{t=N.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let o=0;o<e;o++){n=t[o];let l;if(i=n,!YR(n)&&(i=Ff[(l=String(n)).toLowerCase()],i===void 0))throw new ce(`Unknown adapter '${l}'`);if(i)break;r[l||"#"+o]=i}if(!i){const o=Object.entries(r).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(py).join(`
`):" "+py(o[0]):"as no adapter specified";throw new ce("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i},adapters:Ff};function pd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ha(null,t)}function my(t){return pd(t),t.headers=ei.from(t.headers),t.data=fd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),UT.getAdapter(t.adapter||Tm.adapter)(t).then(function(i){return pd(t),i.data=fd.call(t,t.transformResponse,i),i.headers=ei.from(i.headers),i},function(i){return DT(i)||(pd(t),i&&i.response&&(i.response.data=fd.call(t,t.transformResponse,i.response),i.response.headers=ei.from(i.response.headers))),Promise.reject(i)})}const _y=t=>t instanceof ei?t.toJSON():t;function Us(t,e){e=e||{};const n={};function i(f,m,_){return N.isPlainObject(f)&&N.isPlainObject(m)?N.merge.call({caseless:_},f,m):N.isPlainObject(m)?N.merge({},m):N.isArray(m)?m.slice():m}function r(f,m,_){if(N.isUndefined(m)){if(!N.isUndefined(f))return i(void 0,f,_)}else return i(f,m,_)}function o(f,m){if(!N.isUndefined(m))return i(void 0,m)}function l(f,m){if(N.isUndefined(m)){if(!N.isUndefined(f))return i(void 0,f)}else return i(void 0,m)}function u(f,m,_){if(_ in e)return i(f,m);if(_ in t)return i(void 0,f)}const h={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(f,m)=>r(_y(f),_y(m),!0)};return N.forEach(Object.keys(Object.assign({},t,e)),function(m){const _=h[m]||r,v=_(t[m],e[m],m);N.isUndefined(v)&&_!==u||(n[m]=v)}),n}const BT="1.6.1",Sm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Sm[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const gy={};Sm.transitional=function(e,n,i){function r(o,l){return"[Axios v"+BT+"] Transitional option '"+o+"'"+l+(i?". "+i:"")}return(o,l,u)=>{if(e===!1)throw new ce(r(l," has been removed"+(n?" in "+n:"")),ce.ERR_DEPRECATED);return n&&!gy[l]&&(gy[l]=!0,console.warn(r(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,l,u):!0}};function QR(t,e,n){if(typeof t!="object")throw new ce("options must be an object",ce.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const o=i[r],l=e[o];if(l){const u=t[o],h=u===void 0||l(u,o,t);if(h!==!0)throw new ce("option "+o+" must be "+h,ce.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ce("Unknown option "+o,ce.ERR_BAD_OPTION)}}const Uf={assertOptions:QR,validators:Sm},gi=Uf.validators;class Nu{constructor(e){this.defaults=e,this.interceptors={request:new hy,response:new hy}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Us(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:o}=n;i!==void 0&&Uf.assertOptions(i,{silentJSONParsing:gi.transitional(gi.boolean),forcedJSONParsing:gi.transitional(gi.boolean),clarifyTimeoutError:gi.transitional(gi.boolean)},!1),r!=null&&(N.isFunction(r)?n.paramsSerializer={serialize:r}:Uf.assertOptions(r,{encode:gi.function,serialize:gi.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=o&&N.merge(o.common,o[n.method]);o&&N.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),n.headers=ei.concat(l,o);const u=[];let h=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(n)===!1||(h=h&&C.synchronous,u.unshift(C.fulfilled,C.rejected))});const f=[];this.interceptors.response.forEach(function(C){f.push(C.fulfilled,C.rejected)});let m,_=0,v;if(!h){const w=[my.bind(this),void 0];for(w.unshift.apply(w,u),w.push.apply(w,f),v=w.length,m=Promise.resolve(n);_<v;)m=m.then(w[_++],w[_++]);return m}v=u.length;let E=n;for(_=0;_<v;){const w=u[_++],C=u[_++];try{E=w(E)}catch(R){C.call(this,R);break}}try{m=my.call(this,E)}catch(w){return Promise.reject(w)}for(_=0,v=f.length;_<v;)m=m.then(f[_++],f[_++]);return m}getUri(e){e=Us(this.defaults,e);const n=FT(e.baseURL,e.url);return AT(n,e.params,e.paramsSerializer)}}N.forEach(["delete","get","head","options"],function(e){Nu.prototype[e]=function(n,i){return this.request(Us(i||{},{method:e,url:n,data:(i||{}).data}))}});N.forEach(["post","put","patch"],function(e){function n(i){return function(o,l,u){return this.request(Us(u||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Nu.prototype[e]=n(),Nu.prototype[e+"Form"]=n(!0)});const eu=Nu;class Cm{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const i=this;this.promise.then(r=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](r);i._listeners=null}),this.promise.then=r=>{let o;const l=new Promise(u=>{i.subscribe(u),o=u}).then(r);return l.cancel=function(){i.unsubscribe(o)},l},e(function(o,l,u){i.reason||(i.reason=new Ha(o,l,u),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Cm(function(r){e=r}),cancel:e}}}const JR=Cm;function XR(t){return function(n){return t.apply(null,n)}}function eL(t){return N.isObject(t)&&t.isAxiosError===!0}const Bf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Bf).forEach(([t,e])=>{Bf[e]=t});const tL=Bf;function zT(t){const e=new eu(t),n=wT(eu.prototype.request,e);return N.extend(n,eu.prototype,e,{allOwnKeys:!0}),N.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return zT(Us(t,r))},n}const Ge=zT(Tm);Ge.Axios=eu;Ge.CanceledError=Ha;Ge.CancelToken=JR;Ge.isCancel=DT;Ge.VERSION=BT;Ge.toFormData=Ac;Ge.AxiosError=ce;Ge.Cancel=Ge.CanceledError;Ge.all=function(e){return Promise.all(e)};Ge.spread=XR;Ge.isAxiosError=eL;Ge.mergeConfig=Us;Ge.AxiosHeaders=ei;Ge.formToJSON=t=>MT(N.isHTMLForm(t)?new FormData(t):t);Ge.getAdapter=UT.getAdapter;Ge.HttpStatusCode=tL;Ge.default=Ge;const nL=Ge;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B=function(t,e){if(!t)throw Qs(e)},Qs=function(t){return new Error("Firebase Database ("+jT.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},iL=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],l=t[n++],u=t[n++],h=((r&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return e.join("")},Im={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],l=r+1<t.length,u=l?t[r+1]:0,h=r+2<t.length,f=h?t[r+2]:0,m=o>>2,_=(o&3)<<4|u>>4;let v=(u&15)<<2|f>>6,E=f&63;h||(E=64,l||(v=64)),i.push(n[m],n[_],n[v],n[E])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],u=r<t.length?n[t.charAt(r)]:0;++r;const f=r<t.length?n[t.charAt(r)]:64;++r;const _=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||u==null||f==null||_==null)throw new rL;const v=o<<2|u>>4;if(i.push(v),f!==64){const E=u<<4&240|f>>2;if(i.push(E),_!==64){const w=f<<6&192|_;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WT=function(t){const e=HT(t);return Im.encodeByteArray(e,!0)},Ou=function(t){return WT(t).replace(/\./g,"")},Mu=function(t){try{return Im.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t){return VT(void 0,t)}function VT(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!oL(n)||(t[n]=VT(t[n],e[n]));return t}function oL(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=()=>aL().__FIREBASE_DEFAULTS__,uL=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Mu(t[1]);return e&&JSON.parse(e)},Oc=()=>{try{return lL()||uL()||cL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$T=t=>{var e,n;return(n=(e=Oc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ZT=t=>{const e=$T(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},qT=()=>{var t;return(t=Oc())===null||t===void 0?void 0:t.config},GT=t=>{var e;return(e=Oc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[Ou(JSON.stringify(n)),Ou(JSON.stringify(l)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function hL(){var t;const e=(t=Oc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function QT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dL(){const t=wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function JT(){return jT.NODE_ADMIN===!0}function XT(){try{return typeof indexedDB=="object"}catch{return!1}}function eS(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function fL(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL="FirebaseError";class Sn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=pL,Object.setPrototypeOf(this,Sn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zr.prototype.create)}}class zr{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],l=o?mL(o,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new Sn(r,u,i)}}function mL(t,e){return t.replace(_L,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const _L=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(t){return JSON.parse(t)}function st(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=function(t){let e={},n={},i={},r="";try{const o=t.split(".");e=Ta(Mu(o[0])||""),n=Ta(Mu(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}},gL=function(t){const e=tS(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},vL=function(t){const e=tS(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Bs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function zf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Du(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function Sa(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const o=t[r],l=e[r];if(vy(o)&&vy(l)){if(!Sa(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function vy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Bo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function zo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)i[_]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let _=0;_<16;_++)i[_]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let _=16;_<80;_++){const v=i[_-3]^i[_-8]^i[_-14]^i[_-16];i[_]=(v<<1|v>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],l=this.chain_[2],u=this.chain_[3],h=this.chain_[4],f,m;for(let _=0;_<80;_++){_<40?_<20?(f=u^o&(l^u),m=1518500249):(f=o^l^u,m=1859775393):_<60?(f=o&l|u&(o|l),m=2400959708):(f=o^l^u,m=3395469782);const v=(r<<5|r>>>27)+f+h+m+i[_]&4294967295;h=u,u=l,l=(o<<30|o>>>2)&4294967295,o=r,r=v}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const o=this.buf_;let l=this.inbuf_;for(;r<n;){if(l===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(o[l]=e.charCodeAt(r),++l,++r,l===this.blockSize){this.compress_(o),l=0;break}}else for(;r<n;)if(o[l]=e[r],++l,++r,l===this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}}function wL(t,e){const n=new EL(t,e);return n.subscribe.bind(n)}class EL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");TL(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=md),r.error===void 0&&(r.error=md),r.complete===void 0&&(r.complete=md);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function md(){}function Mc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,B(i<t.length,"Surrogate pair missing trail surrogate.");const l=t.charCodeAt(i)-56320;r=65536+(o<<10)+l}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Dc=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=1e3,IL=2,PL=4*60*60*1e3,xL=.5;function yy(t,e=CL,n=IL){const i=e*Math.pow(n,t),r=Math.round(xL*i*(Math.random()-.5)*2);return Math.min(PL,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t){return t&&t._delegate?t._delegate:t}class on{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Wa;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RL(e))try{this.getOrInitializeService({instanceIdentifier:sr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=sr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sr){return this.instances.has(e)}getOptions(e=sr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const l=this.instances.get(r);return l&&e(l,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:bL(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=sr){return this.component?this.component.multipleInstances?e:sr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bL(t){return t===sr?void 0:t}function RL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const AL={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},NL=ye.INFO,OL={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},ML=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=OL[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fc{constructor(e){this.name=e,this._logLevel=NL,this._logHandler=ML,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const DL=(t,e)=>e.some(n=>t instanceof n);let wy,Ey;function FL(){return wy||(wy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UL(){return Ey||(Ey=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nS=new WeakMap,jf=new WeakMap,iS=new WeakMap,_d=new WeakMap,xm=new WeakMap;function BL(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(zi(t.result)),r()},l=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&nS.set(n,t)}).catch(()=>{}),xm.set(e,t),e}function zL(t){if(jf.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),r()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});jf.set(t,e)}let Hf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jL(t){Hf=t(Hf)}function HL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(gd(this),e,...n);return iS.set(i,e.sort?e.sort():[e]),zi(i)}:UL().includes(t)?function(...e){return t.apply(gd(this),e),zi(nS.get(this))}:function(...e){return zi(t.apply(gd(this),e))}}function WL(t){return typeof t=="function"?HL(t):(t instanceof IDBTransaction&&zL(t),DL(t,FL())?new Proxy(t,Hf):t)}function zi(t){if(t instanceof IDBRequest)return BL(t);if(_d.has(t))return _d.get(t);const e=WL(t);return e!==t&&(_d.set(t,e),xm.set(e,t)),e}const gd=t=>xm.get(t);function VL(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(t,e),u=zi(l);return i&&l.addEventListener("upgradeneeded",h=>{i(zi(l.result),h.oldVersion,h.newVersion,zi(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),r&&h.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const $L=["get","getKey","getAll","getAllKeys","count"],ZL=["put","add","delete","clear"],vd=new Map;function Ty(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vd.get(e))return vd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=ZL.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||$L.includes(n)))return;const o=async function(l,...u){const h=this.transaction(l,r?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),r&&h.done]))[0]};return vd.set(e,o),o}jL(t=>({...t,get:(e,n,i)=>Ty(e,n)||t.get(e,n,i),has:(e,n)=>!!Ty(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GL(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function GL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wf="@firebase/app",Sy="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new Fc("@firebase/app"),KL="@firebase/app-compat",YL="@firebase/analytics-compat",QL="@firebase/analytics",JL="@firebase/app-check-compat",XL="@firebase/app-check",eA="@firebase/auth",tA="@firebase/auth-compat",nA="@firebase/database",iA="@firebase/database-compat",rA="@firebase/functions",sA="@firebase/functions-compat",oA="@firebase/installations",aA="@firebase/installations-compat",lA="@firebase/messaging",uA="@firebase/messaging-compat",cA="@firebase/performance",hA="@firebase/performance-compat",dA="@firebase/remote-config",fA="@firebase/remote-config-compat",pA="@firebase/storage",mA="@firebase/storage-compat",_A="@firebase/firestore",gA="@firebase/firestore-compat",vA="firebase",yA="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="[DEFAULT]",wA={[Wf]:"fire-core",[KL]:"fire-core-compat",[QL]:"fire-analytics",[YL]:"fire-analytics-compat",[XL]:"fire-app-check",[JL]:"fire-app-check-compat",[eA]:"fire-auth",[tA]:"fire-auth-compat",[nA]:"fire-rtdb",[iA]:"fire-rtdb-compat",[rA]:"fire-fn",[sA]:"fire-fn-compat",[oA]:"fire-iid",[aA]:"fire-iid-compat",[lA]:"fire-fcm",[uA]:"fire-fcm-compat",[cA]:"fire-perf",[hA]:"fire-perf-compat",[dA]:"fire-rc",[fA]:"fire-rc-compat",[pA]:"fire-gcs",[mA]:"fire-gcs-compat",[_A]:"fire-fst",[gA]:"fire-fst-compat","fire-js":"fire-js",[vA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=new Map,$f=new Map;function EA(t,e){try{t.container.addComponent(e)}catch(n){Pr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wn(t){const e=t.name;if($f.has(e))return Pr.debug(`There were multiple attempts to register component ${e}.`),!1;$f.set(e,t);for(const n of Fu.values())EA(n,t);return!0}function Qi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ji=new zr("app","Firebase",TA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new on("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=yA;function rS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Vf,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw ji.create("bad-app-name",{appName:String(r)});if(n||(n=qT()),!n)throw ji.create("no-options");const o=Fu.get(r);if(o){if(Sa(n,o.options)&&Sa(i,o.config))return o;throw ji.create("duplicate-app",{appName:r})}const l=new LL(r);for(const h of $f.values())l.addComponent(h);const u=new SA(n,i,l);return Fu.set(r,u),u}function Uc(t=Vf){const e=Fu.get(t);if(!e&&t===Vf&&qT())return rS();if(!e)throw ji.create("no-app",{appName:t});return e}function Bt(t,e,n){var i;let r=(i=wA[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pr.warn(u.join(" "));return}wn(new on(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="firebase-heartbeat-database",IA=1,Ca="firebase-heartbeat-store";let yd=null;function sS(){return yd||(yd=VL(CA,IA,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ca)}}}).catch(t=>{throw ji.create("idb-open",{originalErrorMessage:t.message})})),yd}async function PA(t){try{return await(await sS()).transaction(Ca).objectStore(Ca).get(oS(t))}catch(e){if(e instanceof Sn)Pr.warn(e.message);else{const n=ji.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pr.warn(n.message)}}}async function Cy(t,e){try{const i=(await sS()).transaction(Ca,"readwrite");await i.objectStore(Ca).put(e,oS(t)),await i.done}catch(n){if(n instanceof Sn)Pr.warn(n.message);else{const i=ji.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pr.warn(i.message)}}}function oS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=1024,kA=30*24*60*60*1e3;class bA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LA(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Iy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=kA}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Iy(),{heartbeatsToSend:i,unsentEntries:r}=RA(this._heartbeatsCache.heartbeats),o=Ou(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Iy(){return new Date().toISOString().substring(0,10)}function RA(t,e=xA){const n=[];let i=t.slice();for(const r of t){const o=n.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),Py(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Py(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class LA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XT()?eS().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await PA(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Cy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Cy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Py(t){return Ou(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t){wn(new on("platform-logger",e=>new qL(e),"PRIVATE")),wn(new on("heartbeat",e=>new bA(e),"PRIVATE")),Bt(Wf,Sy,t),Bt(Wf,Sy,"esm2017"),Bt("fire-js","")}AA("");var NA="firebase",OA="10.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bt(NA,OA,"app");const MA=(t,e)=>e.some(n=>t instanceof n);let xy,ky;function DA(){return xy||(xy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FA(){return ky||(ky=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aS=new WeakMap,Zf=new WeakMap,lS=new WeakMap,wd=new WeakMap,km=new WeakMap;function UA(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Hi(t.result)),r()},l=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&aS.set(n,t)}).catch(()=>{}),km.set(e,t),e}function BA(t){if(Zf.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),r()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Zf.set(t,e)}let qf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zA(t){qf=t(qf)}function jA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Ed(this),e,...n);return lS.set(i,e.sort?e.sort():[e]),Hi(i)}:FA().includes(t)?function(...e){return t.apply(Ed(this),e),Hi(aS.get(this))}:function(...e){return Hi(t.apply(Ed(this),e))}}function HA(t){return typeof t=="function"?jA(t):(t instanceof IDBTransaction&&BA(t),MA(t,DA())?new Proxy(t,qf):t)}function Hi(t){if(t instanceof IDBRequest)return UA(t);if(wd.has(t))return wd.get(t);const e=HA(t);return e!==t&&(wd.set(t,e),km.set(e,t)),e}const Ed=t=>km.get(t);function WA(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(t,e),u=Hi(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Hi(l.result),h.oldVersion,h.newVersion,Hi(l.transaction))}),n&&l.addEventListener("blocked",()=>n()),u.then(h=>{o&&h.addEventListener("close",()=>o()),r&&h.addEventListener("versionchange",()=>r())}).catch(()=>{}),u}const VA=["get","getKey","getAll","getAllKeys","count"],$A=["put","add","delete","clear"],Td=new Map;function by(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Td.get(e))return Td.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=$A.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||VA.includes(n)))return;const o=async function(l,...u){const h=this.transaction(l,r?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),r&&h.done]))[0]};return Td.set(e,o),o}zA(t=>({...t,get:(e,n,i)=>by(e,n)||t.get(e,n,i),has:(e,n)=>!!by(e,n)||t.has(e,n)}));const uS="@firebase/installations",bm="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=1e4,hS=`w:${bm}`,dS="FIS_v2",ZA="https://firebaseinstallations.googleapis.com/v1",qA=60*60*1e3,GA="installations",KA="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},xr=new zr(GA,KA,YA);function fS(t){return t instanceof Sn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS({projectId:t}){return`${ZA}/projects/${t}/installations`}function mS(t){return{token:t.token,requestStatus:2,expiresIn:JA(t.expiresIn),creationTime:Date.now()}}async function _S(t,e){const i=(await e.json()).error;return xr.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function gS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function QA(t,{refreshToken:e}){const n=gS(t);return n.append("Authorization",XA(e)),n}async function vS(t){const e=await t();return e.status>=500&&e.status<600?t():e}function JA(t){return Number(t.replace("s","000"))}function XA(t){return`${dS} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=pS(t),r=gS(t),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const l={fid:n,authVersion:dS,appId:t.appId,sdkVersion:hS},u={method:"POST",headers:r,body:JSON.stringify(l)},h=await vS(()=>fetch(i,u));if(h.ok){const f=await h.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:mS(f.authToken)}}else throw await _S("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=/^[cdef][\w-]{21}$/,Gf="";function iN(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=rN(t);return nN.test(n)?n:Gf}catch{return Gf}}function rN(t){return tN(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=new Map;function ES(t,e){const n=Bc(t);TS(n,e),sN(n,e)}function TS(t,e){const n=wS.get(t);if(n)for(const i of n)i(e)}function sN(t,e){const n=oN();n&&n.postMessage({key:t,fid:e}),aN()}let cr=null;function oN(){return!cr&&"BroadcastChannel"in self&&(cr=new BroadcastChannel("[Firebase] FID Change"),cr.onmessage=t=>{TS(t.data.key,t.data.fid)}),cr}function aN(){wS.size===0&&cr&&(cr.close(),cr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN="firebase-installations-database",uN=1,kr="firebase-installations-store";let Sd=null;function Rm(){return Sd||(Sd=WA(lN,uN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(kr)}}})),Sd}async function Uu(t,e){const n=Bc(t),r=(await Rm()).transaction(kr,"readwrite"),o=r.objectStore(kr),l=await o.get(n);return await o.put(e,n),await r.done,(!l||l.fid!==e.fid)&&ES(t,e.fid),e}async function SS(t){const e=Bc(t),i=(await Rm()).transaction(kr,"readwrite");await i.objectStore(kr).delete(e),await i.done}async function zc(t,e){const n=Bc(t),r=(await Rm()).transaction(kr,"readwrite"),o=r.objectStore(kr),l=await o.get(n),u=e(l);return u===void 0?await o.delete(n):await o.put(u,n),await r.done,u&&(!l||l.fid!==u.fid)&&ES(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lm(t){let e;const n=await zc(t.appConfig,i=>{const r=cN(i),o=hN(t,r);return e=o.registrationPromise,o.installationEntry});return n.fid===Gf?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function cN(t){const e=t||{fid:iN(),registrationStatus:0};return CS(e)}function hN(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(xr.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=dN(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:fN(t)}:{installationEntry:e}}async function dN(t,e){try{const n=await eN(t,e);return Uu(t.appConfig,n)}catch(n){throw fS(n)&&n.customData.serverCode===409?await SS(t.appConfig):await Uu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function fN(t){let e=await Ry(t.appConfig);for(;e.registrationStatus===1;)await yS(100),e=await Ry(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Lm(t);return i||n}return e}function Ry(t){return zc(t,e=>{if(!e)throw xr.create("installation-not-found");return CS(e)})}function CS(t){return pN(t)?{fid:t.fid,registrationStatus:0}:t}function pN(t){return t.registrationStatus===1&&t.registrationTime+cS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN({appConfig:t,heartbeatServiceProvider:e},n){const i=_N(t,n),r=QA(t,n),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const l={installation:{sdkVersion:hS,appId:t.appId}},u={method:"POST",headers:r,body:JSON.stringify(l)},h=await vS(()=>fetch(i,u));if(h.ok){const f=await h.json();return mS(f)}else throw await _S("Generate Auth Token",h)}function _N(t,{fid:e}){return`${pS(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Am(t,e=!1){let n;const i=await zc(t.appConfig,o=>{if(!IS(o))throw xr.create("not-registered");const l=o.authToken;if(!e&&yN(l))return o;if(l.requestStatus===1)return n=gN(t,e),o;{if(!navigator.onLine)throw xr.create("app-offline");const u=EN(o);return n=vN(t,u),u}});return n?await n:i.authToken}async function gN(t,e){let n=await Ly(t.appConfig);for(;n.authToken.requestStatus===1;)await yS(100),n=await Ly(t.appConfig);const i=n.authToken;return i.requestStatus===0?Am(t,e):i}function Ly(t){return zc(t,e=>{if(!IS(e))throw xr.create("not-registered");const n=e.authToken;return TN(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function vN(t,e){try{const n=await mN(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await Uu(t.appConfig,i),n}catch(n){if(fS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await SS(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Uu(t.appConfig,i)}throw n}}function IS(t){return t!==void 0&&t.registrationStatus===2}function yN(t){return t.requestStatus===2&&!wN(t)}function wN(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+qA}function EN(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function TN(t){return t.requestStatus===1&&t.requestTime+cS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(t){const e=t,{installationEntry:n,registrationPromise:i}=await Lm(e);return i?i.catch(console.error):Am(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(t,e=!1){const n=t;return await IN(n),(await Am(n,e)).token}async function IN(t){const{registrationPromise:e}=await Lm(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(t){if(!t||!t.options)throw Cd("App Configuration");if(!t.name)throw Cd("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Cd(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Cd(t){return xr.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="installations",xN="installations-internal",kN=t=>{const e=t.getProvider("app").getImmediate(),n=PN(e),i=Qi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},bN=t=>{const e=t.getProvider("app").getImmediate(),n=Qi(e,PS).getImmediate();return{getId:()=>SN(n),getToken:r=>CN(n,r)}};function RN(){wn(new on(PS,kN,"PUBLIC")),wn(new on(xN,bN,"PRIVATE"))}RN();Bt(uS,bm);Bt(uS,bm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu="analytics",LN="firebase_id",AN="origin",NN=60*1e3,ON="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Nm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt=new Fc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Vt=new zr("analytics","Analytics",MN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t){if(!t.startsWith(Nm)){const e=Vt.create("invalid-gtag-resource",{gtagURL:t});return zt.warn(e.message),""}return t}function xS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function FN(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function UN(t,e){const n=FN("firebase-js-sdk-policy",{createScriptURL:DN}),i=document.createElement("script"),r=`${Nm}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function BN(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function zN(t,e,n,i,r,o){const l=i[r];try{if(l)await e[l];else{const h=(await xS(n)).find(f=>f.measurementId===r);h&&await e[h.appId]}}catch(u){zt.error(u)}t("config",r,o)}async function jN(t,e,n,i,r){try{let o=[];if(r&&r.send_to){let l=r.send_to;Array.isArray(l)||(l=[l]);const u=await xS(n);for(const h of l){const f=u.find(_=>_.measurementId===h),m=f&&e[f.appId];if(m)o.push(m);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",i,r||{})}catch(o){zt.error(o)}}function HN(t,e,n,i){async function r(o,...l){try{if(o==="event"){const[u,h]=l;await jN(t,e,n,u,h)}else if(o==="config"){const[u,h]=l;await zN(t,e,n,i,u,h)}else if(o==="consent"){const[u]=l;t("consent","update",u)}else if(o==="get"){const[u,h,f]=l;t("get",u,h,f)}else if(o==="set"){const[u]=l;t("set",u)}else t(o,...l)}catch(u){zt.error(u)}}return r}function WN(t,e,n,i,r){let o=function(...l){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(o=window[r]),window[r]=HN(o,t,e,n),{gtagCore:o,wrappedGtag:window[r]}}function VN(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Nm)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=30,ZN=1e3;class qN{constructor(e={},n=ZN){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const kS=new qN;function GN(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function KN(t){var e;const{appId:n,apiKey:i}=t,r={method:"GET",headers:GN(i)},o=ON.replace("{app-id}",n),l=await fetch(o,r);if(l.status!==200&&l.status!==304){let u="";try{const h=await l.json();!((e=h.error)===null||e===void 0)&&e.message&&(u=h.error.message)}catch{}throw Vt.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function YN(t,e=kS,n){const{appId:i,apiKey:r,measurementId:o}=t.options;if(!i)throw Vt.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw Vt.create("no-api-key")}const l=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new XN;return setTimeout(async()=>{u.abort()},n!==void 0?n:NN),bS({appId:i,apiKey:r,measurementId:o},l,u,e)}async function bS(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=kS){var o;const{appId:l,measurementId:u}=t;try{await QN(i,e)}catch(h){if(u)return zt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:u};throw h}try{const h=await KN(t);return r.deleteThrottleMetadata(l),h}catch(h){const f=h;if(!JN(f)){if(r.deleteThrottleMetadata(l),u)return zt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:u};throw h}const m=Number((o=f==null?void 0:f.customData)===null||o===void 0?void 0:o.httpStatus)===503?yy(n,r.intervalMillis,$N):yy(n,r.intervalMillis),_={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return r.setThrottleMetadata(l,_),zt.debug(`Calling attemptFetch again in ${m} millis`),bS(t,_,i,r)}}function QN(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(o),i(Vt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function JN(t){if(!(t instanceof Sn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class XN{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function eO(t,e,n,i,r){if(r&&r.global){t("event",n,i);return}else{const o=await e,l=Object.assign(Object.assign({},i),{send_to:o});t("event",n,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tO(){if(XT())try{await eS()}catch(t){return zt.warn(Vt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return zt.warn(Vt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function nO(t,e,n,i,r,o,l){var u;const h=YN(t);h.then(E=>{n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&zt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>zt.error(E)),e.push(h);const f=tO().then(E=>{if(E)return i.getId()}),[m,_]=await Promise.all([h,f]);VN(o)||UN(o,m.measurementId),r("js",new Date);const v=(u=l==null?void 0:l.config)!==null&&u!==void 0?u:{};return v[AN]="firebase",v.update=!0,_!=null&&(v[LN]=_),r("config",m.measurementId,v),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.app=e}_delete(){return delete Yo[this.app.options.appId],Promise.resolve()}}let Yo={},Ay=[];const Ny={};let Id="dataLayer",rO="gtag",Oy,RS,My=!1;function sO(){const t=[];if(YT()&&t.push("This is a browser extension environment."),fL()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,r)=>`(${r+1}) ${i}`).join(" "),n=Vt.create("invalid-analytics-context",{errorInfo:e});zt.warn(n.message)}}function oO(t,e,n){sO();const i=t.options.appId;if(!i)throw Vt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)zt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Vt.create("no-api-key");if(Yo[i]!=null)throw Vt.create("already-exists",{id:i});if(!My){BN(Id);const{wrappedGtag:o,gtagCore:l}=WN(Yo,Ay,Ny,Id,rO);RS=o,Oy=l,My=!0}return Yo[i]=nO(t,Ay,Ny,e,Oy,Id,n),new iO(t)}function aO(t=Uc()){t=ze(t);const e=Qi(t,Bu);return e.isInitialized()?e.getImmediate():lO(t)}function lO(t,e={}){const n=Qi(t,Bu);if(n.isInitialized()){const r=n.getImmediate();if(Sa(e,n.getOptions()))return r;throw Vt.create("already-initialized")}return n.initialize({options:e})}function uO(t,e,n,i){t=ze(t),eO(RS,Yo[t.app.options.appId],e,n,i).catch(r=>zt.error(r))}const Dy="@firebase/analytics",Fy="0.10.0";function cO(){wn(new on(Bu,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return oO(i,r,n)},"PUBLIC")),wn(new on("analytics-internal",t,"PRIVATE")),Bt(Dy,Fy),Bt(Dy,Fy,"esm2017");function t(e){try{const n=e.getProvider(Bu).getImmediate();return{logEvent:(i,r,o)=>uO(n,i,r,o)}}catch(n){throw Vt.create("interop-component-reg-failed",{reason:n})}}}cO();const Uy="@firebase/database",By="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LS="";function hO(t){LS=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),st(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ta(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Bn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new dO(e)}}catch{}return new fO},hr=AS("localStorage"),Kf=AS("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new Fc("@firebase/database"),pO=function(){let t=1;return function(){return t++}}(),NS=function(t){const e=SL(t),n=new yL;n.update(e);const i=n.digest();return Im.encodeByteArray(i)},Va=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Va.apply(null,i):typeof i=="object"?e+=st(i):e+=i,e+=" "}return e};let gr=null,zy=!0;const mO=function(t,e){B(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Cs.logLevel=ye.VERBOSE,gr=Cs.log.bind(Cs),e&&Kf.set("logging_enabled",!0)):typeof t=="function"?gr=t:(gr=null,Kf.remove("logging_enabled"))},dt=function(...t){if(zy===!0&&(zy=!1,gr===null&&Kf.get("logging_enabled")===!0&&mO(!0)),gr){const e=Va.apply(null,t);gr(e)}},$a=function(t){return function(...e){dt(t,...e)}},Yf=function(...t){const e="FIREBASE INTERNAL ERROR: "+Va(...t);Cs.error(e)},ai=function(...t){const e=`FIREBASE FATAL ERROR: ${Va(...t)}`;throw Cs.error(e),new Error(e)},Pt=function(...t){const e="FIREBASE WARNING: "+Va(...t);Cs.warn(e)},_O=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Pt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Om=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},gO=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},zs="[MIN_NAME]",br="[MAX_NAME]",Hr=function(t,e){if(t===e)return 0;if(t===zs||e===br)return-1;if(e===zs||t===br)return 1;{const n=jy(t),i=jy(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},vO=function(t,e){return t===e?0:t<e?-1:1},xo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+st(e))},Mm=function(t){if(typeof t!="object"||t===null)return st(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=st(e[i]),n+=":",n+=Mm(t[e[i]]);return n+="}",n},OS=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function mt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const MS=function(t){B(!Om(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,o,l,u,h;t===0?(o=0,l=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(u=Math.min(Math.floor(Math.log(t)/Math.LN2),i),o=u+i,l=Math.round(t*Math.pow(2,n-u)-Math.pow(2,n))):(o=0,l=Math.round(t/Math.pow(2,1-i-n))));const f=[];for(h=n;h;h-=1)f.push(l%2?1:0),l=Math.floor(l/2);for(h=e;h;h-=1)f.push(o%2?1:0),o=Math.floor(o/2);f.push(r?1:0),f.reverse();const m=f.join("");let _="";for(h=0;h<64;h+=8){let v=parseInt(m.substr(h,8),2).toString(16);v.length===1&&(v="0"+v),_=_+v}return _.toLowerCase()},yO=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},wO=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function EO(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const TO=new RegExp("^-?(0*)\\d{1,10}$"),SO=-2147483648,CO=2147483647,jy=function(t){if(TO.test(t)){const e=Number(t);if(e>=SO&&e<=CO)return e}return null},Xs=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Pt("Exception was thrown by user callback.",n),e},Math.floor(0))}},IO=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Qo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Pt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(dt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Pt(e)}}class Is{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Is.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="5",DS="v",FS="s",US="r",BS="f",zS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,jS="ls",HS="p",Qf="ac",WS="websocket",VS="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n,i,r,o=!1,l="",u=!1,h=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=hr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&hr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function kO(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ZS(t,e,n){B(typeof e=="string","typeof type must == string"),B(typeof n=="object","typeof params must == object");let i;if(e===WS)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===VS)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);kO(t)&&(n.ns=t.namespace);const r=[];return mt(n,(o,l)=>{r.push(o+"="+l)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(){this.counters_={}}incrementCounter(e,n=1){Bn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return sL(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd={},xd={};function Fm(t){const e=t.toString();return Pd[e]||(Pd[e]=new bO),Pd[e]}function RO(t,e){const n=t.toString();return xd[n]||(xd[n]=e()),xd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Xs(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="start",AO="close",NO="pLPCommand",OO="pRTLPCB",qS="id",GS="pw",KS="ser",MO="cb",DO="seg",FO="ts",UO="d",BO="dframe",YS=1870,QS=30,zO=YS-QS,jO=25e3,HO=3e4;class _s{constructor(e,n,i,r,o,l,u){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=l,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$a(e),this.stats_=Fm(n),this.urlFn=h=>(this.appCheckToken&&(h[Qf]=this.appCheckToken),ZS(n,VS,h))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new LO(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(HO)),gO(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Um((...o)=>{const[l,u,h,f,m]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===Hy)this.id=u,this.password=h;else if(l===AO)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...o)=>{const[l,u]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,u)},()=>{this.onClosed_()},this.urlFn);const i={};i[Hy]="t",i[KS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[MO]=this.scriptTagHolder.uniqueCallbackIdentifier),i[DS]=Dm,this.transportSessionId&&(i[FS]=this.transportSessionId),this.lastSessionId&&(i[jS]=this.lastSessionId),this.applicationId&&(i[HS]=this.applicationId),this.appCheckToken&&(i[Qf]=this.appCheckToken),typeof location<"u"&&location.hostname&&zS.test(location.hostname)&&(i[US]=BS);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){_s.forceAllow_=!0}static forceDisallow(){_s.forceDisallow_=!0}static isAvailable(){return _s.forceAllow_?!0:!_s.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!yO()&&!wO()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=st(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=WT(n),r=OS(i,zO);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[BO]="t",i[qS]=e,i[GS]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=st(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Um{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=pO(),window[NO+this.uniqueCallbackIdentifier]=e,window[OO+this.uniqueCallbackIdentifier]=n,this.myIFrame=Um.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(u){dt("frame writing exception"),u.stack&&dt(u.stack),dt(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||dt("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[qS]=this.myID,e[GS]=this.myPW,e[KS]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+QS+i.length<=YS;){const l=this.pendingSegs.shift();i=i+"&"+DO+r+"="+l.seg+"&"+FO+r+"="+l.ts+"&"+UO+r+"="+l.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(jO)),o=()=>{clearTimeout(r),i()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{dt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=16384,VO=45e3;let zu=null;typeof MozWebSocket<"u"?zu=MozWebSocket:typeof WebSocket<"u"&&(zu=WebSocket);class fn{constructor(e,n,i,r,o,l,u){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$a(this.connId),this.stats_=Fm(n),this.connURL=fn.connectionURL_(n,l,u,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,o){const l={};return l[DS]=Dm,typeof location<"u"&&location.hostname&&zS.test(location.hostname)&&(l[US]=BS),n&&(l[FS]=n),i&&(l[jS]=i),r&&(l[Qf]=r),o&&(l[HS]=o),ZS(e,WS,l)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,hr.set("previous_websocket_failure",!0);try{let i;JT(),this.mySock=new zu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){fn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&zu!==null&&!fn.forceDisallow_}static previouslyFailed(){return hr.isInMemoryStorage||hr.get("previous_websocket_failure")===!0}markConnectionHealthy(){hr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Ta(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(B(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=st(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=OS(n,WO);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(VO))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}fn.responsesRequiredToBeHealthy=2;fn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[_s,fn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=fn&&fn.isAvailable();let i=n&&!fn.previouslyFailed();if(e.webSocketOnly&&(n||Pt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[fn];else{const r=this.transports_=[];for(const o of Ia.ALL_TRANSPORTS)o&&o.isAvailable()&&r.push(o);Ia.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ia.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=6e4,ZO=5e3,qO=10*1024,GO=100*1024,kd="t",Wy="d",KO="s",Vy="r",YO="e",$y="o",Zy="a",qy="n",Gy="p",QO="h";class JO{constructor(e,n,i,r,o,l,u,h,f,m){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=l,this.onReady_=u,this.onDisconnect_=h,this.onKill_=f,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$a("c:"+this.id+":"),this.transportManager_=new Ia(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Qo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>GO?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>qO?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(kd in e){const n=e[kd];n===Zy?this.upgradeIfSecondaryHealthy_():n===Vy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===$y&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=xo("t",e),i=xo("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Gy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Zy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:qy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=xo("t",e),i=xo("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=xo(kd,e);if(Wy in e){const i=e[Wy];if(n===QO){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===qy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===KO?this.onConnectionShutdown_(i):n===Vy?this.onReset_(i):n===YO?Yf("Server Error: "+i):n===$y?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Yf("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Dm!==i&&Pt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Qo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor($O))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Qo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(ZO))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Gy,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(hr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.allowedEvents_=e,this.listeners_={},B(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(e){B(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends XS{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Pm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ju}getInitialEvent(e){return B(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=32,Yy=768;class we{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function _e(){return new we("")}function se(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Zi(t){return t.pieces_.length-t.pieceNum_}function Ce(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new we(t.pieces_,e)}function Bm(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function XO(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Pa(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function eC(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new we(e,0)}function Fe(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof we)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new we(n,0)}function ae(t){return t.pieceNum_>=t.pieces_.length}function Ot(t,e){const n=se(t),i=se(e);if(n===null)return e;if(n===i)return Ot(Ce(t),Ce(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function eM(t,e){const n=Pa(t,0),i=Pa(e,0);for(let r=0;r<n.length&&r<i.length;r++){const o=Hr(n[r],i[r]);if(o!==0)return o}return n.length===i.length?0:n.length<i.length?-1:1}function zm(t,e){if(Zi(t)!==Zi(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function en(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Zi(t)>Zi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class tM{constructor(e,n){this.errorPrefix_=n,this.parts_=Pa(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Dc(this.parts_[i]);tC(this)}}function nM(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Dc(e),tC(t)}function iM(t){const e=t.parts_.pop();t.byteLength_-=Dc(e),t.parts_.length>0&&(t.byteLength_-=1)}function tC(t){if(t.byteLength_>Yy)throw new Error(t.errorPrefix_+"has a key path longer than "+Yy+" bytes ("+t.byteLength_+").");if(t.parts_.length>Ky)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ky+") or object contains a cycle "+or(t))}function or(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm extends XS{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new jm}getInitialEvent(e){return B(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=1e3,rM=60*5*1e3,Qy=30*1e3,sM=1.3,oM=3e4,aM="server_kill",Jy=3;class ti extends JS{constructor(e,n,i,r,o,l,u,h){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=l,this.appCheckTokenProvider_=u,this.authOverride_=h,this.id=ti.nextPersistentConnectionId_++,this.log_=$a("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ko,this.maxReconnectDelay_=rM,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h&&!JT())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");jm.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&ju.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,o={r,a:e,b:n};this.log_(st(o)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new Wa,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const u=l.d;l.s==="ok"?n.resolve(u):n.reject(u)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,i,r){this.initConnection_();const o=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+o),this.listens.has(l)||this.listens.set(l,new Map),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(l).has(o),"listen() called twice for same path/queryId.");const u={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(l).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const o={p:i},l="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(l,o,u=>{const h=u.d,f=u.s;ti.warnOnListenWarnings_(h,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",u),f!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(f,h))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Bn(e,"w")){const i=Bs(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Pt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||vL(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Qy)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=gL(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const o=r.s,l=r.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const o={p:e},l="n";r&&(o.q=i,o.t=r),this.sendRequest(l,o)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const o={p:n,d:i};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,l=>{r&&setTimeout(()=>{r(l.s,l.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,o){this.initConnection_();const l={p:n,d:i};o!==void 0&&(l.h=o),this.outstandingPuts_.push({action:e,request:l,onComplete:r}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+st(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Yf("Unrecognized action received from server: "+st(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ko,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ko,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>oM&&(this.reconnectDelay_=ko),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*sM)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+ti.nextConnectionId_++,o=this.lastSessionId;let l=!1,u=null;const h=function(){u?u.close():(l=!0,i())},f=function(_){B(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(_)};this.realtime_={close:h,sendRequest:f};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,v]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);l?dt("getToken() completed but was canceled"):(dt("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=v&&v.token,u=new JO(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,E=>{Pt(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(aM)},o))}catch(_){this.log_("Failed to get token: "+_),l||(this.repoInfo_.nodeAdmin&&Pt(_),h())}}}interrupt(e){dt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){dt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],zf(this.interruptReasons_)&&(this.reconnectDelay_=ko,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(o=>Mm(o)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new we(e).toString();let r;if(this.listens.has(i)){const o=this.listens.get(i);r=o.get(n),o.delete(n),o.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){dt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Jy&&(this.reconnectDelay_=Qy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){dt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Jy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+LS.replace(/\./g,"-")]=1,Pm()?e["framework.cordova"]=1:QT()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ju.getInstance().currentlyOnline();return zf(this.interruptReasons_)&&e}}ti.nextPersistentConnectionId_=0;ti.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new oe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new oe(zs,e),r=new oe(zs,n);return this.compare(i,r)!==0}minPost(){return oe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ol;class nC extends jc{static get __EMPTY_NODE(){return Ol}static set __EMPTY_NODE(e){Ol=e}compare(e,n){return Hr(e.name,n.name)}isDefinedOn(e){throw Qs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return oe.MIN}maxPost(){return new oe(br,Ol)}makePost(e,n){return B(typeof e=="string","KeyIndex indexValue must always be a string."),new oe(e,Ol)}toString(){return".key"}}const Ps=new nC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=n?i(e.key,n):1,r&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class it{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??it.RED,this.left=r??Mt.EMPTY_NODE,this.right=o??Mt.EMPTY_NODE}copy(e,n,i,r,o){return new it(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const o=i(e,r.key);return o<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Mt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Mt.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}it.RED=!0;it.BLACK=!1;class lM{copy(e,n,i,r,o){return this}insert(e,n,i){return new it(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Mt{constructor(e,n=Mt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Mt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,it.BLACK,null,null))}remove(e){return new Mt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,it.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ml(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ml(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ml(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ml(this.root_,null,this.comparator_,!0,e)}}Mt.EMPTY_NODE=new lM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t,e){return Hr(t.name,e.name)}function Hm(t,e){return Hr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jf;function cM(t){Jf=t}const iC=function(t){return typeof t=="number"?"number:"+MS(t):"string:"+t},rC=function(t){if(t.isLeafNode()){const e=t.val();B(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Bn(e,".sv"),"Priority must be a string or number.")}else B(t===Jf||t.isEmpty(),"priority of unexpected type.");B(t===Jf||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xy;class tt{constructor(e,n=tt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),rC(this.priorityNode_)}static set __childrenNodeConstructor(e){Xy=e}static get __childrenNodeConstructor(){return Xy}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new tt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:tt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ae(e)?this:se(e)===".priority"?this.priorityNode_:tt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:tt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=se(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(B(i!==".priority"||Zi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,tt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ce(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+iC(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=MS(this.value_):e+=this.value_,this.lazyHash_=NS(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===tt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof tt.__childrenNodeConstructor?-1:(B(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=tt.VALUE_TYPE_ORDER.indexOf(n),o=tt.VALUE_TYPE_ORDER.indexOf(i);return B(r>=0,"Unknown leaf type: "+n),B(o>=0,"Unknown leaf type: "+i),r===o?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}tt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sC,oC;function hM(t){sC=t}function dM(t){oC=t}class fM extends jc{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?Hr(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return oe.MIN}maxPost(){return new oe(br,new tt("[PRIORITY-POST]",oC))}makePost(e,n){const i=sC(e);return new oe(n,new tt("[PRIORITY-POST]",i))}toString(){return".priority"}}const Ue=new fM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=Math.log(2);class mM{constructor(e){const n=o=>parseInt(Math.log(o)/pM,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Hu=function(t,e,n,i){t.sort(e);const r=function(h,f){const m=f-h;let _,v;if(m===0)return null;if(m===1)return _=t[h],v=n?n(_):_,new it(v,_.node,it.BLACK,null,null);{const E=parseInt(m/2,10)+h,w=r(h,E),C=r(E+1,f);return _=t[E],v=n?n(_):_,new it(v,_.node,it.BLACK,w,C)}},o=function(h){let f=null,m=null,_=t.length;const v=function(w,C){const R=_-w,T=_;_-=w;const y=r(R+1,T),I=t[R],b=n?n(I):I;E(new it(b,I.node,C,null,y))},E=function(w){f?(f.left=w,f=w):(m=w,f=w)};for(let w=0;w<h.count;++w){const C=h.nextBitIsOne(),R=Math.pow(2,h.count-(w+1));C?v(R,it.BLACK):(v(R,it.BLACK),v(R,it.RED))}return m},l=new mM(t.length),u=o(l);return new Mt(i||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd;const ts={};class Kn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return B(ts&&Ue,"ChildrenNode.ts has not been loaded"),bd=bd||new Kn({".priority":ts},{".priority":Ue}),bd}get(e){const n=Bs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Mt?n:null}hasIndex(e){return Bn(this.indexSet_,e.toString())}addIndex(e,n){B(e!==Ps,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=n.getIterator(oe.Wrap);let l=o.getNext();for(;l;)r=r||e.isDefinedOn(l.node),i.push(l),l=o.getNext();let u;r?u=Hu(i,e.getCompare()):u=ts;const h=e.toString(),f=Object.assign({},this.indexSet_);f[h]=e;const m=Object.assign({},this.indexes_);return m[h]=u,new Kn(m,f)}addToIndexes(e,n){const i=Du(this.indexes_,(r,o)=>{const l=Bs(this.indexSet_,o);if(B(l,"Missing index implementation for "+o),r===ts)if(l.isDefinedOn(e.node)){const u=[],h=n.getIterator(oe.Wrap);let f=h.getNext();for(;f;)f.name!==e.name&&u.push(f),f=h.getNext();return u.push(e),Hu(u,l.getCompare())}else return ts;else{const u=n.get(e.name);let h=r;return u&&(h=h.remove(new oe(e.name,u))),h.insert(e,e.node)}});return new Kn(i,this.indexSet_)}removeFromIndexes(e,n){const i=Du(this.indexes_,r=>{if(r===ts)return r;{const o=n.get(e.name);return o?r.remove(new oe(e.name,o)):r}});return new Kn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo;class Q{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&rC(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return bo||(bo=new Q(new Mt(Hm),null,Kn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||bo}updatePriority(e){return this.children_.isEmpty()?this:new Q(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?bo:n}}getChild(e){const n=se(e);return n===null?this:this.getImmediateChild(n).getChild(Ce(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(B(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new oe(e,n);let r,o;n.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(i,this.children_));const l=r.isEmpty()?bo:this.priorityNode_;return new Q(r,l,o)}}updateChild(e,n){const i=se(e);if(i===null)return n;{B(se(e)!==".priority"||Zi(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(Ce(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,o=!0;if(this.forEachChild(Ue,(l,u)=>{n[l]=u.val(e),i++,o&&Q.INTEGER_REGEXP_.test(l)?r=Math.max(r,Number(l)):o=!1}),!e&&o&&r<2*i){const l=[];for(const u in n)l[u]=n[u];return l}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+iC(this.getPriority().val())+":"),this.forEachChild(Ue,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":NS(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const o=r.getPredecessorKey(new oe(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new oe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new oe(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,oe.Wrap);let o=r.peek();for(;o!=null&&n.compare(o,e)<0;)r.getNext(),o=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,oe.Wrap);let o=r.peek();for(;o!=null&&n.compare(o,e)>0;)r.getNext(),o=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Za?-1:0}withIndex(e){if(e===Ps||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Q(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ps||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Ue),r=n.getIterator(Ue);let o=i.getNext(),l=r.getNext();for(;o&&l;){if(o.name!==l.name||!o.node.equals(l.node))return!1;o=i.getNext(),l=r.getNext()}return o===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===Ps?null:this.indexMap_.get(e.toString())}}Q.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class _M extends Q{constructor(){super(new Mt(Hm),Q.EMPTY_NODE,Kn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Q.EMPTY_NODE}isEmpty(){return!1}}const Za=new _M;Object.defineProperties(oe,{MIN:{value:new oe(zs,Q.EMPTY_NODE)},MAX:{value:new oe(br,Za)}});nC.__EMPTY_NODE=Q.EMPTY_NODE;tt.__childrenNodeConstructor=Q;cM(Za);dM(Za);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=!0;function rt(t,e=null){if(t===null)return Q.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),B(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new tt(n,rt(e))}if(!(t instanceof Array)&&gM){const n=[];let i=!1;if(mt(t,(l,u)=>{if(l.substring(0,1)!=="."){const h=rt(u);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),n.push(new oe(l,h)))}}),n.length===0)return Q.EMPTY_NODE;const o=Hu(n,uM,l=>l.name,Hm);if(i){const l=Hu(n,Ue.getCompare());return new Q(o,rt(e),new Kn({".priority":l},{".priority":Ue}))}else return new Q(o,rt(e),Kn.Default)}else{let n=Q.EMPTY_NODE;return mt(t,(i,r)=>{if(Bn(t,i)&&i.substring(0,1)!=="."){const o=rt(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(rt(e))}}hM(rt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM extends jc{constructor(e){super(),this.indexPath_=e,B(!ae(e)&&se(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?Hr(e.name,n.name):o}makePost(e,n){const i=rt(e),r=Q.EMPTY_NODE.updateChild(this.indexPath_,i);return new oe(n,r)}maxPost(){const e=Q.EMPTY_NODE.updateChild(this.indexPath_,Za);return new oe(br,e)}toString(){return Pa(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM extends jc{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Hr(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return oe.MIN}maxPost(){return oe.MAX}makePost(e,n){const i=rt(e);return new oe(n,i)}toString(){return".value"}}const wM=new yM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(t){return{type:"value",snapshotNode:t}}function js(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function xa(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ka(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function EM(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e){this.index_=e}updateChild(e,n,i,r,o,l){B(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=e.getImmediateChild(n);return u.getChild(r).equals(i.getChild(r))&&u.isEmpty()===i.isEmpty()||(l!=null&&(i.isEmpty()?e.hasChild(n)?l.trackChildChange(xa(n,u)):B(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?l.trackChildChange(js(n,i)):l.trackChildChange(ka(n,i,u))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Ue,(r,o)=>{n.hasChild(r)||i.trackChildChange(xa(r,o))}),n.isLeafNode()||n.forEachChild(Ue,(r,o)=>{if(e.hasChild(r)){const l=e.getImmediateChild(r);l.equals(o)||i.trackChildChange(ka(r,o,l))}else i.trackChildChange(js(r,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Q.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this.indexedFilter_=new Wm(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ba.getStartPost_(e),this.endPost_=ba.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,o,l){return this.matches(new oe(n,i))||(i=Q.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,o,l)}updateFullNode(e,n,i){n.isLeafNode()&&(n=Q.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(Q.EMPTY_NODE);const o=this;return n.forEachChild(Ue,(l,u)=>{o.matches(new oe(l,u))||(r=r.updateImmediateChild(l,Q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new ba(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,o,l){return this.rangedFilter_.matches(new oe(n,i))||(i=Q.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,o,l):this.fullLimitUpdateChild_(e,n,i,o,l)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=Q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=Q.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;o.hasNext()&&l<this.limit_;){const u=o.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))r=r.updateImmediateChild(u.name,u.node),l++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(Q.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let l=0;for(;o.hasNext();){const u=o.getNext();l<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?l++:r=r.updateImmediateChild(u.name,Q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,o){let l;if(this.reverse_){const _=this.index_.getCompare();l=(v,E)=>_(E,v)}else l=this.index_.getCompare();const u=e;B(u.numChildren()===this.limit_,"");const h=new oe(n,i),f=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),m=this.rangedFilter_.matches(h);if(u.hasChild(n)){const _=u.getImmediateChild(n);let v=r.getChildAfterChild(this.index_,f,this.reverse_);for(;v!=null&&(v.name===n||u.hasChild(v.name));)v=r.getChildAfterChild(this.index_,v,this.reverse_);const E=v==null?1:l(v,h);if(m&&!i.isEmpty()&&E>=0)return o!=null&&o.trackChildChange(ka(n,i,_)),u.updateImmediateChild(n,i);{o!=null&&o.trackChildChange(xa(n,_));const C=u.updateImmediateChild(n,Q.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(o!=null&&o.trackChildChange(js(v.name,v.node)),C.updateImmediateChild(v.name,v.node)):C}}else return i.isEmpty()?e:m&&l(f,h)>=0?(o!=null&&(o.trackChildChange(xa(f.name,f.node)),o.trackChildChange(js(n,i))),u.updateImmediateChild(n,i).updateImmediateChild(f.name,Q.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ue}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zs}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:br}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ue}copy(){const e=new Vm;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function SM(t){return t.loadsAllData()?new Wm(t.getIndex()):t.hasLimit()?new TM(t):new ba(t)}function ew(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ue?n="$priority":t.index_===wM?n="$value":t.index_===Ps?n="$key":(B(t.index_ instanceof vM,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=st(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=st(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+st(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=st(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+st(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function tw(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ue&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends JS{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=$a("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(B(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const l=Wu.getListenId_(e,i),u={};this.listens_[l]=u;const h=ew(e._queryParams);this.restRequest_(o+".json",h,(f,m)=>{let _=m;if(f===404&&(_=null,f=null),f===null&&this.onDataUpdate_(o,_,!1,i),Bs(this.listens_,l)===u){let v;f?f===401?v="permission_denied":v="rest_error:"+f:v="ok",r(v,null)}})}unlisten(e,n){const i=Wu.getListenId_(e,n);delete this.listens_[i]}get(e){const n=ew(e._queryParams),i=e._path.toString(),r=new Wa;return this.restRequest_(i+".json",n,(o,l)=>{let u=l;o===404&&(u=null,o=null),o===null?(this.onDataUpdate_(i,u,!1,null),r.resolve(u)):r.reject(new Error(u))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Js(n);this.log_("Sending REST request for "+l);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(i&&u.readyState===4){this.log_("REST Response for "+l+" received. status:",u.status,"response:",u.responseText);let h=null;if(u.status>=200&&u.status<300){try{h=Ta(u.responseText)}catch{Pt("Failed to parse JSON response for "+l+": "+u.responseText)}i(null,h)}else u.status!==401&&u.status!==404&&Pt("Got unsuccessful REST response for "+l+" Status: "+u.status),i(u.status);i=null}},u.open("GET",l,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(){this.rootNode_=Q.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(){return{value:null,children:new Map}}function lC(t,e,n){if(ae(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=se(e);t.children.has(i)||t.children.set(i,Vu());const r=t.children.get(i);e=Ce(e),lC(r,e,n)}}function Xf(t,e,n){t.value!==null?n(e,t.value):IM(t,(i,r)=>{const o=new we(e.toString()+"/"+i);Xf(r,o,n)})}function IM(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&mt(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=10*1e3,xM=30*1e3,kM=5*60*1e3;class bM{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new PM(e);const i=nw+(xM-nw)*Math.random();Qo(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;mt(e,(r,o)=>{o>0&&Bn(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),Qo(this.reportStats_.bind(this),Math.floor(Math.random()*2*kM))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(pn||(pn={}));function $m(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Zm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function qm(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=pn.ACK_USER_WRITE,this.source=$m()}operationForChild(e){if(ae(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new we(e));return new $u(_e(),n,this.revert)}}else return B(se(this.path)===e,"operationForChild called for unrelated child."),new $u(Ce(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n){this.source=e,this.path=n,this.type=pn.LISTEN_COMPLETE}operationForChild(e){return ae(this.path)?new Ra(this.source,_e()):new Ra(this.source,Ce(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=pn.OVERWRITE}operationForChild(e){return ae(this.path)?new Rr(this.source,_e(),this.snap.getImmediateChild(e)):new Rr(this.source,Ce(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=pn.MERGE}operationForChild(e){if(ae(this.path)){const n=this.children.subtree(new we(e));return n.isEmpty()?null:n.value?new Rr(this.source,_e(),n.value):new Hs(this.source,_e(),n)}else return B(se(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Hs(this.source,Ce(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ae(e))return this.isFullyInitialized()&&!this.filtered_;const n=se(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function LM(t,e,n,i){const r=[],o=[];return e.forEach(l=>{l.type==="child_changed"&&t.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(EM(l.childName,l.snapshotNode))}),Ro(t,r,"child_removed",e,i,n),Ro(t,r,"child_added",e,i,n),Ro(t,r,"child_moved",o,i,n),Ro(t,r,"child_changed",e,i,n),Ro(t,r,"value",e,i,n),r}function Ro(t,e,n,i,r,o){const l=i.filter(u=>u.type===n);l.sort((u,h)=>NM(t,u,h)),l.forEach(u=>{const h=AM(t,u,o);r.forEach(f=>{f.respondsTo(u.type)&&e.push(f.createEvent(h,t.query_))})})}function AM(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function NM(t,e,n){if(e.childName==null||n.childName==null)throw Qs("Should only compare child_ events.");const i=new oe(e.childName,e.snapshotNode),r=new oe(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t,e){return{eventCache:t,serverCache:e}}function Jo(t,e,n,i){return Hc(new Lr(e,n,i),t.serverCache)}function uC(t,e,n,i){return Hc(t.eventCache,new Lr(e,n,i))}function ep(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ar(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd;const OM=()=>(Rd||(Rd=new Mt(vO)),Rd);class Se{constructor(e,n=OM()){this.value=e,this.children=n}static fromObject(e){let n=new Se(null);return mt(e,(i,r)=>{n=n.set(new we(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:_e(),value:this.value};if(ae(e))return null;{const i=se(e),r=this.children.get(i);if(r!==null){const o=r.findRootMostMatchingPathAndValue(Ce(e),n);return o!=null?{path:Fe(new we(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ae(e))return this;{const n=se(e),i=this.children.get(n);return i!==null?i.subtree(Ce(e)):new Se(null)}}set(e,n){if(ae(e))return new Se(n,this.children);{const i=se(e),o=(this.children.get(i)||new Se(null)).set(Ce(e),n),l=this.children.insert(i,o);return new Se(this.value,l)}}remove(e){if(ae(e))return this.children.isEmpty()?new Se(null):new Se(null,this.children);{const n=se(e),i=this.children.get(n);if(i){const r=i.remove(Ce(e));let o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new Se(null):new Se(this.value,o)}else return this}}get(e){if(ae(e))return this.value;{const n=se(e),i=this.children.get(n);return i?i.get(Ce(e)):null}}setTree(e,n){if(ae(e))return n;{const i=se(e),o=(this.children.get(i)||new Se(null)).setTree(Ce(e),n);let l;return o.isEmpty()?l=this.children.remove(i):l=this.children.insert(i,o),new Se(this.value,l)}}fold(e){return this.fold_(_e(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Fe(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,_e(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(ae(e))return null;{const o=se(e),l=this.children.get(o);return l?l.findOnPath_(Ce(e),Fe(n,o),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,_e(),n)}foreachOnPath_(e,n,i){if(ae(e))return this;{this.value&&i(n,this.value);const r=se(e),o=this.children.get(r);return o?o.foreachOnPath_(Ce(e),Fe(n,r),i):new Se(null)}}foreach(e){this.foreach_(_e(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(Fe(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.writeTree_=e}static empty(){return new vn(new Se(null))}}function Xo(t,e,n){if(ae(e))return new vn(new Se(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let o=i.value;const l=Ot(r,e);return o=o.updateChild(l,n),new vn(t.writeTree_.set(r,o))}else{const r=new Se(n),o=t.writeTree_.setTree(e,r);return new vn(o)}}}function tp(t,e,n){let i=t;return mt(n,(r,o)=>{i=Xo(i,Fe(e,r),o)}),i}function iw(t,e){if(ae(e))return vn.empty();{const n=t.writeTree_.setTree(e,new Se(null));return new vn(n)}}function np(t,e){return Wr(t,e)!=null}function Wr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ot(n.path,e)):null}function rw(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ue,(i,r)=>{e.push(new oe(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new oe(i,r.value))}),e}function Wi(t,e){if(ae(e))return t;{const n=Wr(t,e);return n!=null?new vn(new Se(n)):new vn(t.writeTree_.subtree(e))}}function ip(t){return t.writeTree_.isEmpty()}function Ws(t,e){return cC(_e(),t.writeTree_,e)}function cC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{r===".priority"?(B(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=cC(Fe(t,r),o,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Fe(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(t,e){return pC(e,t)}function MM(t,e,n,i,r){B(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=Xo(t.visibleWrites,e,n)),t.lastWriteId=i}function DM(t,e,n,i){B(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=tp(t.visibleWrites,e,n),t.lastWriteId=i}function FM(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function UM(t,e){const n=t.allWrites.findIndex(u=>u.writeId===e);B(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,o=!1,l=t.allWrites.length-1;for(;r&&l>=0;){const u=t.allWrites[l];u.visible&&(l>=n&&BM(u,i.path)?r=!1:en(i.path,u.path)&&(o=!0)),l--}if(r){if(o)return zM(t),!0;if(i.snap)t.visibleWrites=iw(t.visibleWrites,i.path);else{const u=i.children;mt(u,h=>{t.visibleWrites=iw(t.visibleWrites,Fe(i.path,h))})}return!0}else return!1}function BM(t,e){if(t.snap)return en(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&en(Fe(t.path,n),e))return!0;return!1}function zM(t){t.visibleWrites=hC(t.allWrites,jM,_e()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function jM(t){return t.visible}function hC(t,e,n){let i=vn.empty();for(let r=0;r<t.length;++r){const o=t[r];if(e(o)){const l=o.path;let u;if(o.snap)en(n,l)?(u=Ot(n,l),i=Xo(i,u,o.snap)):en(l,n)&&(u=Ot(l,n),i=Xo(i,_e(),o.snap.getChild(u)));else if(o.children){if(en(n,l))u=Ot(n,l),i=tp(i,u,o.children);else if(en(l,n))if(u=Ot(l,n),ae(u))i=tp(i,_e(),o.children);else{const h=Bs(o.children,se(u));if(h){const f=h.getChild(Ce(u));i=Xo(i,_e(),f)}}}else throw Qs("WriteRecord should have .snap or .children")}}return i}function dC(t,e,n,i,r){if(!i&&!r){const o=Wr(t.visibleWrites,e);if(o!=null)return o;{const l=Wi(t.visibleWrites,e);if(ip(l))return n;if(n==null&&!np(l,_e()))return null;{const u=n||Q.EMPTY_NODE;return Ws(l,u)}}}else{const o=Wi(t.visibleWrites,e);if(!r&&ip(o))return n;if(!r&&n==null&&!np(o,_e()))return null;{const l=function(f){return(f.visible||r)&&(!i||!~i.indexOf(f.writeId))&&(en(f.path,e)||en(e,f.path))},u=hC(t.allWrites,l,e),h=n||Q.EMPTY_NODE;return Ws(u,h)}}}function HM(t,e,n){let i=Q.EMPTY_NODE;const r=Wr(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Ue,(o,l)=>{i=i.updateImmediateChild(o,l)}),i;if(n){const o=Wi(t.visibleWrites,e);return n.forEachChild(Ue,(l,u)=>{const h=Ws(Wi(o,new we(l)),u);i=i.updateImmediateChild(l,h)}),rw(o).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}else{const o=Wi(t.visibleWrites,e);return rw(o).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}}function WM(t,e,n,i,r){B(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Fe(e,n);if(np(t.visibleWrites,o))return null;{const l=Wi(t.visibleWrites,o);return ip(l)?r.getChild(n):Ws(l,r.getChild(n))}}function VM(t,e,n,i){const r=Fe(e,n),o=Wr(t.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){const l=Wi(t.visibleWrites,r);return Ws(l,i.getNode().getImmediateChild(n))}else return null}function $M(t,e){return Wr(t.visibleWrites,e)}function ZM(t,e,n,i,r,o,l){let u;const h=Wi(t.visibleWrites,e),f=Wr(h,_e());if(f!=null)u=f;else if(n!=null)u=Ws(h,n);else return[];if(u=u.withIndex(l),!u.isEmpty()&&!u.isLeafNode()){const m=[],_=l.getCompare(),v=o?u.getReverseIteratorFrom(i,l):u.getIteratorFrom(i,l);let E=v.getNext();for(;E&&m.length<r;)_(E,i)!==0&&m.push(E),E=v.getNext();return m}else return[]}function qM(){return{visibleWrites:vn.empty(),allWrites:[],lastWriteId:-1}}function Zu(t,e,n,i){return dC(t.writeTree,t.treePath,e,n,i)}function Km(t,e){return HM(t.writeTree,t.treePath,e)}function sw(t,e,n,i){return WM(t.writeTree,t.treePath,e,n,i)}function qu(t,e){return $M(t.writeTree,Fe(t.treePath,e))}function GM(t,e,n,i,r,o){return ZM(t.writeTree,t.treePath,e,n,i,r,o)}function Ym(t,e,n){return VM(t.writeTree,t.treePath,e,n)}function fC(t,e){return pC(Fe(t.treePath,e),t.writeTree)}function pC(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;B(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),B(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,ka(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,xa(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,js(i,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,ka(i,e.snapshotNode,r.oldSnap));else throw Qs("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const mC=new YM;class Qm{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Lr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ym(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ar(this.viewCache_),o=GM(this.writes_,r,n,1,i,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(t){return{filter:t}}function JM(t,e){B(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),B(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function XM(t,e,n,i,r){const o=new KM;let l,u;if(n.type===pn.OVERWRITE){const f=n;f.source.fromUser?l=rp(t,e,f.path,f.snap,i,r,o):(B(f.source.fromServer,"Unknown source."),u=f.source.tagged||e.serverCache.isFiltered()&&!ae(f.path),l=Gu(t,e,f.path,f.snap,i,r,u,o))}else if(n.type===pn.MERGE){const f=n;f.source.fromUser?l=tD(t,e,f.path,f.children,i,r,o):(B(f.source.fromServer,"Unknown source."),u=f.source.tagged||e.serverCache.isFiltered(),l=sp(t,e,f.path,f.children,i,r,u,o))}else if(n.type===pn.ACK_USER_WRITE){const f=n;f.revert?l=rD(t,e,f.path,i,r,o):l=nD(t,e,f.path,f.affectedTree,i,r,o)}else if(n.type===pn.LISTEN_COMPLETE)l=iD(t,e,n.path,i,o);else throw Qs("Unknown operation type: "+n.type);const h=o.getChanges();return eD(e,l,h),{viewCache:l,changes:h}}function eD(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=ep(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(aC(ep(e)))}}function _C(t,e,n,i,r,o){const l=e.eventCache;if(qu(i,n)!=null)return e;{let u,h;if(ae(n))if(B(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=Ar(e),m=f instanceof Q?f:Q.EMPTY_NODE,_=Km(i,m);u=t.filter.updateFullNode(e.eventCache.getNode(),_,o)}else{const f=Zu(i,Ar(e));u=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const f=se(n);if(f===".priority"){B(Zi(n)===1,"Can't have a priority with additional path components");const m=l.getNode();h=e.serverCache.getNode();const _=sw(i,n,m,h);_!=null?u=t.filter.updatePriority(m,_):u=l.getNode()}else{const m=Ce(n);let _;if(l.isCompleteForChild(f)){h=e.serverCache.getNode();const v=sw(i,n,l.getNode(),h);v!=null?_=l.getNode().getImmediateChild(f).updateChild(m,v):_=l.getNode().getImmediateChild(f)}else _=Ym(i,f,e.serverCache);_!=null?u=t.filter.updateChild(l.getNode(),f,_,m,r,o):u=l.getNode()}}return Jo(e,u,l.isFullyInitialized()||ae(n),t.filter.filtersNodes())}}function Gu(t,e,n,i,r,o,l,u){const h=e.serverCache;let f;const m=l?t.filter:t.filter.getIndexedFilter();if(ae(n))f=m.updateFullNode(h.getNode(),i,null);else if(m.filtersNodes()&&!h.isFiltered()){const E=h.getNode().updateChild(n,i);f=m.updateFullNode(h.getNode(),E,null)}else{const E=se(n);if(!h.isCompleteForPath(n)&&Zi(n)>1)return e;const w=Ce(n),R=h.getNode().getImmediateChild(E).updateChild(w,i);E===".priority"?f=m.updatePriority(h.getNode(),R):f=m.updateChild(h.getNode(),E,R,w,mC,null)}const _=uC(e,f,h.isFullyInitialized()||ae(n),m.filtersNodes()),v=new Qm(r,_,o);return _C(t,_,n,r,v,u)}function rp(t,e,n,i,r,o,l){const u=e.eventCache;let h,f;const m=new Qm(r,e,o);if(ae(n))f=t.filter.updateFullNode(e.eventCache.getNode(),i,l),h=Jo(e,f,!0,t.filter.filtersNodes());else{const _=se(n);if(_===".priority")f=t.filter.updatePriority(e.eventCache.getNode(),i),h=Jo(e,f,u.isFullyInitialized(),u.isFiltered());else{const v=Ce(n),E=u.getNode().getImmediateChild(_);let w;if(ae(v))w=i;else{const C=m.getCompleteChild(_);C!=null?Bm(v)===".priority"&&C.getChild(eC(v)).isEmpty()?w=C:w=C.updateChild(v,i):w=Q.EMPTY_NODE}if(E.equals(w))h=e;else{const C=t.filter.updateChild(u.getNode(),_,w,v,m,l);h=Jo(e,C,u.isFullyInitialized(),t.filter.filtersNodes())}}}return h}function ow(t,e){return t.eventCache.isCompleteForChild(e)}function tD(t,e,n,i,r,o,l){let u=e;return i.foreach((h,f)=>{const m=Fe(n,h);ow(e,se(m))&&(u=rp(t,u,m,f,r,o,l))}),i.foreach((h,f)=>{const m=Fe(n,h);ow(e,se(m))||(u=rp(t,u,m,f,r,o,l))}),u}function aw(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function sp(t,e,n,i,r,o,l,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,f;ae(n)?f=i:f=new Se(null).setTree(n,i);const m=e.serverCache.getNode();return f.children.inorderTraversal((_,v)=>{if(m.hasChild(_)){const E=e.serverCache.getNode().getImmediateChild(_),w=aw(t,E,v);h=Gu(t,h,new we(_),w,r,o,l,u)}}),f.children.inorderTraversal((_,v)=>{const E=!e.serverCache.isCompleteForChild(_)&&v.value===null;if(!m.hasChild(_)&&!E){const w=e.serverCache.getNode().getImmediateChild(_),C=aw(t,w,v);h=Gu(t,h,new we(_),C,r,o,l,u)}}),h}function nD(t,e,n,i,r,o,l){if(qu(r,n)!=null)return e;const u=e.serverCache.isFiltered(),h=e.serverCache;if(i.value!=null){if(ae(n)&&h.isFullyInitialized()||h.isCompleteForPath(n))return Gu(t,e,n,h.getNode().getChild(n),r,o,u,l);if(ae(n)){let f=new Se(null);return h.getNode().forEachChild(Ps,(m,_)=>{f=f.set(new we(m),_)}),sp(t,e,n,f,r,o,u,l)}else return e}else{let f=new Se(null);return i.foreach((m,_)=>{const v=Fe(n,m);h.isCompleteForPath(v)&&(f=f.set(m,h.getNode().getChild(v)))}),sp(t,e,n,f,r,o,u,l)}}function iD(t,e,n,i,r){const o=e.serverCache,l=uC(e,o.getNode(),o.isFullyInitialized()||ae(n),o.isFiltered());return _C(t,l,n,i,mC,r)}function rD(t,e,n,i,r,o){let l;if(qu(i,n)!=null)return e;{const u=new Qm(i,e,r),h=e.eventCache.getNode();let f;if(ae(n)||se(n)===".priority"){let m;if(e.serverCache.isFullyInitialized())m=Zu(i,Ar(e));else{const _=e.serverCache.getNode();B(_ instanceof Q,"serverChildren would be complete if leaf node"),m=Km(i,_)}m=m,f=t.filter.updateFullNode(h,m,o)}else{const m=se(n);let _=Ym(i,m,e.serverCache);_==null&&e.serverCache.isCompleteForChild(m)&&(_=h.getImmediateChild(m)),_!=null?f=t.filter.updateChild(h,m,_,Ce(n),u,o):e.eventCache.getNode().hasChild(m)?f=t.filter.updateChild(h,m,Q.EMPTY_NODE,Ce(n),u,o):f=h,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=Zu(i,Ar(e)),l.isLeafNode()&&(f=t.filter.updateFullNode(f,l,o)))}return l=e.serverCache.isFullyInitialized()||qu(i,_e())!=null,Jo(e,f,l,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new Wm(i.getIndex()),o=SM(i);this.processor_=QM(o);const l=n.serverCache,u=n.eventCache,h=r.updateFullNode(Q.EMPTY_NODE,l.getNode(),null),f=o.updateFullNode(Q.EMPTY_NODE,u.getNode(),null),m=new Lr(h,l.isFullyInitialized(),r.filtersNodes()),_=new Lr(f,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=Hc(_,m),this.eventGenerator_=new RM(this.query_)}get query(){return this.query_}}function oD(t){return t.viewCache_.serverCache.getNode()}function aD(t,e){const n=Ar(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ae(e)&&!n.getImmediateChild(se(e)).isEmpty())?n.getChild(e):null}function lw(t){return t.eventRegistrations_.length===0}function lD(t,e){t.eventRegistrations_.push(e)}function uw(t,e,n){const i=[];if(n){B(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(o=>{const l=o.createCancelEvent(n,r);l&&i.push(l)})}if(e){let r=[];for(let o=0;o<t.eventRegistrations_.length;++o){const l=t.eventRegistrations_[o];if(!l.matches(e))r.push(l);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function cw(t,e,n,i){e.type===pn.MERGE&&e.source.queryId!==null&&(B(Ar(t.viewCache_),"We should always have a full cache before handling merges"),B(ep(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,o=XM(t.processor_,r,e,n,i);return JM(t.processor_,o.viewCache),B(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,gC(t,o.changes,o.viewCache.eventCache.getNode(),null)}function uD(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ue,(o,l)=>{i.push(js(o,l))}),n.isFullyInitialized()&&i.push(aC(n.getNode())),gC(t,i,n.getNode(),e)}function gC(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return LM(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku;class cD{constructor(){this.views=new Map}}function hD(t){B(!Ku,"__referenceConstructor has already been defined"),Ku=t}function dD(){return B(Ku,"Reference.ts has not been loaded"),Ku}function fD(t){return t.views.size===0}function Jm(t,e,n,i){const r=e.source.queryId;if(r!==null){const o=t.views.get(r);return B(o!=null,"SyncTree gave us an op for an invalid query."),cw(o,e,n,i)}else{let o=[];for(const l of t.views.values())o=o.concat(cw(l,e,n,i));return o}}function pD(t,e,n,i,r){const o=e._queryIdentifier,l=t.views.get(o);if(!l){let u=Zu(n,r?i:null),h=!1;u?h=!0:i instanceof Q?(u=Km(n,i),h=!1):(u=Q.EMPTY_NODE,h=!1);const f=Hc(new Lr(u,h,!1),new Lr(i,r,!1));return new sD(e,f)}return l}function mD(t,e,n,i,r,o){const l=pD(t,e,i,r,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,l),lD(l,n),uD(l,n)}function _D(t,e,n,i){const r=e._queryIdentifier,o=[];let l=[];const u=qi(t);if(r==="default")for(const[h,f]of t.views.entries())l=l.concat(uw(f,n,i)),lw(f)&&(t.views.delete(h),f.query._queryParams.loadsAllData()||o.push(f.query));else{const h=t.views.get(r);h&&(l=l.concat(uw(h,n,i)),lw(h)&&(t.views.delete(r),h.query._queryParams.loadsAllData()||o.push(h.query)))}return u&&!qi(t)&&o.push(new(dD())(e._repo,e._path)),{removed:o,events:l}}function vC(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function xs(t,e){let n=null;for(const i of t.views.values())n=n||aD(i,e);return n}function yC(t,e){if(e._queryParams.loadsAllData())return Wc(t);{const i=e._queryIdentifier;return t.views.get(i)}}function wC(t,e){return yC(t,e)!=null}function qi(t){return Wc(t)!=null}function Wc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu;function gD(t){B(!Yu,"__referenceConstructor has already been defined"),Yu=t}function vD(){return B(Yu,"Reference.ts has not been loaded"),Yu}let yD=1;class hw{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Se(null),this.pendingWriteTree_=qM(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function EC(t,e,n,i,r){return MM(t.pendingWriteTree_,e,n,i,r),r?eo(t,new Rr($m(),e,n)):[]}function wD(t,e,n,i){DM(t.pendingWriteTree_,e,n,i);const r=Se.fromObject(n);return eo(t,new Hs($m(),e,r))}function Li(t,e,n=!1){const i=FM(t.pendingWriteTree_,e);if(UM(t.pendingWriteTree_,e)){let o=new Se(null);return i.snap!=null?o=o.set(_e(),!0):mt(i.children,l=>{o=o.set(new we(l),!0)}),eo(t,new $u(i.path,o,n))}else return[]}function Vc(t,e,n){return eo(t,new Rr(Zm(),e,n))}function ED(t,e,n){const i=Se.fromObject(n);return eo(t,new Hs(Zm(),e,i))}function TD(t,e){return eo(t,new Ra(Zm(),e))}function SD(t,e,n){const i=e_(t,n);if(i){const r=t_(i),o=r.path,l=r.queryId,u=Ot(o,e),h=new Ra(qm(l),u);return n_(t,o,h)}else return[]}function op(t,e,n,i,r=!1){const o=e._path,l=t.syncPointTree_.get(o);let u=[];if(l&&(e._queryIdentifier==="default"||wC(l,e))){const h=_D(l,e,n,i);fD(l)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const f=h.removed;if(u=h.events,!r){const m=f.findIndex(v=>v._queryParams.loadsAllData())!==-1,_=t.syncPointTree_.findOnPath(o,(v,E)=>qi(E));if(m&&!_){const v=t.syncPointTree_.subtree(o);if(!v.isEmpty()){const E=PD(v);for(let w=0;w<E.length;++w){const C=E[w],R=C.query,T=CC(t,C);t.listenProvider_.startListening(ea(R),Qu(t,R),T.hashFn,T.onComplete)}}}!_&&f.length>0&&!i&&(m?t.listenProvider_.stopListening(ea(e),null):f.forEach(v=>{const E=t.queryToTagMap.get($c(v));t.listenProvider_.stopListening(ea(v),E)}))}xD(t,f)}return u}function CD(t,e,n,i){const r=e_(t,i);if(r!=null){const o=t_(r),l=o.path,u=o.queryId,h=Ot(l,e),f=new Rr(qm(u),h,n);return n_(t,l,f)}else return[]}function ID(t,e,n,i){const r=e_(t,i);if(r){const o=t_(r),l=o.path,u=o.queryId,h=Ot(l,e),f=Se.fromObject(n),m=new Hs(qm(u),h,f);return n_(t,l,m)}else return[]}function dw(t,e,n,i=!1){const r=e._path;let o=null,l=!1;t.syncPointTree_.foreachOnPath(r,(v,E)=>{const w=Ot(v,r);o=o||xs(E,w),l=l||qi(E)});let u=t.syncPointTree_.get(r);u?(l=l||qi(u),o=o||xs(u,_e())):(u=new cD,t.syncPointTree_=t.syncPointTree_.set(r,u));let h;o!=null?h=!0:(h=!1,o=Q.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((E,w)=>{const C=xs(w,_e());C&&(o=o.updateImmediateChild(E,C))}));const f=wC(u,e);if(!f&&!e._queryParams.loadsAllData()){const v=$c(e);B(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const E=kD();t.queryToTagMap.set(v,E),t.tagToQueryMap.set(E,v)}const m=Gm(t.pendingWriteTree_,r);let _=mD(u,e,n,m,o,h);if(!f&&!l&&!i){const v=yC(u,e);_=_.concat(bD(t,e,v))}return _}function Xm(t,e,n){const r=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(l,u)=>{const h=Ot(l,e),f=xs(u,h);if(f)return f});return dC(r,e,o,n,!0)}function eo(t,e){return TC(e,t.syncPointTree_,null,Gm(t.pendingWriteTree_,_e()))}function TC(t,e,n,i){if(ae(t.path))return SC(t,e,n,i);{const r=e.get(_e());n==null&&r!=null&&(n=xs(r,_e()));let o=[];const l=se(t.path),u=t.operationForChild(l),h=e.children.get(l);if(h&&u){const f=n?n.getImmediateChild(l):null,m=fC(i,l);o=o.concat(TC(u,h,f,m))}return r&&(o=o.concat(Jm(r,t,i,n))),o}}function SC(t,e,n,i){const r=e.get(_e());n==null&&r!=null&&(n=xs(r,_e()));let o=[];return e.children.inorderTraversal((l,u)=>{const h=n?n.getImmediateChild(l):null,f=fC(i,l),m=t.operationForChild(l);m&&(o=o.concat(SC(m,u,h,f)))}),r&&(o=o.concat(Jm(r,t,i,n))),o}function CC(t,e){const n=e.query,i=Qu(t,n);return{hashFn:()=>(oD(e)||Q.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?SD(t,n._path,i):TD(t,n._path);{const o=EO(r,n);return op(t,n,null,o)}}}}function Qu(t,e){const n=$c(e);return t.queryToTagMap.get(n)}function $c(t){return t._path.toString()+"$"+t._queryIdentifier}function e_(t,e){return t.tagToQueryMap.get(e)}function t_(t){const e=t.indexOf("$");return B(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new we(t.substr(0,e))}}function n_(t,e,n){const i=t.syncPointTree_.get(e);B(i,"Missing sync point for query tag that we're tracking");const r=Gm(t.pendingWriteTree_,e);return Jm(i,n,r,null)}function PD(t){return t.fold((e,n,i)=>{if(n&&qi(n))return[Wc(n)];{let r=[];return n&&(r=vC(n)),mt(i,(o,l)=>{r=r.concat(l)}),r}})}function ea(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(vD())(t._repo,t._path):t}function xD(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const r=$c(i),o=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(o)}}}function kD(){return yD++}function bD(t,e,n){const i=e._path,r=Qu(t,e),o=CC(t,n),l=t.listenProvider_.startListening(ea(e),r,o.hashFn,o.onComplete),u=t.syncPointTree_.subtree(i);if(r)B(!qi(u.value),"If we're adding a query, it shouldn't be shadowed");else{const h=u.fold((f,m,_)=>{if(!ae(f)&&m&&qi(m))return[Wc(m).query];{let v=[];return m&&(v=v.concat(vC(m).map(E=>E.query))),mt(_,(E,w)=>{v=v.concat(w)}),v}});for(let f=0;f<h.length;++f){const m=h[f];t.listenProvider_.stopListening(ea(m),Qu(t,m))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new i_(n)}node(){return this.node_}}class r_{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Fe(this.path_,e);return new r_(this.syncTree_,n)}node(){return Xm(this.syncTree_,this.path_)}}const RD=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},fw=function(t,e,n){if(!t||typeof t!="object")return t;if(B(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return LD(t[".sv"],e,n);if(typeof t[".sv"]=="object")return AD(t[".sv"],e);B(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},LD=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:B(!1,"Unexpected server value: "+t)}},AD=function(t,e,n){t.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&B(!1,"Unexpected increment value: "+i);const r=e.node();if(B(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return typeof l!="number"?i:l+i},IC=function(t,e,n,i){return s_(e,new r_(n,t),i)},PC=function(t,e,n){return s_(t,new i_(e),n)};function s_(t,e,n){const i=t.getPriority().val(),r=fw(i,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const l=t,u=fw(l.getValue(),e,n);return u!==l.getValue()||r!==l.getPriority().val()?new tt(u,rt(r)):t}else{const l=t;return o=l,r!==l.getPriority().val()&&(o=o.updatePriority(new tt(r))),l.forEachChild(Ue,(u,h)=>{const f=s_(h,e.getImmediateChild(u),n);f!==h&&(o=o.updateImmediateChild(u,f))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function a_(t,e){let n=e instanceof we?e:new we(e),i=t,r=se(n);for(;r!==null;){const o=Bs(i.node.children,r)||{children:{},childCount:0};i=new o_(r,i,o),n=Ce(n),r=se(n)}return i}function to(t){return t.node.value}function xC(t,e){t.node.value=e,ap(t)}function kC(t){return t.node.childCount>0}function ND(t){return to(t)===void 0&&!kC(t)}function Zc(t,e){mt(t.node.children,(n,i)=>{e(new o_(n,t,i))})}function bC(t,e,n,i){n&&!i&&e(t),Zc(t,r=>{bC(r,e,!0,i)}),n&&i&&e(t)}function OD(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function qa(t){return new we(t.parent===null?t.name:qa(t.parent)+"/"+t.name)}function ap(t){t.parent!==null&&MD(t.parent,t.name,t)}function MD(t,e,n){const i=ND(n),r=Bn(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,ap(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,ap(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=/[\[\].#$\/\u0000-\u001F\u007F]/,FD=/[\[\].#$\u0000-\u001F\u007F]/,Ld=10*1024*1024,l_=function(t){return typeof t=="string"&&t.length!==0&&!DD.test(t)},RC=function(t){return typeof t=="string"&&t.length!==0&&!FD.test(t)},UD=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),RC(t)},BD=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Om(t)||t&&typeof t=="object"&&Bn(t,".sv")},zD=function(t,e,n,i){i&&e===void 0||qc(Mc(t,"value"),e,n)},qc=function(t,e,n){const i=n instanceof we?new tM(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+or(i));if(typeof e=="function")throw new Error(t+"contains a function "+or(i)+" with contents = "+e.toString());if(Om(e))throw new Error(t+"contains "+e.toString()+" "+or(i));if(typeof e=="string"&&e.length>Ld/3&&Dc(e)>Ld)throw new Error(t+"contains a string greater than "+Ld+" utf8 bytes "+or(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,o=!1;if(mt(e,(l,u)=>{if(l===".value")r=!0;else if(l!==".priority"&&l!==".sv"&&(o=!0,!l_(l)))throw new Error(t+" contains an invalid key ("+l+") "+or(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);nM(i,l),qc(t,u,i),iM(i)}),r&&o)throw new Error(t+' contains ".value" child '+or(i)+" in addition to actual children.")}},jD=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const o=Pa(i);for(let l=0;l<o.length;l++)if(!(o[l]===".priority"&&l===o.length-1)){if(!l_(o[l]))throw new Error(t+"contains an invalid key ("+o[l]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(eM);let r=null;for(n=0;n<e.length;n++){if(i=e[n],r!==null&&en(r,i))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},HD=function(t,e,n,i){if(i&&e===void 0)return;const r=Mc(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const o=[];mt(e,(l,u)=>{const h=new we(l);if(qc(r,u,Fe(n,h)),Bm(h)===".priority"&&!BD(u))throw new Error(r+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(h)}),jD(r,o)},LC=function(t,e,n,i){if(!(i&&n===void 0)&&!RC(n))throw new Error(Mc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},WD=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),LC(t,e,n,i)},VD=function(t,e){if(se(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},$D=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!l_(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!UD(n))throw new Error(Mc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Gc(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();n!==null&&!zm(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&t.eventLists_.push(n)}function AC(t,e,n){Gc(t,n),NC(t,i=>zm(i,e))}function En(t,e,n){Gc(t,n),NC(t,i=>en(i,e)||en(e,i))}function NC(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const o=r.path;e(o)?(qD(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function qD(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();gr&&dt("event: "+n.toString()),Xs(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="repo_interrupt",KD=25;class YD{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ZD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Vu(),this.transactionQueueTree_=new o_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function QD(t,e,n){if(t.stats_=Fm(t.repoInfo_),t.forceRestClient_||IO())t.server_=new Wu(t.repoInfo_,(i,r,o,l)=>{pw(t,i,r,o,l)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>mw(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{st(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new ti(t.repoInfo_,e,(i,r,o,l)=>{pw(t,i,r,o,l)},i=>{mw(t,i)},i=>{XD(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=RO(t.repoInfo_,()=>new bM(t.stats_,t.server_)),t.infoData_=new CM,t.infoSyncTree_=new hw({startListening:(i,r,o,l)=>{let u=[];const h=t.infoData_.getNode(i._path);return h.isEmpty()||(u=Vc(t.infoSyncTree_,i._path,h),setTimeout(()=>{l("ok")},0)),u},stopListening:()=>{}}),u_(t,"connected",!1),t.serverSyncTree_=new hw({startListening:(i,r,o,l)=>(t.server_.listen(i,o,r,(u,h)=>{const f=l(u,h);En(t.eventQueue_,i._path,f)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function JD(t){const n=t.infoData_.getNode(new we(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Kc(t){return RD({timestamp:JD(t)})}function pw(t,e,n,i,r){t.dataUpdateCount++;const o=new we(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let l=[];if(r)if(i){const h=Du(n,f=>rt(f));l=ID(t.serverSyncTree_,o,h,r)}else{const h=rt(n);l=CD(t.serverSyncTree_,o,h,r)}else if(i){const h=Du(n,f=>rt(f));l=ED(t.serverSyncTree_,o,h)}else{const h=rt(n);l=Vc(t.serverSyncTree_,o,h)}let u=o;l.length>0&&(u=Vs(t,o)),En(t.eventQueue_,u,l)}function mw(t,e){u_(t,"connected",e),e===!1&&nF(t)}function XD(t,e){mt(e,(n,i)=>{u_(t,n,i)})}function u_(t,e,n){const i=new we("/.info/"+e),r=rt(n);t.infoData_.updateSnapshot(i,r);const o=Vc(t.infoSyncTree_,i,r);En(t.eventQueue_,i,o)}function c_(t){return t.nextWriteId_++}function eF(t,e,n,i,r){Yc(t,"set",{path:e.toString(),value:n,priority:i});const o=Kc(t),l=rt(n,i),u=Xm(t.serverSyncTree_,e),h=PC(l,u,o),f=c_(t),m=EC(t.serverSyncTree_,e,h,f,!0);Gc(t.eventQueue_,m),t.server_.put(e.toString(),l.val(!0),(v,E)=>{const w=v==="ok";w||Pt("set at "+e+" failed: "+v);const C=Li(t.serverSyncTree_,f,!w);En(t.eventQueue_,e,C),lp(t,r,v,E)});const _=d_(t,e);Vs(t,_),En(t.eventQueue_,_,[])}function tF(t,e,n,i){Yc(t,"update",{path:e.toString(),value:n});let r=!0;const o=Kc(t),l={};if(mt(n,(u,h)=>{r=!1,l[u]=IC(Fe(e,u),rt(h),t.serverSyncTree_,o)}),r)dt("update() called with empty data.  Don't do anything."),lp(t,i,"ok",void 0);else{const u=c_(t),h=wD(t.serverSyncTree_,e,l,u);Gc(t.eventQueue_,h),t.server_.merge(e.toString(),n,(f,m)=>{const _=f==="ok";_||Pt("update at "+e+" failed: "+f);const v=Li(t.serverSyncTree_,u,!_),E=v.length>0?Vs(t,e):e;En(t.eventQueue_,E,v),lp(t,i,f,m)}),mt(n,f=>{const m=d_(t,Fe(e,f));Vs(t,m)}),En(t.eventQueue_,e,[])}}function nF(t){Yc(t,"onDisconnectEvents");const e=Kc(t),n=Vu();Xf(t.onDisconnect_,_e(),(r,o)=>{const l=IC(r,o,t.serverSyncTree_,e);lC(n,r,l)});let i=[];Xf(n,_e(),(r,o)=>{i=i.concat(Vc(t.serverSyncTree_,r,o));const l=d_(t,r);Vs(t,l)}),t.onDisconnect_=Vu(),En(t.eventQueue_,_e(),i)}function iF(t,e,n){let i;se(e._path)===".info"?i=dw(t.infoSyncTree_,e,n):i=dw(t.serverSyncTree_,e,n),AC(t.eventQueue_,e._path,i)}function _w(t,e,n){let i;se(e._path)===".info"?i=op(t.infoSyncTree_,e,n):i=op(t.serverSyncTree_,e,n),AC(t.eventQueue_,e._path,i)}function rF(t){t.persistentConnection_&&t.persistentConnection_.interrupt(GD)}function Yc(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),dt(n,...e)}function lp(t,e,n,i){e&&Xs(()=>{if(n==="ok")e(null);else{const r=(n||"error").toUpperCase();let o=r;i&&(o+=": "+i);const l=new Error(o);l.code=r,e(l)}})}function OC(t,e,n){return Xm(t.serverSyncTree_,e,n)||Q.EMPTY_NODE}function h_(t,e=t.transactionQueueTree_){if(e||Qc(t,e),to(e)){const n=DC(t,e);B(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&sF(t,qa(e),n)}else kC(e)&&Zc(e,n=>{h_(t,n)})}function sF(t,e,n){const i=n.map(f=>f.currentWriteId),r=OC(t,e,i);let o=r;const l=r.hash();for(let f=0;f<n.length;f++){const m=n[f];B(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const _=Ot(e,m.path);o=o.updateChild(_,m.currentOutputSnapshotRaw)}const u=o.val(!0),h=e;t.server_.put(h.toString(),u,f=>{Yc(t,"transaction put response",{path:h.toString(),status:f});let m=[];if(f==="ok"){const _=[];for(let v=0;v<n.length;v++)n[v].status=2,m=m.concat(Li(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&_.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();Qc(t,a_(t.transactionQueueTree_,e)),h_(t,t.transactionQueueTree_),En(t.eventQueue_,e,m);for(let v=0;v<_.length;v++)Xs(_[v])}else{if(f==="datastale")for(let _=0;_<n.length;_++)n[_].status===3?n[_].status=4:n[_].status=0;else{Pt("transaction at "+h.toString()+" failed: "+f);for(let _=0;_<n.length;_++)n[_].status=4,n[_].abortReason=f}Vs(t,e)}},l)}function Vs(t,e){const n=MC(t,e),i=qa(n),r=DC(t,n);return oF(t,r,i),i}function oF(t,e,n){if(e.length===0)return;const i=[];let r=[];const l=e.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const h=e[u],f=Ot(n,h.path);let m=!1,_;if(B(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)m=!0,_=h.abortReason,r=r.concat(Li(t.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=KD)m=!0,_="maxretry",r=r.concat(Li(t.serverSyncTree_,h.currentWriteId,!0));else{const v=OC(t,h.path,l);h.currentInputSnapshot=v;const E=e[u].update(v.val());if(E!==void 0){qc("transaction failed: Data returned ",E,h.path);let w=rt(E);typeof E=="object"&&E!=null&&Bn(E,".priority")||(w=w.updatePriority(v.getPriority()));const R=h.currentWriteId,T=Kc(t),y=PC(w,v,T);h.currentOutputSnapshotRaw=w,h.currentOutputSnapshotResolved=y,h.currentWriteId=c_(t),l.splice(l.indexOf(R),1),r=r.concat(EC(t.serverSyncTree_,h.path,y,h.currentWriteId,h.applyLocally)),r=r.concat(Li(t.serverSyncTree_,R,!0))}else m=!0,_="nodata",r=r.concat(Li(t.serverSyncTree_,h.currentWriteId,!0))}En(t.eventQueue_,n,r),r=[],m&&(e[u].status=2,function(v){setTimeout(v,Math.floor(0))}(e[u].unwatcher),e[u].onComplete&&(_==="nodata"?i.push(()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot)):i.push(()=>e[u].onComplete(new Error(_),!1,null))))}Qc(t,t.transactionQueueTree_);for(let u=0;u<i.length;u++)Xs(i[u]);h_(t,t.transactionQueueTree_)}function MC(t,e){let n,i=t.transactionQueueTree_;for(n=se(e);n!==null&&to(i)===void 0;)i=a_(i,n),e=Ce(e),n=se(e);return i}function DC(t,e){const n=[];return FC(t,e,n),n.sort((i,r)=>i.order-r.order),n}function FC(t,e,n){const i=to(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Zc(e,r=>{FC(t,r,n)})}function Qc(t,e){const n=to(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,xC(e,n.length>0?n:void 0)}Zc(e,i=>{Qc(t,i)})}function d_(t,e){const n=qa(MC(t,e)),i=a_(t.transactionQueueTree_,e);return OD(i,r=>{Ad(t,r)}),Ad(t,i),bC(i,r=>{Ad(t,r)}),n}function Ad(t,e){const n=to(e);if(n){const i=[];let r=[],o=-1;for(let l=0;l<n.length;l++)n[l].status===3||(n[l].status===1?(B(o===l-1,"All SENT items should be at beginning of queue."),o=l,n[l].status=3,n[l].abortReason="set"):(B(n[l].status===0,"Unexpected transaction status in abort"),n[l].unwatcher(),r=r.concat(Li(t.serverSyncTree_,n[l].currentWriteId,!0)),n[l].onComplete&&i.push(n[l].onComplete.bind(null,new Error("set"),!1,null))));o===-1?xC(e,void 0):n.length=o+1,En(t.eventQueue_,qa(e),r);for(let l=0;l<i.length;l++)Xs(i[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function lF(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Pt(`Invalid query segment '${n}' in query '${t}'`)}return e}const gw=function(t,e){const n=uF(t),i=n.namespace;n.domain==="firebase.com"&&ai(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&ai("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||_O();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new $S(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new we(n.pathString)}},uF=function(t){let e="",n="",i="",r="",o="",l=!0,u="https",h=443;if(typeof t=="string"){let f=t.indexOf("//");f>=0&&(u=t.substring(0,f-1),t=t.substring(f+2));let m=t.indexOf("/");m===-1&&(m=t.length);let _=t.indexOf("?");_===-1&&(_=t.length),e=t.substring(0,Math.min(m,_)),m<_&&(r=aF(t.substring(m,_)));const v=lF(t.substring(Math.min(t.length,_)));f=e.indexOf(":"),f>=0?(l=u==="https"||u==="wss",h=parseInt(e.substring(f+1),10)):f=e.length;const E=e.slice(0,f);if(E.toLowerCase()==="localhost")n="localhost";else if(E.split(".").length<=2)n=E;else{const w=e.indexOf(".");i=e.substring(0,w).toLowerCase(),n=e.substring(w+1),o=i}"ns"in v&&(o=v.ns)}return{host:e,port:h,domain:n,subdomain:i,secure:l,scheme:u,pathString:r,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+st(this.snapshot.exportVal())}}class BC{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return B(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return ae(this._path)?null:Bm(this._path)}get ref(){return new ci(this._repo,this._path)}get _queryIdentifier(){const e=tw(this._queryParams),n=Mm(e);return n==="{}"?"default":n}get _queryObject(){return tw(this._queryParams)}isEqual(e){if(e=ze(e),!(e instanceof f_))return!1;const n=this._repo===e._repo,i=zm(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+XO(this._path)}}class ci extends f_{constructor(e,n){super(e,n,new Vm,!1)}get parent(){const e=eC(this._path);return e===null?null:new ci(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class La{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new we(e),i=Ju(this.ref,e);return new La(this._node.getChild(n),i,Ue)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new La(r,Ju(this.ref,i),Ue)))}hasChild(e){const n=new we(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function zC(t,e){return t=ze(t),t._checkNotDeleted("ref"),e!==void 0?Ju(t._root,e):t._root}function Ju(t,e){return t=ze(t),se(t._path)===null?WD("child","path",e,!1):LC("child","path",e,!1),new ci(t._repo,Fe(t._path,e))}function hF(t,e){t=ze(t),VD("set",t._path),zD("set",e,t._path,!1);const n=new Wa;return eF(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function dF(t,e){HD("update",e,t._path,!1);const n=new Wa;return tF(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class p_{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new UC("value",this,new La(e.snapshotNode,new ci(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new BC(this,e,n):null}matches(e){return e instanceof p_?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class m_{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new BC(this,e,n):null}createEvent(e,n){B(e.childName!=null,"Child events should have a childName.");const i=Ju(new ci(n._repo,n._path),e.childName),r=n._queryParams.getIndex();return new UC(e.type,this,new La(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof m_?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function fF(t,e,n,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){const h=n,f=(m,_)=>{_w(t._repo,t,u),h(m,_)};f.userCallback=n.userCallback,f.context=n.context,n=f}const l=new cF(n,o||void 0),u=e==="value"?new p_(l):new m_(e,l);return iF(t._repo,t,u),()=>_w(t._repo,t,u)}function pF(t,e,n,i){return fF(t,"value",e,n,i)}hD(ci);gD(ci);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF="FIREBASE_DATABASE_EMULATOR_HOST",up={};let _F=!1;function gF(t,e,n,i){t.repoInfo_=new $S(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function vF(t,e,n,i,r){let o=i||t.options.databaseURL;o===void 0&&(t.options.projectId||ai("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dt("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l=gw(o,r),u=l.repoInfo,h,f;typeof process<"u"&&process.env&&(f=process.env[mF]),f?(h=!0,o=`http://${f}?ns=${u.namespace}`,l=gw(o,r),u=l.repoInfo):h=!l.repoInfo.secure;const m=r&&h?new Is(Is.OWNER):new xO(t.name,t.options,e);$D("Invalid Firebase Database URL",l),ae(l.path)||ai("Database URL must point to the root of a Firebase Database (not including a child path).");const _=wF(u,t,m,new PO(t.name,n));return new EF(_,t)}function yF(t,e){const n=up[e];(!n||n[t.key]!==t)&&ai(`Database ${e}(${t.repoInfo_}) has already been deleted.`),rF(t),delete n[t.key]}function wF(t,e,n,i){let r=up[e.name];r||(r={},up[e.name]=r);let o=r[t.toURLString()];return o&&ai("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new YD(t,_F,n,i),r[t.toURLString()]=o,o}class EF{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(QD(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ci(this._repo,_e())),this._rootInternal}_delete(){return this._rootInternal!==null&&(yF(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ai("Cannot call "+e+" on a deleted database.")}}function TF(t=Uc(),e){const n=Qi(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=ZT("database");i&&SF(n,...i)}return n}function SF(t,e,n,i={}){t=ze(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&ai("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&ai('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Is(Is.OWNER);else if(i.mockUserToken){const l=typeof i.mockUserToken=="string"?i.mockUserToken:KT(i.mockUserToken,t.app.options.projectId);o=new Is(l)}gF(r,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(t){hO(jr),wn(new on("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return vF(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),Bt(Uy,By,t),Bt(Uy,By,"esm2017")}ti.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ti.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};CF();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="firebasestorage.googleapis.com",HC="storageBucket",IF=2*60*1e3,PF=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je extends Sn{constructor(e,n,i=0){super(Nd(e),`Firebase Storage: ${n} (${Nd(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,je.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Nd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Be;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Be||(Be={}));function Nd(t){return"storage/"+t}function __(){const t="An unknown error occurred, please check the error payload for server response.";return new je(Be.UNKNOWN,t)}function xF(t){return new je(Be.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function kF(t){return new je(Be.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function bF(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new je(Be.UNAUTHENTICATED,t)}function RF(){return new je(Be.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function LF(t){return new je(Be.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function AF(){return new je(Be.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function NF(){return new je(Be.CANCELED,"User canceled the upload/download.")}function OF(t){return new je(Be.INVALID_URL,"Invalid URL '"+t+"'.")}function MF(t){return new je(Be.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function DF(){return new je(Be.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+HC+"' property when initializing the app?")}function FF(){return new je(Be.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function UF(){return new je(Be.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function BF(t){return new je(Be.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function cp(t){return new je(Be.INVALID_ARGUMENT,t)}function WC(){return new je(Be.APP_DELETED,"The Firebase app was deleted.")}function zF(t){return new je(Be.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ta(t,e){return new je(Be.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Lo(t){throw new je(Be.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Ct.makeFromUrl(e,n)}catch{return new Ct(e,"")}if(i.path==="")return i;throw MF(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+r+l,"i"),h={bucket:1,path:3};function f(b){b.path_=decodeURIComponent(b.path)}const m="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",E=new RegExp(`^https?://${_}/${m}/b/${r}/o${v}`,"i"),w={bucket:1,path:3},C=n===jC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",T=new RegExp(`^https?://${C}/${r}/${R}`,"i"),I=[{regex:u,indices:h,postModify:o},{regex:E,indices:w,postModify:f},{regex:T,indices:{bucket:1,path:2},postModify:f}];for(let b=0;b<I.length;b++){const U=I[b],z=U.regex.exec(e);if(z){const H=z[U.indices.bucket];let W=z[U.indices.path];W||(W=""),i=new Ct(H,W),U.postModify(i);break}}if(i==null)throw OF(e);return i}}class jF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(t,e,n){let i=1,r=null,o=null,l=!1,u=0;function h(){return u===2}let f=!1;function m(...R){f||(f=!0,e.apply(null,R))}function _(R){r=setTimeout(()=>{r=null,t(E,h())},R)}function v(){o&&clearTimeout(o)}function E(R,...T){if(f){v();return}if(R){v(),m.call(null,R,...T);return}if(h()||l){v(),m.call(null,R,...T);return}i<64&&(i*=2);let I;u===1?(u=2,I=0):I=(i+Math.random())*1e3,_(I)}let w=!1;function C(R){w||(w=!0,v(),!f&&(r!==null?(R||(u=2),clearTimeout(r),_(0)):R||(u=1)))}return _(0),o=setTimeout(()=>{l=!0,C(!0)},n),C}function WF(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VF(t){return t!==void 0}function $F(t){return typeof t=="object"&&!Array.isArray(t)}function g_(t){return typeof t=="string"||t instanceof String}function vw(t){return v_()&&t instanceof Blob}function v_(){return typeof Blob<"u"&&!hL()}function hp(t,e,n,i){if(i<e)throw cp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw cp(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function VC(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vr;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(vr||(vr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZF(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,n,i,r,o,l,u,h,f,m,_,v=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=m,this.connectionFactory_=_,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,w)=>{this.resolve_=E,this.reject_=w,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new Dl(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=u=>{const h=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const u=o.getErrorCode()===vr.NO_ERROR,h=o.getStatus();if(!u||ZF(h,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===vr.ABORT;i(!1,new Dl(!1,null,m));return}const f=this.successCodes_.indexOf(h)!==-1;i(!0,new Dl(f,o))})},n=(i,r)=>{const o=this.resolve_,l=this.reject_,u=r.connection;if(r.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());VF(h)?o(h):o()}catch(h){l(h)}else if(u!==null){const h=__();h.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,h)):l(h)}else if(r.canceled){const h=this.appDelete_?WC():NF();l(h)}else{const h=AF();l(h)}};this.canceled_?n(!1,new Dl(!1,null,!0)):this.backoffId_=HF(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&WF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dl{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function GF(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function KF(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function YF(t,e){e&&(t["X-Firebase-GMPID"]=e)}function QF(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function JF(t,e,n,i,r,o,l=!0){const u=VC(t.urlParams),h=t.url+u,f=Object.assign({},t.headers);return YF(f,e),GF(f,n),KF(f,o),QF(f,i),new qF(h,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XF(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function e2(...t){const e=XF();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(v_())return new Blob(t);throw new je(Be.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function t2(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t){if(typeof atob>"u")throw BF("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Od{constructor(e,n){this.data=e,this.contentType=n||null}}function i2(t,e){switch(t){case Nn.RAW:return new Od($C(e));case Nn.BASE64:case Nn.BASE64URL:return new Od(ZC(t,e));case Nn.DATA_URL:return new Od(s2(e),o2(e))}throw __()}function $C(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=i,l=t.charCodeAt(++n);i=65536|(o&1023)<<10|l&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function r2(t){let e;try{e=decodeURIComponent(t)}catch{throw ta(Nn.DATA_URL,"Malformed data URL.")}return $C(e)}function ZC(t,e){switch(t){case Nn.BASE64:{const r=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(r||o)throw ta(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Nn.BASE64URL:{const r=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(r||o)throw ta(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=n2(e)}catch(r){throw r.message.includes("polyfill")?r:ta(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class qC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ta(Nn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=a2(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function s2(t){const e=new qC(t);return e.base64?ZC(Nn.BASE64,e.rest):r2(e.rest)}function o2(t){return new qC(t).contentType}function a2(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n){let i=0,r="";vw(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(vw(this.data_)){const i=this.data_,r=t2(i,e,n);return r===null?null:new Si(r)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Si(i,!0)}}static getBlob(...e){if(v_()){const n=e.map(i=>i instanceof Si?i.data_:i);return new Si(e2.apply(null,n))}else{const n=e.map(l=>g_(l)?i2(Nn.RAW,l).data:l.data_);let i=0;n.forEach(l=>{i+=l.byteLength});const r=new Uint8Array(i);let o=0;return n.forEach(l=>{for(let u=0;u<l.length;u++)r[o++]=l[u]}),new Si(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(t){let e;try{e=JSON.parse(t)}catch{return null}return $F(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function u2(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function GC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(t,e){return e}class Tt{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||c2}}let Fl=null;function h2(t){return!g_(t)||t.length<2?t:GC(t)}function KC(){if(Fl)return Fl;const t=[];t.push(new Tt("bucket")),t.push(new Tt("generation")),t.push(new Tt("metageneration")),t.push(new Tt("name","fullPath",!0));function e(o,l){return h2(l)}const n=new Tt("name");n.xform=e,t.push(n);function i(o,l){return l!==void 0?Number(l):l}const r=new Tt("size");return r.xform=i,t.push(r),t.push(new Tt("timeCreated")),t.push(new Tt("updated")),t.push(new Tt("md5Hash",null,!0)),t.push(new Tt("cacheControl",null,!0)),t.push(new Tt("contentDisposition",null,!0)),t.push(new Tt("contentEncoding",null,!0)),t.push(new Tt("contentLanguage",null,!0)),t.push(new Tt("contentType",null,!0)),t.push(new Tt("metadata","customMetadata",!0)),Fl=t,Fl}function d2(t,e){function n(){const i=t.bucket,r=t.fullPath,o=new Ct(i,r);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function f2(t,e,n){const i={};i.type="file";const r=n.length;for(let o=0;o<r;o++){const l=n[o];i[l.local]=l.xform(i,e[l.server])}return d2(i,t),i}function YC(t,e,n){const i=y_(e);return i===null?null:f2(t,i,n)}function p2(t,e,n,i){const r=y_(e);if(r===null||!g_(r.downloadTokens))return null;const o=r.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(f=>{const m=t.bucket,_=t.fullPath,v="/b/"+l(m)+"/o/"+l(_),E=Jc(v,n,i),w=VC({alt:"media",token:f});return E+w})[0]}function m2(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const o=e[r];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="prefixes",ww="items";function _2(t,e,n){const i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[yw])for(const r of n[yw]){const o=r.replace(/\/$/,""),l=t._makeStorageReference(new Ct(e,o));i.prefixes.push(l)}if(n[ww])for(const r of n[ww]){const o=t._makeStorageReference(new Ct(e,r.name));i.items.push(o)}return i}function g2(t,e,n){const i=y_(n);return i===null?null:_2(t,e,i)}class w_{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t){if(!t)throw __()}function v2(t,e){function n(i,r){const o=YC(t,r,e);return E_(o!==null),o}return n}function y2(t,e){function n(i,r){const o=g2(t,e,r);return E_(o!==null),o}return n}function w2(t,e){function n(i,r){const o=YC(t,r,e);return E_(o!==null),p2(o,r,t.host,t._protocol)}return n}function T_(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=RF():r=bF():n.getStatus()===402?r=kF(t.bucket):n.getStatus()===403?r=LF(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function E2(t){const e=T_(t);function n(i,r){let o=e(i,r);return i.getStatus()===404&&(o=xF(t.path)),o.serverResponse=r.serverResponse,o}return n}function T2(t,e,n,i,r){const o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),i&&(o.pageToken=i),r&&(o.maxResults=r);const l=e.bucketOnlyServerUrl(),u=Jc(l,t.host,t._protocol),h="GET",f=t.maxOperationRetryTime,m=new w_(u,h,y2(t,e.bucket),f);return m.urlParams=o,m.errorHandler=T_(e),m}function S2(t,e,n){const i=e.fullServerUrl(),r=Jc(i,t.host,t._protocol),o="GET",l=t.maxOperationRetryTime,u=new w_(r,o,w2(t,n),l);return u.errorHandler=E2(e),u}function C2(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function I2(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=C2(null,e)),i}function P2(t,e,n,i,r){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let I="";for(let b=0;b<2;b++)I=I+Math.random().toString().slice(2);return I}const h=u();l["Content-Type"]="multipart/related; boundary="+h;const f=I2(e,i,r),m=m2(f,n),_="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+h+"--",E=Si.getBlob(_,i,v);if(E===null)throw FF();const w={name:f.fullPath},C=Jc(o,t.host,t._protocol),R="POST",T=t.maxUploadRetryTime,y=new w_(C,R,v2(t,n),T);return y.urlParams=w,y.headers=l,y.body=E.uploadData(),y.errorHandler=T_(e),y}class x2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=vr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=vr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw Lo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Lo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Lo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Lo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Lo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class k2 extends x2{initXhr(){this.xhr_.responseType="text"}}function S_(){return new k2}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n){this._service=e,n instanceof Ct?this._location=n:this._location=Ct.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Nr(e,n)}get root(){const e=new Ct(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return GC(this._location.path)}get storage(){return this._service}get parent(){const e=l2(this._location.path);if(e===null)return null;const n=new Ct(this._location.bucket,e);return new Nr(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw zF(e)}}function b2(t,e,n){t._throwIfRoot("uploadBytes");const i=P2(t.storage,t._location,KC(),new Si(e,!0),n);return t.storage.makeRequestWithTokens(i,S_).then(r=>({metadata:r,ref:t}))}function R2(t){const e={prefixes:[],items:[]};return QC(t,e).then(()=>e)}async function QC(t,e,n){const r=await L2(t,{pageToken:n});e.prefixes.push(...r.prefixes),e.items.push(...r.items),r.nextPageToken!=null&&await QC(t,e,r.nextPageToken)}function L2(t,e){e!=null&&typeof e.maxResults=="number"&&hp("options.maxResults",1,1e3,e.maxResults);const n=e||{},i=T2(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(i,S_)}function A2(t){t._throwIfRoot("getDownloadURL");const e=S2(t.storage,t._location,KC());return t.storage.makeRequestWithTokens(e,S_).then(n=>{if(n===null)throw UF();return n})}function N2(t,e){const n=u2(t._location.path,e),i=new Ct(t._location.bucket,n);return new Nr(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t){return/^[A-Za-z]+:\/\//.test(t)}function M2(t,e){return new Nr(t,e)}function JC(t,e){if(t instanceof C_){const n=t;if(n._bucket==null)throw DF();const i=new Nr(n,n._bucket);return e!=null?JC(i,e):i}else return e!==void 0?N2(t,e):t}function D2(t,e){if(e&&O2(e)){if(t instanceof C_)return M2(t,e);throw cp("To use ref(service, url), the first argument must be a Storage instance.")}else return JC(t,e)}function Ew(t,e){const n=e==null?void 0:e[HC];return n==null?null:Ct.makeFromBucketSpec(n,t)}function F2(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:KT(r,t.app.options.projectId))}class C_{constructor(e,n,i,r,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=jC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=IF,this._maxUploadRetryTime=PF,this._requests=new Set,r!=null?this._bucket=Ct.makeFromBucketSpec(r,this._host):this._bucket=Ew(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ct.makeFromBucketSpec(this._url,e):this._bucket=Ew(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){hp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){hp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Nr(this,e)}_makeRequest(e,n,i,r,o=!0){if(this._deleted)return new jF(WC());{const l=JF(e,this._appId,i,r,n,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const Tw="@firebase/storage",Sw="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="storage";function U2(t,e,n){return t=ze(t),b2(t,e,n)}function B2(t){return t=ze(t),R2(t)}function eI(t){return t=ze(t),A2(t)}function dp(t,e){return t=ze(t),D2(t,e)}function z2(t=Uc(),e){t=ze(t);const i=Qi(t,XC).getImmediate({identifier:e}),r=ZT("storage");return r&&j2(i,...r),i}function j2(t,e,n,i={}){F2(t,e,n,i)}function H2(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new C_(n,i,r,e,jr)}function W2(){wn(new on(XC,H2,"PUBLIC").setMultipleInstances(!0)),Bt(Tw,Sw,""),Bt(Tw,Sw,"esm2017")}W2();function I_(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function tI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V2=tI,nI=new zr("auth","Firebase",tI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=new Fc("@firebase/auth");function $2(t,...e){Xu.logLevel<=ye.WARN&&Xu.warn(`Auth (${jr}): ${t}`,...e)}function tu(t,...e){Xu.logLevel<=ye.ERROR&&Xu.error(`Auth (${jr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t,...e){throw P_(t,...e)}function Dn(t,...e){return P_(t,...e)}function Z2(t,e,n){const i=Object.assign(Object.assign({},V2()),{[e]:n});return new zr("auth","Firebase",i).create(e,{appName:t.name})}function P_(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return nI.create(t,...e)}function K(t,e,...n){if(!t)throw P_(e,...n)}function Yn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw tu(e),new Error(e)}function li(t,e){t||Yn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function q2(){return Cw()==="http:"||Cw()==="https:"}function Cw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q2()||YT()||"connection"in navigator)?navigator.onLine:!0}function K2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n){this.shortDelay=e,this.longDelay=n,li(n>e,"Short delay should be less than long delay!"),this.isMobile=Pm()||QT()}get(){return G2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(t,e){li(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=new Ga(3e4,6e4);function hi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function di(t,e,n,i,r={}){return rI(t,r,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const u=Js(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),iI.fetch()(sI(t,t.config.apiHost,n,u),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},o))})}async function rI(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},Y2),e);try{const r=new X2(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Ul(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ul(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Ul(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Ul(t,"user-disabled",l);const m=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Z2(t,m,f);Tn(t,m)}}catch(r){if(r instanceof Sn)throw r;Tn(t,"network-request-failed",{message:String(r)})}}async function Ka(t,e,n,i,r={}){const o=await di(t,e,n,i,r);return"mfaPendingCredential"in o&&Tn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function sI(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?x_(t.config,r):`${t.config.apiScheme}://${r}`}function J2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class X2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Dn(this.auth,"network-request-failed")),Q2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ul(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Dn(t,e,i);return r.customData._tokenResponse=n,r}function Iw(t){return t!==void 0&&t.enterprise!==void 0}class eU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return J2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function tU(t,e){return di(t,"GET","/v2/recaptchaConfig",hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nU(t,e){return di(t,"POST","/v1/accounts:delete",e)}async function iU(t,e){return di(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rU(t,e=!1){const n=ze(t),i=await n.getIdToken(e),r=k_(i);K(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:na(Md(r.auth_time)),issuedAtTime:na(Md(r.iat)),expirationTime:na(Md(r.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Md(t){return Number(t)*1e3}function k_(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return tu("JWT malformed, contained fewer than 3 sections"),null;try{const r=Mu(n);return r?JSON.parse(r):(tu("Failed to decode base64 JWT payload"),null)}catch(r){return tu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function sU(t){const e=k_(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aa(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Sn&&oU(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function oU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=na(this.lastLoginAt),this.creationTime=na(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Aa(t,iU(n,{idToken:i}));K(r==null?void 0:r.users.length,n,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?cU(o.providerUserInfo):[],u=uU(t.providerData,l),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),m=h?f:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new oI(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,_)}async function lU(t){const e=ze(t);await ec(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uU(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function cU(t){return t.map(e=>{var{providerId:n}=e,i=I_(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hU(t,e){const n=await rI(t,{},async()=>{const i=Js({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,l=sI(t,r,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",iI.fetch()(l,{method:"POST",headers:u,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dU(t,e){return di(t,"POST","/v2/accounts:revokeToken",hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return K(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await hU(e,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,l=new Na;return i&&(K(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),r&&(K(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),o&&(K(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Na,this.toJSON())}_performRefresh(){return Yn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yr{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=I_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new oI(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Aa(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rU(this,e)}reload(){return lU(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await ec(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Aa(this,nU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,l,u,h,f,m;const _=(i=n.displayName)!==null&&i!==void 0?i:void 0,v=(r=n.email)!==null&&r!==void 0?r:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(l=n.photoURL)!==null&&l!==void 0?l:void 0,C=(u=n.tenantId)!==null&&u!==void 0?u:void 0,R=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,T=(f=n.createdAt)!==null&&f!==void 0?f:void 0,y=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:I,emailVerified:b,isAnonymous:U,providerData:z,stsTokenManager:H}=n;K(I&&H,e,"internal-error");const W=Na.fromJSON(this.name,H);K(typeof I=="string",e,"internal-error"),vi(_,e.name),vi(v,e.name),K(typeof b=="boolean",e,"internal-error"),K(typeof U=="boolean",e,"internal-error"),vi(E,e.name),vi(w,e.name),vi(C,e.name),vi(R,e.name),vi(T,e.name),vi(y,e.name);const he=new yr({uid:I,auth:e,email:v,emailVerified:b,displayName:_,isAnonymous:U,photoURL:w,phoneNumber:E,tenantId:C,stsTokenManager:W,createdAt:T,lastLoginAt:y});return z&&Array.isArray(z)&&(he.providerData=z.map(X=>Object.assign({},X))),R&&(he._redirectEventId=R),he}static async _fromIdTokenResponse(e,n,i=!1){const r=new Na;r.updateFromServerResponse(n);const o=new yr({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await ec(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=new Map;function Qn(t){li(t instanceof Function,"Expected a class definition");let e=Pw.get(t);return e?(li(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Pw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aI.type="NONE";const xw=aI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(t,e,n){return`firebase:${t}:${e}:${n}`}class ks{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=nu(this.userKey,r.apiKey,o),this.fullPersistenceKey=nu("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?yr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new ks(Qn(xw),e,i);const r=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||Qn(xw);const l=nu(i,e.config.apiKey,e.name);let u=null;for(const f of n)try{const m=await f._get(l);if(m){const _=yr._fromJSON(e,m);f!==o&&(u=_),o=f;break}}catch{}const h=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new ks(o,e,i):(o=h[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new ks(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dI(e))return"Blackberry";if(fI(e))return"Webos";if(b_(e))return"Safari";if((e.includes("chrome/")||uI(e))&&!e.includes("edge/"))return"Chrome";if(hI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function lI(t=wt()){return/firefox\//i.test(t)}function b_(t=wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uI(t=wt()){return/crios\//i.test(t)}function cI(t=wt()){return/iemobile/i.test(t)}function hI(t=wt()){return/android/i.test(t)}function dI(t=wt()){return/blackberry/i.test(t)}function fI(t=wt()){return/webos/i.test(t)}function Xc(t=wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fU(t=wt()){var e;return Xc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pU(){return dL()&&document.documentMode===10}function pI(t=wt()){return Xc(t)||hI(t)||fI(t)||dI(t)||/windows phone/i.test(t)||cI(t)}function mU(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(t,e=[]){let n;switch(t){case"Browser":n=kw(wt());break;case"Worker":n=`${kw(wt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((l,u)=>{try{const h=e(o);l(h)}catch(h){u(h)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gU(t,e={}){return di(t,"GET","/v2/passwordPolicy",hi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=6;class yU{constructor(e){var n,i,r,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:vU,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(r=h.containsLowercaseLetter)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bw(this),this.idTokenSubscription=new bw(this),this.beforeStateQueue=new _U(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qn(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await ks.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ec(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=K2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ze(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Qn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gU(this),n=new yU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zr("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await dU(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qn(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await ks.create(this,[Qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,r);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&$2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Vr(t){return ze(t)}class bw{constructor(e){this.auth=e,this.observer=null,this.addObserver=wL(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function _I(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const o=Dn("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",EU().appendChild(i)})}function TU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const SU="https://www.google.com/recaptcha/enterprise.js?render=",CU="recaptcha-enterprise",IU="NO_RECAPTCHA";class PU{constructor(e){this.type=CU,this.auth=Vr(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{tU(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new eU(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(h=>{u(h)})})}function r(o,l,u){const h=window.grecaptcha;Iw(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(IU)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,l)=>{i(this.auth).then(u=>{if(!n&&Iw(window.grecaptcha))r(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}_I(SU+u).then(()=>{r(u,o,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}}async function Rw(t,e,n,i=!1){const r=new PU(t);let o;try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const l=Object.assign({},e);return i?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function pp(t,e,n,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Rw(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Rw(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(t,e){const n=Qi(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(Sa(o,e??{}))return r;Tn(r,"already-initialized")}return n.initialize({options:e})}function kU(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Qn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function bU(t,e,n){const i=Vr(t);K(i._canInitEmulator,i,"emulator-config-failed"),K(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),o=gI(e),{host:l,port:u}=RU(e),h=u===null?"":`:${u}`;i.config.emulator={url:`${o}//${l}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||LU()}function gI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function RU(t){const e=gI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:Lw(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:Lw(l)}}}function Lw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function LU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yn("not implemented")}_getIdTokenResponse(e){return Yn("not implemented")}_linkToIdToken(e,n){return Yn("not implemented")}_getReauthenticationResolver(e){return Yn("not implemented")}}async function AU(t,e){return di(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NU(t,e){return Ka(t,"POST","/v1/accounts:signInWithPassword",hi(t,e))}async function OU(t,e){return di(t,"POST","/v1/accounts:sendOobCode",hi(t,e))}async function MU(t,e){return OU(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DU(t,e){return Ka(t,"POST","/v1/accounts:signInWithEmailLink",hi(t,e))}async function FU(t,e){return Ka(t,"POST","/v1/accounts:signInWithEmailLink",hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends R_{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Oa(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Oa(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pp(e,n,"signInWithPassword",NU);case"emailLink":return DU(e,{email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pp(e,i,"signUpPassword",AU);case"emailLink":return FU(e,{idToken:n,email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bs(t,e){return Ka(t,"POST","/v1/accounts:signInWithIdp",hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU="http://localhost";class Or extends R_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Or(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=I_(n,["providerId","signInMethod"]);if(!i||!r)return null;const l=new Or(i,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return bs(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,bs(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bs(e,n)}buildRequest(){const e={requestUri:UU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Js(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zU(t){const e=Bo(zo(t)).link,n=e?Bo(zo(e)).deep_link_id:null,i=Bo(zo(t)).deep_link_id;return(i?Bo(zo(i)).link:null)||i||n||e||t}class L_{constructor(e){var n,i,r,o,l,u;const h=Bo(zo(e)),f=(n=h.apiKey)!==null&&n!==void 0?n:null,m=(i=h.oobCode)!==null&&i!==void 0?i:null,_=BU((r=h.mode)!==null&&r!==void 0?r:null);K(f&&m&&_,"argument-error"),this.apiKey=f,this.operation=_,this.code=m,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=zU(e);try{return new L_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.providerId=no.PROVIDER_ID}static credential(e,n){return Oa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=L_.parseLink(n);return K(i,"argument-error"),Oa._fromEmailAndCode(e,i.code,i.tenantId)}}no.PROVIDER_ID="password";no.EMAIL_PASSWORD_SIGN_IN_METHOD="password";no.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends vI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends Ya{constructor(){super("facebook.com")}static credential(e){return Or._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends Ya{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Or._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ii.credential(n,i)}catch{return null}}}Ii.GOOGLE_SIGN_IN_METHOD="google.com";Ii.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Ya{constructor(){super("github.com")}static credential(e){return Or._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.GITHUB_SIGN_IN_METHOD="github.com";Pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Ya{constructor(){super("twitter.com")}static credential(e,n){return Or._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return xi.credential(n,i)}catch{return null}}}xi.TWITTER_SIGN_IN_METHOD="twitter.com";xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jU(t,e){return Ka(t,"POST","/v1/accounts:signUp",hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const o=await yr._fromIdTokenResponse(e,i,r),l=Aw(i);return new Mr({user:o,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=Aw(i);return new Mr({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function Aw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends Sn{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,tc.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new tc(e,n,i,r)}}function yI(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?tc._fromErrorAndOperation(t,o,e,i):o})}async function HU(t,e,n=!1){const i=await Aa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Mr._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WU(t,e,n=!1){const{auth:i}=t,r="reauthenticate";try{const o=await Aa(t,yI(i,r,e,t),n);K(o.idToken,i,"internal-error");const l=k_(o.idToken);K(l,i,"internal-error");const{sub:u}=l;return K(t.uid===u,i,"user-mismatch"),Mr._forOperation(t,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Tn(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(t,e,n=!1){const i="signIn",r=await yI(t,i,e),o=await Mr._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(o.user),o}async function VU(t,e){return wI(Vr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(t,e,n){var i;K(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),K(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(K(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(K(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(t){const e=Vr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZU(t,e,n){const i=Vr(t),l=await pp(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jU).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&EI(t),h}),u=await Mr._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function qU(t,e,n){return VU(ze(t),no.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&EI(t),i})}async function GU(t,e){const n=ze(t),r={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&$U(n.auth,r,e);const{email:o}=await MU(n.auth,r);o!==t.email&&await t.reload()}function KU(t,e,n,i){return ze(t).onIdTokenChanged(e,n,i)}function YU(t,e,n){return ze(t).beforeAuthStateChanged(e,n)}function TI(t,e,n,i){return ze(t).onAuthStateChanged(e,n,i)}function QU(t){return ze(t).signOut()}const nc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nc,"1"),this.storage.removeItem(nc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(){const t=wt();return b_(t)||Xc(t)}const XU=1e3,eB=10;class CI extends SI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=JU()&&mU(),this.fallbackToPolling=pI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(i);if(e.newValue!==l)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const r=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);pU()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,eB):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},XU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CI.type="LOCAL";const tB=CI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II extends SI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}II.type="SESSION";const PI=II;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new eh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:o}=n.data,l=this.handlersMap[r];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async f=>f(n.origin,o)),h=await nB(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}eh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((u,h)=>{const f=A_("",20);r.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(_){const v=_;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return window}function rB(t){Fn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}async function sB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function aB(){return xI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="firebaseLocalStorageDb",lB=1,ic="firebaseLocalStorage",bI="fbase_key";class Qa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function th(t,e){return t.transaction([ic],e?"readwrite":"readonly").objectStore(ic)}function uB(){const t=indexedDB.deleteDatabase(kI);return new Qa(t).toPromise()}function mp(){const t=indexedDB.open(kI,lB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(ic,{keyPath:bI})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(ic)?e(i):(i.close(),await uB(),e(await mp()))})})}async function Nw(t,e,n){const i=th(t,!0).put({[bI]:e,value:n});return new Qa(i).toPromise()}async function cB(t,e){const n=th(t,!1).get(e),i=await new Qa(n).toPromise();return i===void 0?null:i.value}function Ow(t,e){const n=th(t,!0).delete(e);return new Qa(n).toPromise()}const hB=800,dB=3;class RI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>dB)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=eh._getInstance(aB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await sB(),!this.activeServiceWorker)return;this.sender=new iB(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mp();return await Nw(e,nc,"1"),await Ow(e,nc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Nw(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>cB(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ow(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=th(r,!1).getAll();return new Qa(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RI.type="LOCAL";const fB=RI;new Ga(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pB(t,e){return e?Qn(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_ extends R_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mB(t){return wI(t.auth,new N_(t),t.bypassAuthState)}function _B(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),WU(n,new N_(t),t.bypassAuthState)}async function gB(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),HU(n,new N_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mB;case"linkViaPopup":case"linkViaRedirect":return gB;case"reauthViaPopup":case"reauthViaRedirect":return _B;default:Tn(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB=new Ga(2e3,1e4);class gs extends LI{constructor(e,n,i,r,o){super(e,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,gs.currentPopupAction&&gs.currentPopupAction.cancel(),gs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return K(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=A_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vB.get())};e()}}gs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB="pendingRedirect",iu=new Map;class wB extends LI{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=iu.get(this.auth._key());if(!e){try{const i=await EB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}iu.set(this.auth._key(),e)}return this.bypassAuthState||iu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EB(t,e){const n=CB(e),i=SB(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function TB(t,e){iu.set(t._key(),e)}function SB(t){return Qn(t._redirectPersistence)}function CB(t){return nu(yB,t.config.apiKey,t.name)}async function IB(t,e,n=!1){const i=Vr(t),r=pB(i,e),l=await new wB(i,r,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PB=10*60*1e3;class xB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!AI(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Dn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PB&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mw(e))}saveEventToCache(e){this.cachedEventUids.add(Mw(e)),this.lastProcessedEventTime=Date.now()}}function Mw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bB(t,e={}){return di(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LB=/^https?/;async function AB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bB(t);for(const n of e)try{if(NB(n))return}catch{}Tn(t,"unauthorized-domain")}function NB(t){const e=fp(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!LB.test(n))return!1;if(RB.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB=new Ga(3e4,6e4);function Dw(){const t=Fn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function MB(t){return new Promise((e,n)=>{var i,r,o;function l(){Dw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Dw(),n(Dn(t,"network-request-failed"))},timeout:OB.get()})}if(!((r=(i=Fn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=Fn().gapi)===null||o===void 0)&&o.load)l();else{const u=TU("iframefcb");return Fn()[u]=()=>{gapi.load?l():n(Dn(t,"network-request-failed"))},_I(`https://apis.google.com/js/api.js?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw ru=null,e})}let ru=null;function DB(t){return ru=ru||MB(t),ru}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FB=new Ga(5e3,15e3),UB="__/auth/iframe",BB="emulator/auth/iframe",zB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HB(t){const e=t.config;K(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?x_(e,BB):`https://${t.config.authDomain}/${UB}`,i={apiKey:e.apiKey,appName:t.name,v:jr},r=jB.get(t.config.apiHost);r&&(i.eid=r);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Js(i).slice(1)}`}async function WB(t){const e=await DB(t),n=Fn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:HB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zB,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const l=Dn(t,"network-request-failed"),u=Fn().setTimeout(()=>{o(l)},FB.get());function h(){Fn().clearTimeout(u),r(i)}i.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$B=500,ZB=600,qB="_blank",GB="http://localhost";class Fw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KB(t,e,n,i=$B,r=ZB){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h=Object.assign(Object.assign({},VB),{width:i.toString(),height:r.toString(),top:o,left:l}),f=wt().toLowerCase();n&&(u=uI(f)?qB:n),lI(f)&&(e=e||GB,h.scrollbars="yes");const m=Object.entries(h).reduce((v,[E,w])=>`${v}${E}=${w},`,"");if(fU(f)&&u!=="_self")return YB(e||"",u),new Fw(null);const _=window.open(e||"",u,m);K(_,t,"popup-blocked");try{_.focus()}catch{}return new Fw(_)}function YB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB="__/auth/handler",JB="emulator/auth/handler",XB=encodeURIComponent("fac");async function Uw(t,e,n,i,r,o){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:jr,eventId:r};if(e instanceof vI){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",zf(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,_]of Object.entries(o||{}))l[m]=_}if(e instanceof Ya){const m=e.getScopes().filter(_=>_!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await t._getAppCheckToken(),f=h?`#${XB}=${encodeURIComponent(h)}`:"";return`${ez(t)}?${Js(u).slice(1)}${f}`}function ez({config:t}){return t.emulator?x_(t,JB):`https://${t.authDomain}/${QB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="webStorageSupport";class tz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PI,this._completeRedirectFn=IB,this._overrideRedirectResult=TB}async _openPopup(e,n,i,r){var o;li((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await Uw(e,n,i,fp(),r);return KB(e,l,A_())}async _openRedirect(e,n,i,r){await this._originValidation(e);const o=await Uw(e,n,i,fp(),r);return rB(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(li(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await WB(e),i=new xB(e);return n.register("authEvent",r=>(K(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dd,{type:Dd},r=>{var o;const l=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[Dd];l!==void 0&&n(!!l),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pI()||b_()||Xc()}}const nz=tz;var Bw="@firebase/auth",zw="1.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function sz(t){wn(new on("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;K(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mI(t)},f=new wU(i,r,o,h);return kU(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),wn(new on("auth-internal",e=>{const n=Vr(e.getProvider("auth").getImmediate());return(i=>new iz(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bt(Bw,zw,rz(t)),Bt(Bw,zw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz=5*60,az=GT("authIdTokenMaxAge")||oz;let jw=null;const lz=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>az)return;const r=n==null?void 0:n.token;jw!==r&&(jw=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function uz(t=Uc()){const e=Qi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=xU(t,{popupRedirectResolver:nz,persistence:[fB,tB,PI]}),i=GT("authTokenSyncURL");if(i){const o=lz(i);YU(n,o,()=>o(n.currentUser)),KU(n,l=>o(l))}const r=$T("auth");return r&&bU(n,`http://${r}`),n}sz("Browser");const cz={apiKey:"AIzaSyBEfQt_JsW2jTY83A3EwRAVSn56--ESJ0M",authDomain:"skatespots-56bd6.firebaseapp.com",databaseURL:"https://skatespots-56bd6-default-rtdb.firebaseio.com",projectId:"skatespots-56bd6",storageBucket:"skatespots-56bd6.appspot.com",messagingSenderId:"439071919444",appId:"1:439071919444:web:211c9df6c6f6291bddccc1",measurementId:"G-GKPZW9GDTQ"},nh=rS(cz);aO(nh);const NI=TF(nh),_p=z2(nh),Dr=uz(nh);function ih(){kc();const[t,e]=O.useState(null);O.useEffect(()=>{const i=TI(Dr,r=>{e(r||null)});return()=>{i()}},[]);const n=()=>{QU(Dr).then(()=>{console.log("Sign out successful."),e(null)}).catch(i=>console.log(i))};return P.jsxs("nav",{className:"nav",children:[P.jsx("a",{href:"/skateSpots/",className:"titleSite",children:"jonathan gooning"}),P.jsxs("ul",{children:[P.jsx("li",{children:P.jsx("a",{href:"/skateSpots/#submit",children:P.jsx("button",{className:"submitButton",children:"Submit a Spot"})})}),P.jsx("li",{children:t!==null?P.jsx("div",{children:P.jsx("button",{onClick:n,className:"submitButton",children:"Logout"})}):P.jsxs("ul",{children:[P.jsx("a",{href:"/skateSpots/#login",children:P.jsx("button",{className:"loginButton",children:"Login"})}),P.jsx("a",{href:"/skateSpots/#register",children:P.jsx("button",{className:"regButton",children:"Register"})})]})})]})]})}function hz(){const[t,e]=O.useState(),[n,i]=O.useState(),r=kc(),o={url:"https://johnson4500.github.io/skateSpots/",handleCodeInApp:!0},l=u=>{u.preventDefault(),ZU(Dr,t,n).then(h=>{console.log(h),GU(Dr.currentUser,o).then(()=>{console.log("Email verification link sent!")}),r("/")}).catch(h=>{console.log(h)})};return P.jsxs(O.Fragment,{children:[P.jsx(ih,{}),P.jsx("div",{children:P.jsxs("div",{className:"container",children:[P.jsx("br",{}),P.jsx("br",{}),P.jsx("h2",{id:"topText",children:"Register"}),P.jsx("br",{}),P.jsxs("form",{onSubmit:l,children:[P.jsx("br",{}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"email",children:P.jsx("strong",{children:"Email"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"email",placeholder:"Enter Email",autoComplete:"off",name:"email",onChange:u=>e(u.target.value)})]}),P.jsx("br",{}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"email",children:P.jsx("strong",{children:"Password"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"password",placeholder:"Enter Password",autoComplete:"off",name:"password",onChange:u=>i(u.target.value)})]}),P.jsx("br",{}),P.jsx("button",{id:"logButt",type:"submit",className:"buttons",children:"Register"})]}),P.jsx("a",{href:"/skateSpots/#login",children:P.jsx("button",{id:"regButt",className:"buttons",children:"Already Have an Account"})})]})})]})}function dz(){const[t,e]=O.useState(),[n,i]=O.useState(),r=kc(),o=l=>{l.preventDefault(),qU(Dr,t,n).then(u=>{u.user,r("/")}).catch(u=>{console.log(u)})};return P.jsxs(O.Fragment,{children:[P.jsx(ih,{}),P.jsx("br",{}),P.jsx("br",{}),P.jsx("br",{}),P.jsx("div",{className:"Login",children:P.jsxs("div",{className:"container",children:[P.jsx("h2",{id:"logintext",children:"Login"}),P.jsx("br",{}),P.jsxs("form",{onSubmit:o,children:[P.jsxs("div",{children:[P.jsx("label",{htmlFor:"email",children:P.jsx("strong",{className:"labels",children:"Email"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"email",placeholder:"Enter Email",autoComplete:"off",name:"email",onChange:l=>e(l.target.value)})]}),P.jsx("br",{}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"email",children:P.jsx("strong",{className:"labels",children:"Password"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"password",placeholder:"Enter Password",autoComplete:"off",name:"password",onChange:l=>i(l.target.value)})]}),P.jsx("br",{}),P.jsx("button",{id:"logButt",className:"buttons",type:"submit",children:"Login"})]}),P.jsx("a",{href:"/skateSpots/#register",children:P.jsx("button",{className:"buttons",id:"regButt",children:"Register"})})]})})]})}function fz(t,e){const n=O.useRef(e);O.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const pz=1;function mz(t){return Object.freeze({__version:pz,map:t})}function _z(t,e){return Object.freeze({...t,...e})}const OI=O.createContext(null),MI=OI.Provider;function DI(){const t=O.useContext(OI);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function gz(t){function e(n,i){const{instance:r,context:o}=t(n).current;return O.useImperativeHandle(i,()=>r),n.children==null?null:Jn.createElement(MI,{value:o},n.children)}return O.forwardRef(e)}function vz(t){function e(n,i){const{instance:r}=t(n).current;return O.useImperativeHandle(i,()=>r),null}return O.forwardRef(e)}function yz(t,e){const n=O.useRef();O.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function FI(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}var gp={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(Ex,function(n){var i="1.9.4";function r(s){var a,c,d,p;for(c=1,d=arguments.length;c<d;c++){p=arguments[c];for(a in p)s[a]=p[a]}return s}var o=Object.create||function(){function s(){}return function(a){return s.prototype=a,new s}}();function l(s,a){var c=Array.prototype.slice;if(s.bind)return s.bind.apply(s,c.call(arguments,1));var d=c.call(arguments,2);return function(){return s.apply(a,d.length?d.concat(c.call(arguments)):arguments)}}var u=0;function h(s){return"_leaflet_id"in s||(s._leaflet_id=++u),s._leaflet_id}function f(s,a,c){var d,p,g,S;return S=function(){d=!1,p&&(g.apply(c,p),p=!1)},g=function(){d?p=arguments:(s.apply(c,arguments),setTimeout(S,a),d=!0)},g}function m(s,a,c){var d=a[1],p=a[0],g=d-p;return s===d&&c?s:((s-p)%g+g)%g+p}function _(){return!1}function v(s,a){if(a===!1)return s;var c=Math.pow(10,a===void 0?6:a);return Math.round(s*c)/c}function E(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function w(s){return E(s).split(/\s+/)}function C(s,a){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?o(s.options):{});for(var c in a)s.options[c]=a[c];return s.options}function R(s,a,c){var d=[];for(var p in s)d.push(encodeURIComponent(c?p.toUpperCase():p)+"="+encodeURIComponent(s[p]));return(!a||a.indexOf("?")===-1?"?":"&")+d.join("&")}var T=/\{ *([\w_ -]+) *\}/g;function y(s,a){return s.replace(T,function(c,d){var p=a[d];if(p===void 0)throw new Error("No value provided for variable "+c);return typeof p=="function"&&(p=p(a)),p})}var I=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function b(s,a){for(var c=0;c<s.length;c++)if(s[c]===a)return c;return-1}var U="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function z(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var H=0;function W(s){var a=+new Date,c=Math.max(0,16-(a-H));return H=a+c,window.setTimeout(s,c)}var he=window.requestAnimationFrame||z("RequestAnimationFrame")||W,X=window.cancelAnimationFrame||z("CancelAnimationFrame")||z("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function G(s,a,c){if(c&&he===W)s.call(a);else return he.call(window,l(s,a))}function $(s){s&&X.call(window,s)}var Ee={__proto__:null,extend:r,create:o,bind:l,get lastId(){return u},stamp:h,throttle:f,wrapNum:m,falseFn:_,formatNum:v,trim:E,splitWords:w,setOptions:C,getParamString:R,template:y,isArray:I,indexOf:b,emptyImageUrl:U,requestFn:he,cancelFn:X,requestAnimFrame:G,cancelAnimFrame:$};function He(){}He.extend=function(s){var a=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=a.__super__=this.prototype,d=o(c);d.constructor=a,a.prototype=d;for(var p in this)Object.prototype.hasOwnProperty.call(this,p)&&p!=="prototype"&&p!=="__super__"&&(a[p]=this[p]);return s.statics&&r(a,s.statics),s.includes&&(at(s.includes),r.apply(null,[d].concat(s.includes))),r(d,s),delete d.statics,delete d.includes,d.options&&(d.options=c.options?o(c.options):{},r(d.options,s.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var g=0,S=d._initHooks.length;g<S;g++)d._initHooks[g].call(this)}},a},He.include=function(s){var a=this.prototype.options;return r(this.prototype,s),s.options&&(this.prototype.options=a,this.mergeOptions(s.options)),this},He.mergeOptions=function(s){return r(this.prototype.options,s),this},He.addInitHook=function(s){var a=Array.prototype.slice.call(arguments,1),c=typeof s=="function"?s:function(){this[s].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function at(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=I(s)?s:[s];for(var a=0;a<s.length;a++)s[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Me={on:function(s,a,c){if(typeof s=="object")for(var d in s)this._on(d,s[d],a);else{s=w(s);for(var p=0,g=s.length;p<g;p++)this._on(s[p],a,c)}return this},off:function(s,a,c){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var d in s)this._off(d,s[d],a);else{s=w(s);for(var p=arguments.length===1,g=0,S=s.length;g<S;g++)p?this._off(s[g]):this._off(s[g],a,c)}return this},_on:function(s,a,c,d){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(s,a,c)===!1){c===this&&(c=void 0);var p={fn:a,ctx:c};d&&(p.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(p)}},_off:function(s,a,c){var d,p,g;if(this._events&&(d=this._events[s],!!d)){if(arguments.length===1){if(this._firingCount)for(p=0,g=d.length;p<g;p++)d[p].fn=_;delete this._events[s];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var S=this._listens(s,a,c);if(S!==!1){var x=d[S];this._firingCount&&(x.fn=_,this._events[s]=d=d.slice()),d.splice(S,1)}}},fire:function(s,a,c){if(!this.listens(s,c))return this;var d=r({},a,{type:s,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var p=this._events[s];if(p){this._firingCount=this._firingCount+1||1;for(var g=0,S=p.length;g<S;g++){var x=p[g],k=x.fn;x.once&&this.off(s,k,x.ctx),k.call(x.ctx||this,d)}this._firingCount--}}return c&&this._propagateEvent(d),this},listens:function(s,a,c,d){typeof s!="string"&&console.warn('"string" type argument expected');var p=a;typeof a!="function"&&(d=!!a,p=void 0,c=void 0);var g=this._events&&this._events[s];if(g&&g.length&&this._listens(s,p,c)!==!1)return!0;if(d){for(var S in this._eventParents)if(this._eventParents[S].listens(s,a,c,d))return!0}return!1},_listens:function(s,a,c){if(!this._events)return!1;var d=this._events[s]||[];if(!a)return!!d.length;c===this&&(c=void 0);for(var p=0,g=d.length;p<g;p++)if(d[p].fn===a&&d[p].ctx===c)return p;return!1},once:function(s,a,c){if(typeof s=="object")for(var d in s)this._on(d,s[d],a,!0);else{s=w(s);for(var p=0,g=s.length;p<g;p++)this._on(s[p],a,c,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[h(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[h(s)],this},_propagateEvent:function(s){for(var a in this._eventParents)this._eventParents[a].fire(s.type,r({layer:s.target,propagatedFrom:s.target},s),!0)}};Me.addEventListener=Me.on,Me.removeEventListener=Me.clearAllEventListeners=Me.off,Me.addOneTimeEventListener=Me.once,Me.fireEvent=Me.fire,Me.hasEventListeners=Me.listens;var Xe=He.extend(Me);function A(s,a,c){this.x=c?Math.round(s):s,this.y=c?Math.round(a):a}var Z=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};A.prototype={clone:function(){return new A(this.x,this.y)},add:function(s){return this.clone()._add(D(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(D(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new A(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new A(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Z(this.x),this.y=Z(this.y),this},distanceTo:function(s){s=D(s);var a=s.x-this.x,c=s.y-this.y;return Math.sqrt(a*a+c*c)},equals:function(s){return s=D(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=D(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function D(s,a,c){return s instanceof A?s:I(s)?new A(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new A(s.x,s.y):new A(s,a,c)}function J(s,a){if(s)for(var c=a?[s,a]:s,d=0,p=c.length;d<p;d++)this.extend(c[d])}J.prototype={extend:function(s){var a,c;if(!s)return this;if(s instanceof A||typeof s[0]=="number"||"x"in s)a=c=D(s);else if(s=de(s),a=s.min,c=s.max,!a||!c)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=c.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(s){return D((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return D(this.min.x,this.max.y)},getTopRight:function(){return D(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var a,c;return typeof s[0]=="number"||s instanceof A?s=D(s):s=de(s),s instanceof J?(a=s.min,c=s.max):a=c=s,a.x>=this.min.x&&c.x<=this.max.x&&a.y>=this.min.y&&c.y<=this.max.y},intersects:function(s){s=de(s);var a=this.min,c=this.max,d=s.min,p=s.max,g=p.x>=a.x&&d.x<=c.x,S=p.y>=a.y&&d.y<=c.y;return g&&S},overlaps:function(s){s=de(s);var a=this.min,c=this.max,d=s.min,p=s.max,g=p.x>a.x&&d.x<c.x,S=p.y>a.y&&d.y<c.y;return g&&S},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var a=this.min,c=this.max,d=Math.abs(a.x-c.x)*s,p=Math.abs(a.y-c.y)*s;return de(D(a.x-d,a.y-p),D(c.x+d,c.y+p))},equals:function(s){return s?(s=de(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function de(s,a){return!s||s instanceof J?s:new J(s,a)}function Ke(s,a){if(s)for(var c=a?[s,a]:s,d=0,p=c.length;d<p;d++)this.extend(c[d])}Ke.prototype={extend:function(s){var a=this._southWest,c=this._northEast,d,p;if(s instanceof pe)d=s,p=s;else if(s instanceof Ke){if(d=s._southWest,p=s._northEast,!d||!p)return this}else return s?this.extend(te(s)||ve(s)):this;return!a&&!c?(this._southWest=new pe(d.lat,d.lng),this._northEast=new pe(p.lat,p.lng)):(a.lat=Math.min(d.lat,a.lat),a.lng=Math.min(d.lng,a.lng),c.lat=Math.max(p.lat,c.lat),c.lng=Math.max(p.lng,c.lng)),this},pad:function(s){var a=this._southWest,c=this._northEast,d=Math.abs(a.lat-c.lat)*s,p=Math.abs(a.lng-c.lng)*s;return new Ke(new pe(a.lat-d,a.lng-p),new pe(c.lat+d,c.lng+p))},getCenter:function(){return new pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof pe||"lat"in s?s=te(s):s=ve(s);var a=this._southWest,c=this._northEast,d,p;return s instanceof Ke?(d=s.getSouthWest(),p=s.getNorthEast()):d=p=s,d.lat>=a.lat&&p.lat<=c.lat&&d.lng>=a.lng&&p.lng<=c.lng},intersects:function(s){s=ve(s);var a=this._southWest,c=this._northEast,d=s.getSouthWest(),p=s.getNorthEast(),g=p.lat>=a.lat&&d.lat<=c.lat,S=p.lng>=a.lng&&d.lng<=c.lng;return g&&S},overlaps:function(s){s=ve(s);var a=this._southWest,c=this._northEast,d=s.getSouthWest(),p=s.getNorthEast(),g=p.lat>a.lat&&d.lat<c.lat,S=p.lng>a.lng&&d.lng<c.lng;return g&&S},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,a){return s?(s=ve(s),this._southWest.equals(s.getSouthWest(),a)&&this._northEast.equals(s.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ve(s,a){return s instanceof Ke?s:new Ke(s,a)}function pe(s,a,c){if(isNaN(s)||isNaN(a))throw new Error("Invalid LatLng object: ("+s+", "+a+")");this.lat=+s,this.lng=+a,c!==void 0&&(this.alt=+c)}pe.prototype={equals:function(s,a){if(!s)return!1;s=te(s);var c=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return c<=(a===void 0?1e-9:a)},toString:function(s){return"LatLng("+v(this.lat,s)+", "+v(this.lng,s)+")"},distanceTo:function(s){return fi.distance(this,te(s))},wrap:function(){return fi.wrapLatLng(this)},toBounds:function(s){var a=180*s/40075017,c=a/Math.cos(Math.PI/180*this.lat);return ve([this.lat-a,this.lng-c],[this.lat+a,this.lng+c])},clone:function(){return new pe(this.lat,this.lng,this.alt)}};function te(s,a,c){return s instanceof pe?s:I(s)&&typeof s[0]!="object"?s.length===3?new pe(s[0],s[1],s[2]):s.length===2?new pe(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new pe(s.lat,"lng"in s?s.lng:s.lon,s.alt):a===void 0?null:new pe(s,a,c)}var bt={latLngToPoint:function(s,a){var c=this.projection.project(s),d=this.scale(a);return this.transformation._transform(c,d)},pointToLatLng:function(s,a){var c=this.scale(a),d=this.transformation.untransform(s,c);return this.projection.unproject(d)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var a=this.projection.bounds,c=this.scale(s),d=this.transformation.transform(a.min,c),p=this.transformation.transform(a.max,c);return new J(d,p)},infinite:!1,wrapLatLng:function(s){var a=this.wrapLng?m(s.lng,this.wrapLng,!0):s.lng,c=this.wrapLat?m(s.lat,this.wrapLat,!0):s.lat,d=s.alt;return new pe(c,a,d)},wrapLatLngBounds:function(s){var a=s.getCenter(),c=this.wrapLatLng(a),d=a.lat-c.lat,p=a.lng-c.lng;if(d===0&&p===0)return s;var g=s.getSouthWest(),S=s.getNorthEast(),x=new pe(g.lat-d,g.lng-p),k=new pe(S.lat-d,S.lng-p);return new Ke(x,k)}},fi=r({},bt,{wrapLng:[-180,180],R:6371e3,distance:function(s,a){var c=Math.PI/180,d=s.lat*c,p=a.lat*c,g=Math.sin((a.lat-s.lat)*c/2),S=Math.sin((a.lng-s.lng)*c/2),x=g*g+Math.cos(d)*Math.cos(p)*S*S,k=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));return this.R*k}}),M_=6378137,rh={R:M_,MAX_LATITUDE:85.0511287798,project:function(s){var a=Math.PI/180,c=this.MAX_LATITUDE,d=Math.max(Math.min(c,s.lat),-c),p=Math.sin(d*a);return new A(this.R*s.lng*a,this.R*Math.log((1+p)/(1-p))/2)},unproject:function(s){var a=180/Math.PI;return new pe((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*a,s.x*a/this.R)},bounds:function(){var s=M_*Math.PI;return new J([-s,-s],[s,s])}()};function sh(s,a,c,d){if(I(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=a,this._c=c,this._d=d}sh.prototype={transform:function(s,a){return this._transform(s.clone(),a)},_transform:function(s,a){return a=a||1,s.x=a*(this._a*s.x+this._b),s.y=a*(this._c*s.y+this._d),s},untransform:function(s,a){return a=a||1,new A((s.x/a-this._b)/this._a,(s.y/a-this._d)/this._c)}};function io(s,a,c,d){return new sh(s,a,c,d)}var oh=r({},fi,{code:"EPSG:3857",projection:rh,transformation:function(){var s=.5/(Math.PI*rh.R);return io(s,.5,-s,.5)}()}),QI=r({},oh,{code:"EPSG:900913"});function D_(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function F_(s,a){var c="",d,p,g,S,x,k;for(d=0,g=s.length;d<g;d++){for(x=s[d],p=0,S=x.length;p<S;p++)k=x[p],c+=(p?"L":"M")+k.x+" "+k.y;c+=a?q.svg?"z":"x":""}return c||"M0 0"}var ah=document.documentElement.style,Ja="ActiveXObject"in window,JI=Ja&&!document.addEventListener,U_="msLaunchUri"in navigator&&!("documentMode"in document),lh=Cn("webkit"),B_=Cn("android"),z_=Cn("android 2")||Cn("android 3"),XI=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),eP=B_&&Cn("Google")&&XI<537&&!("AudioNode"in window),uh=!!window.opera,j_=!U_&&Cn("chrome"),H_=Cn("gecko")&&!lh&&!uh&&!Ja,tP=!j_&&Cn("safari"),W_=Cn("phantom"),V_="OTransition"in ah,nP=navigator.platform.indexOf("Win")===0,$_=Ja&&"transition"in ah,ch="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!z_,Z_="MozPerspective"in ah,iP=!window.L_DISABLE_3D&&($_||ch||Z_)&&!V_&&!W_,ro=typeof orientation<"u"||Cn("mobile"),rP=ro&&lh,sP=ro&&ch,q_=!window.PointerEvent&&window.MSPointerEvent,G_=!!(window.PointerEvent||q_),K_="ontouchstart"in window||!!window.TouchEvent,oP=!window.L_NO_TOUCH&&(K_||G_),aP=ro&&uh,lP=ro&&H_,uP=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,cP=function(){var s=!1;try{var a=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",_,a),window.removeEventListener("testPassiveEventSupport",_,a)}catch{}return s}(),hP=function(){return!!document.createElement("canvas").getContext}(),hh=!!(document.createElementNS&&D_("svg").createSVGRect),dP=!!hh&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),fP=!hh&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var a=s.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),pP=navigator.platform.indexOf("Mac")===0,mP=navigator.platform.indexOf("Linux")===0;function Cn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var q={ie:Ja,ielt9:JI,edge:U_,webkit:lh,android:B_,android23:z_,androidStock:eP,opera:uh,chrome:j_,gecko:H_,safari:tP,phantom:W_,opera12:V_,win:nP,ie3d:$_,webkit3d:ch,gecko3d:Z_,any3d:iP,mobile:ro,mobileWebkit:rP,mobileWebkit3d:sP,msPointer:q_,pointer:G_,touch:oP,touchNative:K_,mobileOpera:aP,mobileGecko:lP,retina:uP,passiveEvents:cP,canvas:hP,svg:hh,vml:fP,inlineSvg:dP,mac:pP,linux:mP},Y_=q.msPointer?"MSPointerDown":"pointerdown",Q_=q.msPointer?"MSPointerMove":"pointermove",J_=q.msPointer?"MSPointerUp":"pointerup",X_=q.msPointer?"MSPointerCancel":"pointercancel",dh={touchstart:Y_,touchmove:Q_,touchend:J_,touchcancel:X_},eg={touchstart:EP,touchmove:Xa,touchend:Xa,touchcancel:Xa},$r={},tg=!1;function _P(s,a,c){return a==="touchstart"&&wP(),eg[a]?(c=eg[a].bind(this,c),s.addEventListener(dh[a],c,!1),c):(console.warn("wrong event specified:",a),_)}function gP(s,a,c){if(!dh[a]){console.warn("wrong event specified:",a);return}s.removeEventListener(dh[a],c,!1)}function vP(s){$r[s.pointerId]=s}function yP(s){$r[s.pointerId]&&($r[s.pointerId]=s)}function ng(s){delete $r[s.pointerId]}function wP(){tg||(document.addEventListener(Y_,vP,!0),document.addEventListener(Q_,yP,!0),document.addEventListener(J_,ng,!0),document.addEventListener(X_,ng,!0),tg=!0)}function Xa(s,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var c in $r)a.touches.push($r[c]);a.changedTouches=[a],s(a)}}function EP(s,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&lt(a),Xa(s,a)}function TP(s){var a={},c,d;for(d in s)c=s[d],a[d]=c&&c.bind?c.bind(s):c;return s=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var SP=200;function CP(s,a){s.addEventListener("dblclick",a);var c=0,d;function p(g){if(g.detail!==1){d=g.detail;return}if(!(g.pointerType==="mouse"||g.sourceCapabilities&&!g.sourceCapabilities.firesTouchEvents)){var S=ag(g);if(!(S.some(function(k){return k instanceof HTMLLabelElement&&k.attributes.for})&&!S.some(function(k){return k instanceof HTMLInputElement||k instanceof HTMLSelectElement}))){var x=Date.now();x-c<=SP?(d++,d===2&&a(TP(g))):d=1,c=x}}}return s.addEventListener("click",p),{dblclick:a,simDblclick:p}}function IP(s,a){s.removeEventListener("dblclick",a.dblclick),s.removeEventListener("click",a.simDblclick)}var fh=nl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),so=nl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ig=so==="webkitTransition"||so==="OTransition"?so+"End":"transitionend";function rg(s){return typeof s=="string"?document.getElementById(s):s}function oo(s,a){var c=s.style[a]||s.currentStyle&&s.currentStyle[a];if((!c||c==="auto")&&document.defaultView){var d=document.defaultView.getComputedStyle(s,null);c=d?d[a]:null}return c==="auto"?null:c}function me(s,a,c){var d=document.createElement(s);return d.className=a||"",c&&c.appendChild(d),d}function Le(s){var a=s.parentNode;a&&a.removeChild(s)}function el(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Zr(s){var a=s.parentNode;a&&a.lastChild!==s&&a.appendChild(s)}function qr(s){var a=s.parentNode;a&&a.firstChild!==s&&a.insertBefore(s,a.firstChild)}function ph(s,a){if(s.classList!==void 0)return s.classList.contains(a);var c=tl(s);return c.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(c)}function ie(s,a){if(s.classList!==void 0)for(var c=w(a),d=0,p=c.length;d<p;d++)s.classList.add(c[d]);else if(!ph(s,a)){var g=tl(s);mh(s,(g?g+" ":"")+a)}}function We(s,a){s.classList!==void 0?s.classList.remove(a):mh(s,E((" "+tl(s)+" ").replace(" "+a+" "," ")))}function mh(s,a){s.className.baseVal===void 0?s.className=a:s.className.baseVal=a}function tl(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Gt(s,a){"opacity"in s.style?s.style.opacity=a:"filter"in s.style&&PP(s,a)}function PP(s,a){var c=!1,d="DXImageTransform.Microsoft.Alpha";try{c=s.filters.item(d)}catch{if(a===1)return}a=Math.round(a*100),c?(c.Enabled=a!==100,c.Opacity=a):s.style.filter+=" progid:"+d+"(opacity="+a+")"}function nl(s){for(var a=document.documentElement.style,c=0;c<s.length;c++)if(s[c]in a)return s[c];return!1}function Ji(s,a,c){var d=a||new A(0,0);s.style[fh]=(q.ie3d?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(c?" scale("+c+")":"")}function $e(s,a){s._leaflet_pos=a,q.any3d?Ji(s,a):(s.style.left=a.x+"px",s.style.top=a.y+"px")}function Xi(s){return s._leaflet_pos||new A(0,0)}var ao,lo,_h;if("onselectstart"in document)ao=function(){ne(window,"selectstart",lt)},lo=function(){Te(window,"selectstart",lt)};else{var uo=nl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ao=function(){if(uo){var s=document.documentElement.style;_h=s[uo],s[uo]="none"}},lo=function(){uo&&(document.documentElement.style[uo]=_h,_h=void 0)}}function gh(){ne(window,"dragstart",lt)}function vh(){Te(window,"dragstart",lt)}var il,yh;function wh(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(rl(),il=s,yh=s.style.outlineStyle,s.style.outlineStyle="none",ne(window,"keydown",rl))}function rl(){il&&(il.style.outlineStyle=yh,il=void 0,yh=void 0,Te(window,"keydown",rl))}function sg(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Eh(s){var a=s.getBoundingClientRect();return{x:a.width/s.offsetWidth||1,y:a.height/s.offsetHeight||1,boundingClientRect:a}}var xP={__proto__:null,TRANSFORM:fh,TRANSITION:so,TRANSITION_END:ig,get:rg,getStyle:oo,create:me,remove:Le,empty:el,toFront:Zr,toBack:qr,hasClass:ph,addClass:ie,removeClass:We,setClass:mh,getClass:tl,setOpacity:Gt,testProp:nl,setTransform:Ji,setPosition:$e,getPosition:Xi,get disableTextSelection(){return ao},get enableTextSelection(){return lo},disableImageDrag:gh,enableImageDrag:vh,preventOutline:wh,restoreOutline:rl,getSizedParentNode:sg,getScale:Eh};function ne(s,a,c,d){if(a&&typeof a=="object")for(var p in a)Sh(s,p,a[p],c);else{a=w(a);for(var g=0,S=a.length;g<S;g++)Sh(s,a[g],c,d)}return this}var In="_leaflet_events";function Te(s,a,c,d){if(arguments.length===1)og(s),delete s[In];else if(a&&typeof a=="object")for(var p in a)Ch(s,p,a[p],c);else if(a=w(a),arguments.length===2)og(s,function(x){return b(a,x)!==-1});else for(var g=0,S=a.length;g<S;g++)Ch(s,a[g],c,d);return this}function og(s,a){for(var c in s[In]){var d=c.split(/\d/)[0];(!a||a(d))&&Ch(s,d,null,null,c)}}var Th={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Sh(s,a,c,d){var p=a+h(c)+(d?"_"+h(d):"");if(s[In]&&s[In][p])return this;var g=function(x){return c.call(d||s,x||window.event)},S=g;!q.touchNative&&q.pointer&&a.indexOf("touch")===0?g=_P(s,a,g):q.touch&&a==="dblclick"?g=CP(s,g):"addEventListener"in s?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?s.addEventListener(Th[a]||a,g,q.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(g=function(x){x=x||window.event,Ph(s,x)&&S(x)},s.addEventListener(Th[a],g,!1)):s.addEventListener(a,S,!1):s.attachEvent("on"+a,g),s[In]=s[In]||{},s[In][p]=g}function Ch(s,a,c,d,p){p=p||a+h(c)+(d?"_"+h(d):"");var g=s[In]&&s[In][p];if(!g)return this;!q.touchNative&&q.pointer&&a.indexOf("touch")===0?gP(s,a,g):q.touch&&a==="dblclick"?IP(s,g):"removeEventListener"in s?s.removeEventListener(Th[a]||a,g,!1):s.detachEvent("on"+a,g),s[In][p]=null}function er(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Ih(s){return Sh(s,"wheel",er),this}function co(s){return ne(s,"mousedown touchstart dblclick contextmenu",er),s._leaflet_disable_click=!0,this}function lt(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function tr(s){return lt(s),er(s),this}function ag(s){if(s.composedPath)return s.composedPath();for(var a=[],c=s.target;c;)a.push(c),c=c.parentNode;return a}function lg(s,a){if(!a)return new A(s.clientX,s.clientY);var c=Eh(a),d=c.boundingClientRect;return new A((s.clientX-d.left)/c.x-a.clientLeft,(s.clientY-d.top)/c.y-a.clientTop)}var kP=q.linux&&q.chrome?window.devicePixelRatio:q.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ug(s){return q.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/kP:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Ph(s,a){var c=a.relatedTarget;if(!c)return!0;try{for(;c&&c!==s;)c=c.parentNode}catch{return!1}return c!==s}var bP={__proto__:null,on:ne,off:Te,stopPropagation:er,disableScrollPropagation:Ih,disableClickPropagation:co,preventDefault:lt,stop:tr,getPropagationPath:ag,getMousePosition:lg,getWheelDelta:ug,isExternalTarget:Ph,addListener:ne,removeListener:Te},cg=Xe.extend({run:function(s,a,c,d){this.stop(),this._el=s,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=Xi(s),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=G(this._animate,this),this._step()},_step:function(s){var a=+new Date-this._startTime,c=this._duration*1e3;a<c?this._runFrame(this._easeOut(a/c),s):(this._runFrame(1),this._complete())},_runFrame:function(s,a){var c=this._startPos.add(this._offset.multiplyBy(s));a&&c._round(),$e(this._el,c),this.fire("step")},_complete:function(){$(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),ue=Xe.extend({options:{crs:oh,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,a){a=C(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(te(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=so&&q.any3d&&!q.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ne(this._proxy,ig,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,a,c){if(a=a===void 0?this._zoom:this._limitZoom(a),s=this._limitCenter(te(s),a,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=r({animate:c.animate},c.zoom),c.pan=r({animate:c.animate,duration:c.duration},c.pan));var d=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,a,c.zoom):this._tryAnimatedPan(s,c.pan);if(d)return clearTimeout(this._sizeTimer),this}return this._resetView(s,a,c.pan&&c.pan.noMoveStart),this},setZoom:function(s,a){return this._loaded?this.setView(this.getCenter(),s,{zoom:a}):(this._zoom=s,this)},zoomIn:function(s,a){return s=s||(q.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,a)},zoomOut:function(s,a){return s=s||(q.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,a)},setZoomAround:function(s,a,c){var d=this.getZoomScale(a),p=this.getSize().divideBy(2),g=s instanceof A?s:this.latLngToContainerPoint(s),S=g.subtract(p).multiplyBy(1-1/d),x=this.containerPointToLatLng(p.add(S));return this.setView(x,a,{zoom:c})},_getBoundsCenterZoom:function(s,a){a=a||{},s=s.getBounds?s.getBounds():ve(s);var c=D(a.paddingTopLeft||a.padding||[0,0]),d=D(a.paddingBottomRight||a.padding||[0,0]),p=this.getBoundsZoom(s,!1,c.add(d));if(p=typeof a.maxZoom=="number"?Math.min(a.maxZoom,p):p,p===1/0)return{center:s.getCenter(),zoom:p};var g=d.subtract(c).divideBy(2),S=this.project(s.getSouthWest(),p),x=this.project(s.getNorthEast(),p),k=this.unproject(S.add(x).divideBy(2).add(g),p);return{center:k,zoom:p}},fitBounds:function(s,a){if(s=ve(s),!s.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(s,a);return this.setView(c.center,c.zoom,a)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,a){return this.setView(s,this._zoom,{pan:a})},panBy:function(s,a){if(s=D(s).round(),a=a||{},!s.x&&!s.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new cg,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){ie(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,c,a.duration||.25,a.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,a,c){if(c=c||{},c.animate===!1||!q.any3d)return this.setView(s,a,c);this._stop();var d=this.project(this.getCenter()),p=this.project(s),g=this.getSize(),S=this._zoom;s=te(s),a=a===void 0?S:a;var x=Math.max(g.x,g.y),k=x*this.getZoomScale(S,a),M=p.distanceTo(d)||1,j=1.42,Y=j*j;function re(Ze){var _l=Ze?-1:1,gx=Ze?k:x,vx=k*k-x*x+_l*Y*Y*M*M,yx=2*gx*Y*M,Fh=vx/yx,Vg=Math.sqrt(Fh*Fh+1)-Fh,wx=Vg<1e-9?-18:Math.log(Vg);return wx}function Et(Ze){return(Math.exp(Ze)-Math.exp(-Ze))/2}function et(Ze){return(Math.exp(Ze)+Math.exp(-Ze))/2}function Yt(Ze){return Et(Ze)/et(Ze)}var Rt=re(0);function Xr(Ze){return x*(et(Rt)/et(Rt+j*Ze))}function fx(Ze){return x*(et(Rt)*Yt(Rt+j*Ze)-Et(Rt))/Y}function px(Ze){return 1-Math.pow(1-Ze,1.5)}var mx=Date.now(),Hg=(re(1)-Rt)/j,_x=c.duration?1e3*c.duration:1e3*Hg*.8;function Wg(){var Ze=(Date.now()-mx)/_x,_l=px(Ze)*Hg;Ze<=1?(this._flyToFrame=G(Wg,this),this._move(this.unproject(d.add(p.subtract(d).multiplyBy(fx(_l)/M)),S),this.getScaleZoom(x/Xr(_l),S),{flyTo:!0})):this._move(s,a)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),Wg.call(this),this},flyToBounds:function(s,a){var c=this._getBoundsCenterZoom(s,a);return this.flyTo(c.center,c.zoom,a)},setMaxBounds:function(s){return s=ve(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var a=this.options.minZoom;return this.options.minZoom=s,this._loaded&&a!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var a=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&a!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,a){this._enforcingBounds=!0;var c=this.getCenter(),d=this._limitCenter(c,this._zoom,ve(s));return c.equals(d)||this.panTo(d,a),this._enforcingBounds=!1,this},panInside:function(s,a){a=a||{};var c=D(a.paddingTopLeft||a.padding||[0,0]),d=D(a.paddingBottomRight||a.padding||[0,0]),p=this.project(this.getCenter()),g=this.project(s),S=this.getPixelBounds(),x=de([S.min.add(c),S.max.subtract(d)]),k=x.getSize();if(!x.contains(g)){this._enforcingBounds=!0;var M=g.subtract(x.getCenter()),j=x.extend(g).getSize().subtract(k);p.x+=M.x<0?-j.x:j.x,p.y+=M.y<0?-j.y:j.y,this.panTo(this.unproject(p),a),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=r({animate:!1,pan:!0},s===!0?{animate:!0}:s);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),d=a.divideBy(2).round(),p=c.divideBy(2).round(),g=d.subtract(p);return!g.x&&!g.y?this:(s.animate&&s.pan?this.panBy(g):(s.pan&&this._rawPanBy(g),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=r({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=l(this._handleGeolocationResponse,this),c=l(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,c,s):navigator.geolocation.getCurrentPosition(a,c,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var a=s.code,c=s.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var a=s.coords.latitude,c=s.coords.longitude,d=new pe(a,c),p=d.toBounds(s.coords.accuracy*2),g=this._locateOptions;if(g.setView){var S=this.getBoundsZoom(p);this.setView(d,g.maxZoom?Math.min(S,g.maxZoom):S)}var x={latlng:d,bounds:p,timestamp:s.timestamp};for(var k in s.coords)typeof s.coords[k]=="number"&&(x[k]=s.coords[k]);this.fire("locationfound",x)}},addHandler:function(s,a){if(!a)return this;var c=this[s]=new a(this);return this._handlers.push(c),this.options[s]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Le(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Le(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,a){var c="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),d=me("div",c,a||this._mapPane);return s&&(this._panes[s]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),a=this.unproject(s.getBottomLeft()),c=this.unproject(s.getTopRight());return new Ke(a,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,a,c){s=ve(s),c=D(c||[0,0]);var d=this.getZoom()||0,p=this.getMinZoom(),g=this.getMaxZoom(),S=s.getNorthWest(),x=s.getSouthEast(),k=this.getSize().subtract(c),M=de(this.project(x,d),this.project(S,d)).getSize(),j=q.any3d?this.options.zoomSnap:1,Y=k.x/M.x,re=k.y/M.y,Et=a?Math.max(Y,re):Math.min(Y,re);return d=this.getScaleZoom(Et,d),j&&(d=Math.round(d/(j/100))*(j/100),d=a?Math.ceil(d/j)*j:Math.floor(d/j)*j),Math.max(p,Math.min(g,d))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new A(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,a){var c=this._getTopLeftPoint(s,a);return new J(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,a){var c=this.options.crs;return a=a===void 0?this._zoom:a,c.scale(s)/c.scale(a)},getScaleZoom:function(s,a){var c=this.options.crs;a=a===void 0?this._zoom:a;var d=c.zoom(s*c.scale(a));return isNaN(d)?1/0:d},project:function(s,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(te(s),a)},unproject:function(s,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(D(s),a)},layerPointToLatLng:function(s){var a=D(s).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(s){var a=this.project(te(s))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(te(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(ve(s))},distance:function(s,a){return this.options.crs.distance(te(s),te(a))},containerPointToLayerPoint:function(s){return D(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return D(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var a=this.containerPointToLayerPoint(D(s));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(te(s)))},mouseEventToContainerPoint:function(s){return lg(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var a=this._container=rg(s);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ne(a,"scroll",this._onScroll,this),this._containerId=h(a)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&q.any3d,ie(s,"leaflet-container"+(q.touch?" leaflet-touch":"")+(q.retina?" leaflet-retina":"")+(q.ielt9?" leaflet-oldie":"")+(q.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=oo(s,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),$e(this._mapPane,new A(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ie(s.markerPane,"leaflet-zoom-hide"),ie(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,a,c){$e(this._mapPane,new A(0,0));var d=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var p=this._zoom!==a;this._moveStart(p,c)._move(s,a)._moveEnd(p),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(s,a){return s&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(s,a,c,d){a===void 0&&(a=this._zoom);var p=this._zoom!==a;return this._zoom=a,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),d?c&&c.pinch&&this.fire("zoom",c):((p||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){$e(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[h(this._container)]=this;var a=s?Te:ne;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),q.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$(this._resizeRequest),this._resizeRequest=G(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,a){for(var c=[],d,p=a==="mouseout"||a==="mouseover",g=s.target||s.srcElement,S=!1;g;){if(d=this._targets[h(g)],d&&(a==="click"||a==="preclick")&&this._draggableMoved(d)){S=!0;break}if(d&&d.listens(a,!0)&&(p&&!Ph(g,s)||(c.push(d),p))||g===this._container)break;g=g.parentNode}return!c.length&&!S&&!p&&this.listens(a,!0)&&(c=[this]),c},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var a=s.target||s.srcElement;if(!(!this._loaded||a._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(a))){var c=s.type;c==="mousedown"&&wh(a),this._fireDOMEvent(s,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,a,c){if(s.type==="click"){var d=r({},s);d.type="preclick",this._fireDOMEvent(d,d.type,c)}var p=this._findEventTargets(s,a);if(c){for(var g=[],S=0;S<c.length;S++)c[S].listens(a,!0)&&g.push(c[S]);p=g.concat(p)}if(p.length){a==="contextmenu"&&lt(s);var x=p[0],k={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var M=x.getLatLng&&(!x._radius||x._radius<=10);k.containerPoint=M?this.latLngToContainerPoint(x.getLatLng()):this.mouseEventToContainerPoint(s),k.layerPoint=this.containerPointToLayerPoint(k.containerPoint),k.latlng=M?x.getLatLng():this.layerPointToLatLng(k.layerPoint)}for(S=0;S<p.length;S++)if(p[S].fire(a,k,!0),k.originalEvent._stopped||p[S].options.bubblingMouseEvents===!1&&b(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,a=this._handlers.length;s<a;s++)this._handlers[s].disable()},whenReady:function(s,a){return this._loaded?s.call(a||this,{target:this}):this.on("load",s,a),this},_getMapPanePos:function(){return Xi(this._mapPane)||new A(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,a){var c=s&&a!==void 0?this._getNewPixelOrigin(s,a):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,a){var c=this.getSize()._divideBy(2);return this.project(s,a)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,a,c){var d=this._getNewPixelOrigin(c,a);return this.project(s,a)._subtract(d)},_latLngBoundsToNewLayerBounds:function(s,a,c){var d=this._getNewPixelOrigin(c,a);return de([this.project(s.getSouthWest(),a)._subtract(d),this.project(s.getNorthWest(),a)._subtract(d),this.project(s.getSouthEast(),a)._subtract(d),this.project(s.getNorthEast(),a)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,a,c){if(!c)return s;var d=this.project(s,a),p=this.getSize().divideBy(2),g=new J(d.subtract(p),d.add(p)),S=this._getBoundsOffset(g,c,a);return Math.abs(S.x)<=1&&Math.abs(S.y)<=1?s:this.unproject(d.add(S),a)},_limitOffset:function(s,a){if(!a)return s;var c=this.getPixelBounds(),d=new J(c.min.add(s),c.max.add(s));return s.add(this._getBoundsOffset(d,a))},_getBoundsOffset:function(s,a,c){var d=de(this.project(a.getNorthEast(),c),this.project(a.getSouthWest(),c)),p=d.min.subtract(s.min),g=d.max.subtract(s.max),S=this._rebound(p.x,-g.x),x=this._rebound(p.y,-g.y);return new A(S,x)},_rebound:function(s,a){return s+a>0?Math.round(s-a)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(a))},_limitZoom:function(s){var a=this.getMinZoom(),c=this.getMaxZoom(),d=q.any3d?this.options.zoomSnap:1;return d&&(s=Math.round(s/d)*d),Math.max(a,Math.min(c,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){We(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,a){var c=this._getCenterOffset(s)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,a),!0)},_createAnimProxy:function(){var s=this._proxy=me("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(a){var c=fh,d=this._proxy.style[c];Ji(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),d===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Le(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),a=this.getZoom();Ji(this._proxy,this.project(s,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,a,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(a),p=this._getCenterOffset(s)._divideBy(1-1/d);return c.animate!==!0&&!this.getSize().contains(p)?!1:(G(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(s,a,!0)},this),!0)},_animateZoom:function(s,a,c,d){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=a,ie(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:a,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&We(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function RP(s,a){return new ue(s,a)}var an=He.extend({options:{position:"topright"},initialize:function(s){C(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var a=this._map;return a&&a.removeControl(this),this.options.position=s,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var a=this._container=this.onAdd(s),c=this.getPosition(),d=s._controlCorners[c];return ie(a,"leaflet-control"),c.indexOf("bottom")!==-1?d.insertBefore(a,d.firstChild):d.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Le(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),ho=function(s){return new an(s)};ue.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},a="leaflet-",c=this._controlContainer=me("div",a+"control-container",this._container);function d(p,g){var S=a+p+" "+a+g;s[p+g]=me("div",S,c)}d("top","left"),d("top","right"),d("bottom","left"),d("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Le(this._controlCorners[s]);Le(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var hg=an.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,a,c,d){return c<d?-1:d<c?1:0}},initialize:function(s,a,c){C(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var d in s)this._addLayer(s[d],d);for(d in a)this._addLayer(a[d],d,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return an.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,a){return this._addLayer(s,a),this._map?this._update():this},addOverlay:function(s,a){return this._addLayer(s,a,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var a=this._getLayer(h(s));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){ie(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(ie(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):We(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return We(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",a=this._container=me("div",s),c=this.options.collapsed;a.setAttribute("aria-haspopup",!0),co(a),Ih(a);var d=this._section=me("section",s+"-list");c&&(this._map.on("click",this.collapse,this),ne(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var p=this._layersLink=me("a",s+"-toggle",a);p.href="#",p.title="Layers",p.setAttribute("role","button"),ne(p,{keydown:function(g){g.keyCode===13&&this._expandSafely()},click:function(g){lt(g),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=me("div",s+"-base",d),this._separator=me("div",s+"-separator",d),this._overlaysList=me("div",s+"-overlays",d),a.appendChild(d)},_getLayer:function(s){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&h(this._layers[a].layer)===s)return this._layers[a]},_addLayer:function(s,a,c){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:a,overlay:c}),this.options.sortLayers&&this._layers.sort(l(function(d,p){return this.options.sortFunction(d.layer,p.layer,d.name,p.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;el(this._baseLayersList),el(this._overlaysList),this._layerControlInputs=[];var s,a,c,d,p=0;for(c=0;c<this._layers.length;c++)d=this._layers[c],this._addItem(d),a=a||d.overlay,s=s||!d.overlay,p+=d.overlay?0:1;return this.options.hideSingleBase&&(s=s&&p>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=a&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var a=this._getLayer(h(s.target)),c=a.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;c&&this._map.fire(c,a)},_createRadioElement:function(s,a){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(a?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=c,d.firstChild},_addItem:function(s){var a=document.createElement("label"),c=this._map.hasLayer(s.layer),d;s.overlay?(d=document.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=c):d=this._createRadioElement("leaflet-base-layers_"+h(this),c),this._layerControlInputs.push(d),d.layerId=h(s.layer),ne(d,"click",this._onInputClick,this);var p=document.createElement("span");p.innerHTML=" "+s.name;var g=document.createElement("span");a.appendChild(g),g.appendChild(d),g.appendChild(p);var S=s.overlay?this._overlaysList:this._baseLayersList;return S.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,a,c,d=[],p=[];this._handlingClick=!0;for(var g=s.length-1;g>=0;g--)a=s[g],c=this._getLayer(a.layerId).layer,a.checked?d.push(c):a.checked||p.push(c);for(g=0;g<p.length;g++)this._map.hasLayer(p[g])&&this._map.removeLayer(p[g]);for(g=0;g<d.length;g++)this._map.hasLayer(d[g])||this._map.addLayer(d[g]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,a,c,d=this._map.getZoom(),p=s.length-1;p>=0;p--)a=s[p],c=this._getLayer(a.layerId).layer,a.disabled=c.options.minZoom!==void 0&&d<c.options.minZoom||c.options.maxZoom!==void 0&&d>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,ne(s,"click",lt),this.expand();var a=this;setTimeout(function(){Te(s,"click",lt),a._preventClick=!1})}}),LP=function(s,a,c){return new hg(s,a,c)},xh=an.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var a="leaflet-control-zoom",c=me("div",a+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,a+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,a+"-out",c,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,a,c,d,p){var g=me("a",c,d);return g.innerHTML=s,g.href="#",g.title=a,g.setAttribute("role","button"),g.setAttribute("aria-label",a),co(g),ne(g,"click",tr),ne(g,"click",p,this),ne(g,"click",this._refocusOnMap,this),g},_updateDisabled:function(){var s=this._map,a="leaflet-disabled";We(this._zoomInButton,a),We(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(ie(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(ie(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});ue.mergeOptions({zoomControl:!0}),ue.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new xh,this.addControl(this.zoomControl))});var AP=function(s){return new xh(s)},dg=an.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var a="leaflet-control-scale",c=me("div",a),d=this.options;return this._addScales(d,a+"-line",c),s.on(d.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),c},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,a,c){s.metric&&(this._mScale=me("div",a,c)),s.imperial&&(this._iScale=me("div",a,c))},_update:function(){var s=this._map,a=s.getSize().y/2,c=s.distance(s.containerPointToLatLng([0,a]),s.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(c)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var a=this._getRoundNum(s),c=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,c,a/s)},_updateImperial:function(s){var a=s*3.2808399,c,d,p;a>5280?(c=a/5280,d=this._getRoundNum(c),this._updateScale(this._iScale,d+" mi",d/c)):(p=this._getRoundNum(a),this._updateScale(this._iScale,p+" ft",p/a))},_updateScale:function(s,a,c){s.style.width=Math.round(this.options.maxWidth*c)+"px",s.innerHTML=a},_getRoundNum:function(s){var a=Math.pow(10,(Math.floor(s)+"").length-1),c=s/a;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,a*c}}),NP=function(s){return new dg(s)},OP='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',kh=an.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(q.inlineSvg?OP+" ":"")+"Leaflet</a>"},initialize:function(s){C(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=me("div","leaflet-control-attribution"),co(this._container);for(var a in s._layers)s._layers[a].getAttribution&&this.addAttribution(s._layers[a].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var a in this._attributions)this._attributions[a]&&s.push(a);var c=[];this.options.prefix&&c.push(this.options.prefix),s.length&&c.push(s.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});ue.mergeOptions({attributionControl:!0}),ue.addInitHook(function(){this.options.attributionControl&&new kh().addTo(this)});var MP=function(s){return new kh(s)};an.Layers=hg,an.Zoom=xh,an.Scale=dg,an.Attribution=kh,ho.layers=LP,ho.zoom=AP,ho.scale=NP,ho.attribution=MP;var Pn=He.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Pn.addTo=function(s,a){return s.addHandler(a,this),this};var DP={Events:Me},fg=q.touch?"touchstart mousedown":"mousedown",pi=Xe.extend({options:{clickTolerance:3},initialize:function(s,a,c,d){C(this,d),this._element=s,this._dragStartTarget=a||s,this._preventOutline=c},enable:function(){this._enabled||(ne(this._dragStartTarget,fg,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(pi._dragging===this&&this.finishDrag(!0),Te(this._dragStartTarget,fg,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!ph(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){pi._dragging===this&&this.finishDrag();return}if(!(pi._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(pi._dragging=this,this._preventOutline&&wh(this._element),gh(),ao(),!this._moving)){this.fire("down");var a=s.touches?s.touches[0]:s,c=sg(this._element);this._startPoint=new A(a.clientX,a.clientY),this._startPos=Xi(this._element),this._parentScale=Eh(c);var d=s.type==="mousedown";ne(document,d?"mousemove":"touchmove",this._onMove,this),ne(document,d?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var a=s.touches&&s.touches.length===1?s.touches[0]:s,c=new A(a.clientX,a.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,lt(s),this._moved||(this.fire("dragstart"),this._moved=!0,ie(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ie(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),$e(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){We(document.body,"leaflet-dragging"),this._lastTarget&&(We(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Te(document,"mousemove touchmove",this._onMove,this),Te(document,"mouseup touchend touchcancel",this._onUp,this),vh(),lo();var a=this._moved&&this._moving;this._moving=!1,pi._dragging=!1,a&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function pg(s,a,c){var d,p=[1,4,2,8],g,S,x,k,M,j,Y,re;for(g=0,j=s.length;g<j;g++)s[g]._code=nr(s[g],a);for(x=0;x<4;x++){for(Y=p[x],d=[],g=0,j=s.length,S=j-1;g<j;S=g++)k=s[g],M=s[S],k._code&Y?M._code&Y||(re=sl(M,k,Y,a,c),re._code=nr(re,a),d.push(re)):(M._code&Y&&(re=sl(M,k,Y,a,c),re._code=nr(re,a),d.push(re)),d.push(k));s=d}return s}function mg(s,a){var c,d,p,g,S,x,k,M,j;if(!s||s.length===0)throw new Error("latlngs not passed");Kt(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Y=te([0,0]),re=ve(s),Et=re.getNorthWest().distanceTo(re.getSouthWest())*re.getNorthEast().distanceTo(re.getNorthWest());Et<1700&&(Y=bh(s));var et=s.length,Yt=[];for(c=0;c<et;c++){var Rt=te(s[c]);Yt.push(a.project(te([Rt.lat-Y.lat,Rt.lng-Y.lng])))}for(x=k=M=0,c=0,d=et-1;c<et;d=c++)p=Yt[c],g=Yt[d],S=p.y*g.x-g.y*p.x,k+=(p.x+g.x)*S,M+=(p.y+g.y)*S,x+=S*3;x===0?j=Yt[0]:j=[k/x,M/x];var Xr=a.unproject(D(j));return te([Xr.lat+Y.lat,Xr.lng+Y.lng])}function bh(s){for(var a=0,c=0,d=0,p=0;p<s.length;p++){var g=te(s[p]);a+=g.lat,c+=g.lng,d++}return te([a/d,c/d])}var FP={__proto__:null,clipPolygon:pg,polygonCenter:mg,centroid:bh};function _g(s,a){if(!a||!s.length)return s.slice();var c=a*a;return s=zP(s,c),s=BP(s,c),s}function gg(s,a,c){return Math.sqrt(fo(s,a,c,!0))}function UP(s,a,c){return fo(s,a,c)}function BP(s,a){var c=s.length,d=typeof Uint8Array!=void 0+""?Uint8Array:Array,p=new d(c);p[0]=p[c-1]=1,Rh(s,p,a,0,c-1);var g,S=[];for(g=0;g<c;g++)p[g]&&S.push(s[g]);return S}function Rh(s,a,c,d,p){var g=0,S,x,k;for(x=d+1;x<=p-1;x++)k=fo(s[x],s[d],s[p],!0),k>g&&(S=x,g=k);g>c&&(a[S]=1,Rh(s,a,c,d,S),Rh(s,a,c,S,p))}function zP(s,a){for(var c=[s[0]],d=1,p=0,g=s.length;d<g;d++)jP(s[d],s[p])>a&&(c.push(s[d]),p=d);return p<g-1&&c.push(s[g-1]),c}var vg;function yg(s,a,c,d,p){var g=d?vg:nr(s,c),S=nr(a,c),x,k,M;for(vg=S;;){if(!(g|S))return[s,a];if(g&S)return!1;x=g||S,k=sl(s,a,x,c,p),M=nr(k,c),x===g?(s=k,g=M):(a=k,S=M)}}function sl(s,a,c,d,p){var g=a.x-s.x,S=a.y-s.y,x=d.min,k=d.max,M,j;return c&8?(M=s.x+g*(k.y-s.y)/S,j=k.y):c&4?(M=s.x+g*(x.y-s.y)/S,j=x.y):c&2?(M=k.x,j=s.y+S*(k.x-s.x)/g):c&1&&(M=x.x,j=s.y+S*(x.x-s.x)/g),new A(M,j,p)}function nr(s,a){var c=0;return s.x<a.min.x?c|=1:s.x>a.max.x&&(c|=2),s.y<a.min.y?c|=4:s.y>a.max.y&&(c|=8),c}function jP(s,a){var c=a.x-s.x,d=a.y-s.y;return c*c+d*d}function fo(s,a,c,d){var p=a.x,g=a.y,S=c.x-p,x=c.y-g,k=S*S+x*x,M;return k>0&&(M=((s.x-p)*S+(s.y-g)*x)/k,M>1?(p=c.x,g=c.y):M>0&&(p+=S*M,g+=x*M)),S=s.x-p,x=s.y-g,d?S*S+x*x:new A(p,g)}function Kt(s){return!I(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function wg(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Kt(s)}function Eg(s,a){var c,d,p,g,S,x,k,M;if(!s||s.length===0)throw new Error("latlngs not passed");Kt(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var j=te([0,0]),Y=ve(s),re=Y.getNorthWest().distanceTo(Y.getSouthWest())*Y.getNorthEast().distanceTo(Y.getNorthWest());re<1700&&(j=bh(s));var Et=s.length,et=[];for(c=0;c<Et;c++){var Yt=te(s[c]);et.push(a.project(te([Yt.lat-j.lat,Yt.lng-j.lng])))}for(c=0,d=0;c<Et-1;c++)d+=et[c].distanceTo(et[c+1])/2;if(d===0)M=et[0];else for(c=0,g=0;c<Et-1;c++)if(S=et[c],x=et[c+1],p=S.distanceTo(x),g+=p,g>d){k=(g-d)/p,M=[x.x-k*(x.x-S.x),x.y-k*(x.y-S.y)];break}var Rt=a.unproject(D(M));return te([Rt.lat+j.lat,Rt.lng+j.lng])}var HP={__proto__:null,simplify:_g,pointToSegmentDistance:gg,closestPointOnSegment:UP,clipSegment:yg,_getEdgeIntersection:sl,_getBitCode:nr,_sqClosestPointOnSegment:fo,isFlat:Kt,_flat:wg,polylineCenter:Eg},Lh={project:function(s){return new A(s.lng,s.lat)},unproject:function(s){return new pe(s.y,s.x)},bounds:new J([-180,-90],[180,90])},Ah={R:6378137,R_MINOR:6356752314245179e-9,bounds:new J([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var a=Math.PI/180,c=this.R,d=s.lat*a,p=this.R_MINOR/c,g=Math.sqrt(1-p*p),S=g*Math.sin(d),x=Math.tan(Math.PI/4-d/2)/Math.pow((1-S)/(1+S),g/2);return d=-c*Math.log(Math.max(x,1e-10)),new A(s.lng*a*c,d)},unproject:function(s){for(var a=180/Math.PI,c=this.R,d=this.R_MINOR/c,p=Math.sqrt(1-d*d),g=Math.exp(-s.y/c),S=Math.PI/2-2*Math.atan(g),x=0,k=.1,M;x<15&&Math.abs(k)>1e-7;x++)M=p*Math.sin(S),M=Math.pow((1-M)/(1+M),p/2),k=Math.PI/2-2*Math.atan(g*M)-S,S+=k;return new pe(S*a,s.x*a/c)}},WP={__proto__:null,LonLat:Lh,Mercator:Ah,SphericalMercator:rh},VP=r({},fi,{code:"EPSG:3395",projection:Ah,transformation:function(){var s=.5/(Math.PI*Ah.R);return io(s,.5,-s,.5)}()}),Tg=r({},fi,{code:"EPSG:4326",projection:Lh,transformation:io(1/180,1,-1/180,.5)}),$P=r({},bt,{projection:Lh,transformation:io(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,a){var c=a.lng-s.lng,d=a.lat-s.lat;return Math.sqrt(c*c+d*d)},infinite:!0});bt.Earth=fi,bt.EPSG3395=VP,bt.EPSG3857=oh,bt.EPSG900913=QI,bt.EPSG4326=Tg,bt.Simple=$P;var ln=Xe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[h(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[h(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var a=s.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var c=this.getEvents();a.on(c,this),this.once("remove",function(){a.off(c,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});ue.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var a=h(s);return this._layers[a]?this:(this._layers[a]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var a=h(s);return this._layers[a]?(this._loaded&&s.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return h(s)in this._layers},eachLayer:function(s,a){for(var c in this._layers)s.call(a,this._layers[c]);return this},_addLayers:function(s){s=s?I(s)?s:[s]:[];for(var a=0,c=s.length;a<c;a++)this.addLayer(s[a])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[h(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var a=h(s);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,a=-1/0,c=this._getZoomSpan();for(var d in this._zoomBoundLayers){var p=this._zoomBoundLayers[d].options;s=p.minZoom===void 0?s:Math.min(s,p.minZoom),a=p.maxZoom===void 0?a:Math.max(a,p.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=s===1/0?void 0:s,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Gr=ln.extend({initialize:function(s,a){C(this,a),this._layers={};var c,d;if(s)for(c=0,d=s.length;c<d;c++)this.addLayer(s[c])},addLayer:function(s){var a=this.getLayerId(s);return this._layers[a]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var a=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(s){var a=typeof s=="number"?s:this.getLayerId(s);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var a=Array.prototype.slice.call(arguments,1),c,d;for(c in this._layers)d=this._layers[c],d[s]&&d[s].apply(d,a);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,a){for(var c in this._layers)s.call(a,this._layers[c]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return h(s)}}),ZP=function(s,a){return new Gr(s,a)},zn=Gr.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Gr.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Gr.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Ke;for(var a in this._layers){var c=this._layers[a];s.extend(c.getBounds?c.getBounds():c.getLatLng())}return s}}),qP=function(s,a){return new zn(s,a)},Kr=He.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){C(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,a){var c=this._getIconUrl(s);if(!c){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(c,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(d,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),d},_setIconStyles:function(s,a){var c=this.options,d=c[a+"Size"];typeof d=="number"&&(d=[d,d]);var p=D(d),g=D(a==="shadow"&&c.shadowAnchor||c.iconAnchor||p&&p.divideBy(2,!0));s.className="leaflet-marker-"+a+" "+(c.className||""),g&&(s.style.marginLeft=-g.x+"px",s.style.marginTop=-g.y+"px"),p&&(s.style.width=p.x+"px",s.style.height=p.y+"px")},_createImg:function(s,a){return a=a||document.createElement("img"),a.src=s,a},_getIconUrl:function(s){return q.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function GP(s){return new Kr(s)}var po=Kr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof po.imagePath!="string"&&(po.imagePath=this._detectIconPath()),(this.options.imagePath||po.imagePath)+Kr.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var a=function(c,d,p){var g=d.exec(c);return g&&g[p]};return s=a(s,/^url\((['"])?(.+)\1\)$/,2),s&&a(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=me("div","leaflet-default-icon-path",document.body),a=oo(s,"background-image")||oo(s,"backgroundImage");if(document.body.removeChild(s),a=this._stripUrl(a),a)return a;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Sg=Pn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new pi(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ie(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&We(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var a=this._marker,c=a._map,d=this._marker.options.autoPanSpeed,p=this._marker.options.autoPanPadding,g=Xi(a._icon),S=c.getPixelBounds(),x=c.getPixelOrigin(),k=de(S.min._subtract(x).add(p),S.max._subtract(x).subtract(p));if(!k.contains(g)){var M=D((Math.max(k.max.x,g.x)-k.max.x)/(S.max.x-k.max.x)-(Math.min(k.min.x,g.x)-k.min.x)/(S.min.x-k.min.x),(Math.max(k.max.y,g.y)-k.max.y)/(S.max.y-k.max.y)-(Math.min(k.min.y,g.y)-k.min.y)/(S.min.y-k.min.y)).multiplyBy(d);c.panBy(M,{animate:!1}),this._draggable._newPos._add(M),this._draggable._startPos._add(M),$e(a._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=G(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&($(this._panRequest),this._panRequest=G(this._adjustPan.bind(this,s)))},_onDrag:function(s){var a=this._marker,c=a._shadow,d=Xi(a._icon),p=a._map.layerPointToLatLng(d);c&&$e(c,d),a._latlng=p,s.latlng=p,s.oldLatLng=this._oldLatLng,a.fire("move",s).fire("drag",s)},_onDragEnd:function(s){$(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),ol=ln.extend({options:{icon:new po,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,a){C(this,a),this._latlng=te(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var a=this._latlng;return this._latlng=te(s),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=s.icon.createIcon(this._icon),d=!1;c!==this._icon&&(this._icon&&this._removeIcon(),d=!0,s.title&&(c.title=s.title),c.tagName==="IMG"&&(c.alt=s.alt||"")),ie(c,a),s.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ne(c,"focus",this._panOnFocus,this);var p=s.icon.createShadow(this._shadow),g=!1;p!==this._shadow&&(this._removeShadow(),g=!0),p&&(ie(p,a),p.alt=""),this._shadow=p,s.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),p&&g&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Te(this._icon,"focus",this._panOnFocus,this),Le(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Le(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&$e(this._icon,s),this._shadow&&$e(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(ie(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Sg)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Sg(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Gt(this._icon,s),this._shadow&&Gt(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var a=this.options.icon.options,c=a.iconSize?D(a.iconSize):D(0,0),d=a.iconAnchor?D(a.iconAnchor):D(0,0);s.panInside(this._latlng,{paddingTopLeft:d,paddingBottomRight:c.subtract(d)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function KP(s,a){return new ol(s,a)}var mi=ln.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return C(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),al=mi.extend({options:{fill:!0,radius:10},initialize:function(s,a){C(this,a),this._latlng=te(s),this._radius=this.options.radius},setLatLng:function(s){var a=this._latlng;return this._latlng=te(s),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var a=s&&s.radius||this._radius;return mi.prototype.setStyle.call(this,s),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,a=this._radiusY||s,c=this._clickTolerance(),d=[s+c,a+c];this._pxBounds=new J(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function YP(s,a){return new al(s,a)}var Nh=al.extend({initialize:function(s,a,c){if(typeof a=="number"&&(a=r({},c,{radius:a})),C(this,a),this._latlng=te(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Ke(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:mi.prototype.setStyle,_project:function(){var s=this._latlng.lng,a=this._latlng.lat,c=this._map,d=c.options.crs;if(d.distance===fi.distance){var p=Math.PI/180,g=this._mRadius/fi.R/p,S=c.project([a+g,s]),x=c.project([a-g,s]),k=S.add(x).divideBy(2),M=c.unproject(k).lat,j=Math.acos((Math.cos(g*p)-Math.sin(a*p)*Math.sin(M*p))/(Math.cos(a*p)*Math.cos(M*p)))/p;(isNaN(j)||j===0)&&(j=g/Math.cos(Math.PI/180*a)),this._point=k.subtract(c.getPixelOrigin()),this._radius=isNaN(j)?0:k.x-c.project([M,s-j]).x,this._radiusY=k.y-S.y}else{var Y=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(Y).x}this._updateBounds()}});function QP(s,a,c){return new Nh(s,a,c)}var jn=mi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,a){C(this,a),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var a=1/0,c=null,d=fo,p,g,S=0,x=this._parts.length;S<x;S++)for(var k=this._parts[S],M=1,j=k.length;M<j;M++){p=k[M-1],g=k[M];var Y=d(s,p,g,!0);Y<a&&(a=Y,c=d(s,p,g))}return c&&(c.distance=Math.sqrt(a)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Eg(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,a){return a=a||this._defaultShape(),s=te(s),a.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Ke,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Kt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var a=[],c=Kt(s),d=0,p=s.length;d<p;d++)c?(a[d]=te(s[d]),this._bounds.extend(a[d])):a[d]=this._convertLatLngs(s[d]);return a},_project:function(){var s=new J;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),a=new A(s,s);this._rawPxBounds&&(this._pxBounds=new J([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(s,a,c){var d=s[0]instanceof pe,p=s.length,g,S;if(d){for(S=[],g=0;g<p;g++)S[g]=this._map.latLngToLayerPoint(s[g]),c.extend(S[g]);a.push(S)}else for(g=0;g<p;g++)this._projectLatlngs(s[g],a,c)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,c,d,p,g,S,x,k;for(c=0,p=0,g=this._rings.length;c<g;c++)for(k=this._rings[c],d=0,S=k.length;d<S-1;d++)x=yg(k[d],k[d+1],s,d,!0),x&&(a[p]=a[p]||[],a[p].push(x[0]),(x[1]!==k[d+1]||d===S-2)&&(a[p].push(x[1]),p++))}},_simplifyPoints:function(){for(var s=this._parts,a=this.options.smoothFactor,c=0,d=s.length;c<d;c++)s[c]=_g(s[c],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,a){var c,d,p,g,S,x,k=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(c=0,g=this._parts.length;c<g;c++)for(x=this._parts[c],d=0,S=x.length,p=S-1;d<S;p=d++)if(!(!a&&d===0)&&gg(s,x[p],x[d])<=k)return!0;return!1}});function JP(s,a){return new jn(s,a)}jn._flat=wg;var Yr=jn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return mg(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var a=jn.prototype._convertLatLngs.call(this,s),c=a.length;return c>=2&&a[0]instanceof pe&&a[0].equals(a[c-1])&&a.pop(),a},_setLatLngs:function(s){jn.prototype._setLatLngs.call(this,s),Kt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Kt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,a=this.options.weight,c=new A(a,a);if(s=new J(s.min.subtract(c),s.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var d=0,p=this._rings.length,g;d<p;d++)g=pg(this._rings[d],s,!0),g.length&&this._parts.push(g)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var a=!1,c,d,p,g,S,x,k,M;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(g=0,k=this._parts.length;g<k;g++)for(c=this._parts[g],S=0,M=c.length,x=M-1;S<M;x=S++)d=c[S],p=c[x],d.y>s.y!=p.y>s.y&&s.x<(p.x-d.x)*(s.y-d.y)/(p.y-d.y)+d.x&&(a=!a);return a||jn.prototype._containsPoint.call(this,s,!0)}});function XP(s,a){return new Yr(s,a)}var Hn=zn.extend({initialize:function(s,a){C(this,a),this._layers={},s&&this.addData(s)},addData:function(s){var a=I(s)?s:s.features,c,d,p;if(a){for(c=0,d=a.length;c<d;c++)p=a[c],(p.geometries||p.geometry||p.features||p.coordinates)&&this.addData(p);return this}var g=this.options;if(g.filter&&!g.filter(s))return this;var S=ll(s,g);return S?(S.feature=hl(s),S.defaultOptions=S.options,this.resetStyle(S),g.onEachFeature&&g.onEachFeature(s,S),this.addLayer(S)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=r({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(a){this._setLayerStyle(a,s)},this)},_setLayerStyle:function(s,a){s.setStyle&&(typeof a=="function"&&(a=a(s.feature)),s.setStyle(a))}});function ll(s,a){var c=s.type==="Feature"?s.geometry:s,d=c?c.coordinates:null,p=[],g=a&&a.pointToLayer,S=a&&a.coordsToLatLng||Oh,x,k,M,j;if(!d&&!c)return null;switch(c.type){case"Point":return x=S(d),Cg(g,s,x,a);case"MultiPoint":for(M=0,j=d.length;M<j;M++)x=S(d[M]),p.push(Cg(g,s,x,a));return new zn(p);case"LineString":case"MultiLineString":return k=ul(d,c.type==="LineString"?0:1,S),new jn(k,a);case"Polygon":case"MultiPolygon":return k=ul(d,c.type==="Polygon"?1:2,S),new Yr(k,a);case"GeometryCollection":for(M=0,j=c.geometries.length;M<j;M++){var Y=ll({geometry:c.geometries[M],type:"Feature",properties:s.properties},a);Y&&p.push(Y)}return new zn(p);case"FeatureCollection":for(M=0,j=c.features.length;M<j;M++){var re=ll(c.features[M],a);re&&p.push(re)}return new zn(p);default:throw new Error("Invalid GeoJSON object.")}}function Cg(s,a,c,d){return s?s(a,c):new ol(c,d&&d.markersInheritOptions&&d)}function Oh(s){return new pe(s[1],s[0],s[2])}function ul(s,a,c){for(var d=[],p=0,g=s.length,S;p<g;p++)S=a?ul(s[p],a-1,c):(c||Oh)(s[p]),d.push(S);return d}function Mh(s,a){return s=te(s),s.alt!==void 0?[v(s.lng,a),v(s.lat,a),v(s.alt,a)]:[v(s.lng,a),v(s.lat,a)]}function cl(s,a,c,d){for(var p=[],g=0,S=s.length;g<S;g++)p.push(a?cl(s[g],Kt(s[g])?0:a-1,c,d):Mh(s[g],d));return!a&&c&&p.length>0&&p.push(p[0].slice()),p}function Qr(s,a){return s.feature?r({},s.feature,{geometry:a}):hl(a)}function hl(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Dh={toGeoJSON:function(s){return Qr(this,{type:"Point",coordinates:Mh(this.getLatLng(),s)})}};ol.include(Dh),Nh.include(Dh),al.include(Dh),jn.include({toGeoJSON:function(s){var a=!Kt(this._latlngs),c=cl(this._latlngs,a?1:0,!1,s);return Qr(this,{type:(a?"Multi":"")+"LineString",coordinates:c})}}),Yr.include({toGeoJSON:function(s){var a=!Kt(this._latlngs),c=a&&!Kt(this._latlngs[0]),d=cl(this._latlngs,c?2:a?1:0,!0,s);return a||(d=[d]),Qr(this,{type:(c?"Multi":"")+"Polygon",coordinates:d})}}),Gr.include({toMultiPoint:function(s){var a=[];return this.eachLayer(function(c){a.push(c.toGeoJSON(s).geometry.coordinates)}),Qr(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(s){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(s);var c=a==="GeometryCollection",d=[];return this.eachLayer(function(p){if(p.toGeoJSON){var g=p.toGeoJSON(s);if(c)d.push(g.geometry);else{var S=hl(g);S.type==="FeatureCollection"?d.push.apply(d,S.features):d.push(S)}}}),c?Qr(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});function Ig(s,a){return new Hn(s,a)}var ex=Ig,dl=ln.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,a,c){this._url=s,this._bounds=ve(a),C(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ie(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Le(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Zr(this._image),this},bringToBack:function(){return this._map&&qr(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=ve(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",a=this._image=s?this._url:me("img");if(ie(a,"leaflet-image-layer"),this._zoomAnimated&&ie(a,"leaflet-zoom-animated"),this.options.className&&ie(a,this.options.className),a.onselectstart=_,a.onmousemove=_,a.onload=l(this.fire,this,"load"),a.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(s){var a=this._map.getZoomScale(s.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Ji(this._image,c,a)},_reset:function(){var s=this._image,a=new J(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=a.getSize();$e(s,a.min),s.style.width=c.x+"px",s.style.height=c.y+"px"},_updateOpacity:function(){Gt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),tx=function(s,a,c){return new dl(s,a,c)},Pg=dl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",a=this._image=s?this._url:me("video");if(ie(a,"leaflet-image-layer"),this._zoomAnimated&&ie(a,"leaflet-zoom-animated"),this.options.className&&ie(a,this.options.className),a.onselectstart=_,a.onmousemove=_,a.onloadeddata=l(this.fire,this,"load"),s){for(var c=a.getElementsByTagName("source"),d=[],p=0;p<c.length;p++)d.push(c[p].src);this._url=c.length>0?d:[a.src];return}I(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var g=0;g<this._url.length;g++){var S=me("source");S.src=this._url[g],a.appendChild(S)}}});function nx(s,a,c){return new Pg(s,a,c)}var xg=dl.extend({_initImage:function(){var s=this._image=this._url;ie(s,"leaflet-image-layer"),this._zoomAnimated&&ie(s,"leaflet-zoom-animated"),this.options.className&&ie(s,this.options.className),s.onselectstart=_,s.onmousemove=_}});function ix(s,a,c){return new xg(s,a,c)}var xn=ln.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,a){s&&(s instanceof pe||I(s))?(this._latlng=te(s),C(this,a)):(C(this,s),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Gt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Gt(this._container,1),this.bringToFront(),this.options.interactive&&(ie(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Gt(this._container,0),this._removeTimeout=setTimeout(l(Le,void 0,this._container),200)):Le(this._container),this.options.interactive&&(We(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=te(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Zr(this._container),this},bringToBack:function(){return this._map&&qr(this._container),this},_prepareOpen:function(s){var a=this._source;if(!a._map)return!1;if(a instanceof zn){a=null;var c=this._source._layers;for(var d in c)if(c[d]._map){a=c[d];break}if(!a)return!1;this._source=a}if(!s)if(a.getCenter)s=a.getCenter();else if(a.getLatLng)s=a.getLatLng();else if(a.getBounds)s=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")s.innerHTML=a;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),a=D(this.options.offset),c=this._getAnchor();this._zoomAnimated?$e(this._container,s.add(c)):a=a.add(s).add(c);var d=this._containerBottom=-a.y,p=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=d+"px",this._container.style.left=p+"px"}},_getAnchor:function(){return[0,0]}});ue.include({_initOverlay:function(s,a,c,d){var p=a;return p instanceof s||(p=new s(d).setContent(a)),c&&p.setLatLng(c),p}}),ln.include({_initOverlay:function(s,a,c,d){var p=c;return p instanceof s?(C(p,d),p._source=this):(p=a&&!d?a:new s(d,this),p.setContent(c)),p}});var fl=xn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,xn.prototype.openOn.call(this,s)},onAdd:function(s){xn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof mi||this._source.on("preclick",er))},onRemove:function(s){xn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof mi||this._source.off("preclick",er))},getEvents:function(){var s=xn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",a=this._container=me("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=me("div",s+"-content-wrapper",a);if(this._contentNode=me("div",s+"-content",c),co(a),Ih(this._contentNode),ne(a,"contextmenu",er),this._tipContainer=me("div",s+"-tip-container",a),this._tip=me("div",s+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=me("a",s+"-close-button",a);d.setAttribute("role","button"),d.setAttribute("aria-label","Close popup"),d.href="#close",d.innerHTML='<span aria-hidden="true">&#215;</span>',ne(d,"click",function(p){lt(p),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,a=s.style;a.width="",a.whiteSpace="nowrap";var c=s.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),a.width=c+1+"px",a.whiteSpace="",a.height="";var d=s.offsetHeight,p=this.options.maxHeight,g="leaflet-popup-scrolled";p&&d>p?(a.height=p+"px",ie(s,g)):We(s,g),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),c=this._getAnchor();$e(this._container,a.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,a=parseInt(oo(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+a,d=this._containerWidth,p=new A(this._containerLeft,-c-this._containerBottom);p._add(Xi(this._container));var g=s.layerPointToContainerPoint(p),S=D(this.options.autoPanPadding),x=D(this.options.autoPanPaddingTopLeft||S),k=D(this.options.autoPanPaddingBottomRight||S),M=s.getSize(),j=0,Y=0;g.x+d+k.x>M.x&&(j=g.x+d-M.x+k.x),g.x-j-x.x<0&&(j=g.x-x.x),g.y+c+k.y>M.y&&(Y=g.y+c-M.y+k.y),g.y-Y-x.y<0&&(Y=g.y-x.y),(j||Y)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([j,Y]))}},_getAnchor:function(){return D(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),rx=function(s,a){return new fl(s,a)};ue.mergeOptions({closePopupOnClick:!0}),ue.include({openPopup:function(s,a,c){return this._initOverlay(fl,s,a,c).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),ln.include({bindPopup:function(s,a){return this._popup=this._initOverlay(fl,this._popup,s,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof zn||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){tr(s);var a=s.layer||s.target;if(this._popup._source===a&&!(a instanceof mi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=a,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var pl=xn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){xn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){xn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=xn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",a=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=me("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var a,c,d=this._map,p=this._container,g=d.latLngToContainerPoint(d.getCenter()),S=d.layerPointToContainerPoint(s),x=this.options.direction,k=p.offsetWidth,M=p.offsetHeight,j=D(this.options.offset),Y=this._getAnchor();x==="top"?(a=k/2,c=M):x==="bottom"?(a=k/2,c=0):x==="center"?(a=k/2,c=M/2):x==="right"?(a=0,c=M/2):x==="left"?(a=k,c=M/2):S.x<g.x?(x="right",a=0,c=M/2):(x="left",a=k+(j.x+Y.x)*2,c=M/2),s=s.subtract(D(a,c,!0)).add(j).add(Y),We(p,"leaflet-tooltip-right"),We(p,"leaflet-tooltip-left"),We(p,"leaflet-tooltip-top"),We(p,"leaflet-tooltip-bottom"),ie(p,"leaflet-tooltip-"+x),$e(p,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Gt(this._container,s)},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(a)},_getAnchor:function(){return D(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),sx=function(s,a){return new pl(s,a)};ue.include({openTooltip:function(s,a,c){return this._initOverlay(pl,s,a,c).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),ln.include({bindTooltip:function(s,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(pl,this._tooltip,s,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var a=s?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[a](c),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof zn||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var a=typeof s.getElement=="function"&&s.getElement();a&&(ne(a,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),ne(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var a=typeof s.getElement=="function"&&s.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var a=s.latlng,c,d;this._tooltip.options.sticky&&s.originalEvent&&(c=this._map.mouseEventToContainerPoint(s.originalEvent),d=this._map.containerPointToLayerPoint(c),a=this._map.layerPointToLatLng(d)),this._tooltip.setLatLng(a)}});var kg=Kr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var a=s&&s.tagName==="DIV"?s:document.createElement("div"),c=this.options;if(c.html instanceof Element?(el(a),a.appendChild(c.html)):a.innerHTML=c.html!==!1?c.html:"",c.bgPos){var d=D(c.bgPos);a.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function ox(s){return new kg(s)}Kr.Default=po;var mo=ln.extend({options:{tileSize:256,opacity:1,updateWhenIdle:q.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){C(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Le(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Zr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(qr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof A?s:new A(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var a=this.getPane().children,c=-s(-1/0,1/0),d=0,p=a.length,g;d<p;d++)g=a[d].style.zIndex,a[d]!==this._container&&g&&(c=s(c,+g));isFinite(c)&&(this.options.zIndex=c+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!q.ielt9){Gt(this._container,this.options.opacity);var s=+new Date,a=!1,c=!1;for(var d in this._tiles){var p=this._tiles[d];if(!(!p.current||!p.loaded)){var g=Math.min(1,(s-p.loaded)/200);Gt(p.el,g),g<1?a=!0:(p.active?c=!0:this._onOpaqueTile(p),p.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),a&&($(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=me("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,a=this.options.maxZoom;if(s!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===s?(this._levels[c].el.style.zIndex=a-Math.abs(s-c),this._onUpdateLevel(c)):(Le(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var d=this._levels[s],p=this._map;return d||(d=this._levels[s]={},d.el=me("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=a,d.origin=p.project(p.unproject(p.getPixelOrigin()),s).round(),d.zoom=s,this._setZoomTransform(d,p.getCenter(),p.getZoom()),_(d.el.offsetWidth),this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var s,a,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)a=this._tiles[s],a.retain=a.current;for(s in this._tiles)if(a=this._tiles[s],a.current&&!a.active){var d=a.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var a in this._tiles)this._tiles[a].coords.z===s&&this._removeTile(a)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Le(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,a,c,d){var p=Math.floor(s/2),g=Math.floor(a/2),S=c-1,x=new A(+p,+g);x.z=+S;var k=this._tileCoordsToKey(x),M=this._tiles[k];return M&&M.active?(M.retain=!0,!0):(M&&M.loaded&&(M.retain=!0),S>d?this._retainParent(p,g,S,d):!1)},_retainChildren:function(s,a,c,d){for(var p=2*s;p<2*s+2;p++)for(var g=2*a;g<2*a+2;g++){var S=new A(p,g);S.z=c+1;var x=this._tileCoordsToKey(S),k=this._tiles[x];if(k&&k.active){k.retain=!0;continue}else k&&k.loaded&&(k.retain=!0);c+1<d&&this._retainChildren(p,g,c+1,d)}},_resetView:function(s){var a=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var a=this.options;return a.minNativeZoom!==void 0&&s<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<s?a.maxNativeZoom:s},_setView:function(s,a,c,d){var p=Math.round(a);this.options.maxZoom!==void 0&&p>this.options.maxZoom||this.options.minZoom!==void 0&&p<this.options.minZoom?p=void 0:p=this._clampZoom(p);var g=this.options.updateWhenZooming&&p!==this._tileZoom;(!d||g)&&(this._tileZoom=p,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),p!==void 0&&this._update(s),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(s,a)},_setZoomTransforms:function(s,a){for(var c in this._levels)this._setZoomTransform(this._levels[c],s,a)},_setZoomTransform:function(s,a,c){var d=this._map.getZoomScale(c,s.zoom),p=s.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(a,c)).round();q.any3d?Ji(s.el,p,d):$e(s.el,p)},_resetGrid:function(){var s=this._map,a=s.options.crs,c=this._tileSize=this.getTileSize(),d=this._tileZoom,p=this._map.getPixelWorldBounds(this._tileZoom);p&&(this._globalTileRange=this._pxBoundsToTileRange(p)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,a.wrapLng[0]],d).x/c.x),Math.ceil(s.project([0,a.wrapLng[1]],d).x/c.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([a.wrapLat[0],0],d).y/c.x),Math.ceil(s.project([a.wrapLat[1],0],d).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var a=this._map,c=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),d=a.getZoomScale(c,this._tileZoom),p=a.project(s,this._tileZoom).floor(),g=a.getSize().divideBy(d*2);return new J(p.subtract(g),p.add(g))},_update:function(s){var a=this._map;if(a){var c=this._clampZoom(a.getZoom());if(s===void 0&&(s=a.getCenter()),this._tileZoom!==void 0){var d=this._getTiledPixelBounds(s),p=this._pxBoundsToTileRange(d),g=p.getCenter(),S=[],x=this.options.keepBuffer,k=new J(p.getBottomLeft().subtract([x,-x]),p.getTopRight().add([x,-x]));if(!(isFinite(p.min.x)&&isFinite(p.min.y)&&isFinite(p.max.x)&&isFinite(p.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var M in this._tiles){var j=this._tiles[M].coords;(j.z!==this._tileZoom||!k.contains(new A(j.x,j.y)))&&(this._tiles[M].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(s,c);return}for(var Y=p.min.y;Y<=p.max.y;Y++)for(var re=p.min.x;re<=p.max.x;re++){var Et=new A(re,Y);if(Et.z=this._tileZoom,!!this._isValidTile(Et)){var et=this._tiles[this._tileCoordsToKey(Et)];et?et.current=!0:S.push(Et)}}if(S.sort(function(Rt,Xr){return Rt.distanceTo(g)-Xr.distanceTo(g)}),S.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Yt=document.createDocumentFragment();for(re=0;re<S.length;re++)this._addTile(S[re],Yt);this._level.el.appendChild(Yt)}}}},_isValidTile:function(s){var a=this._map.options.crs;if(!a.infinite){var c=this._globalTileRange;if(!a.wrapLng&&(s.x<c.min.x||s.x>c.max.x)||!a.wrapLat&&(s.y<c.min.y||s.y>c.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(s);return ve(this.options.bounds).overlaps(d)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var a=this._map,c=this.getTileSize(),d=s.scaleBy(c),p=d.add(c),g=a.unproject(d,s.z),S=a.unproject(p,s.z);return[g,S]},_tileCoordsToBounds:function(s){var a=this._tileCoordsToNwSe(s),c=new Ke(a[0],a[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var a=s.split(":"),c=new A(+a[0],+a[1]);return c.z=+a[2],c},_removeTile:function(s){var a=this._tiles[s];a&&(Le(a.el),delete this._tiles[s],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){ie(s,"leaflet-tile");var a=this.getTileSize();s.style.width=a.x+"px",s.style.height=a.y+"px",s.onselectstart=_,s.onmousemove=_,q.ielt9&&this.options.opacity<1&&Gt(s,this.options.opacity)},_addTile:function(s,a){var c=this._getTilePos(s),d=this._tileCoordsToKey(s),p=this.createTile(this._wrapCoords(s),l(this._tileReady,this,s));this._initTile(p),this.createTile.length<2&&G(l(this._tileReady,this,s,null,p)),$e(p,c),this._tiles[d]={el:p,coords:s,current:!0},a.appendChild(p),this.fire("tileloadstart",{tile:p,coords:s})},_tileReady:function(s,a,c){a&&this.fire("tileerror",{error:a,tile:c,coords:s});var d=this._tileCoordsToKey(s);c=this._tiles[d],c&&(c.loaded=+new Date,this._map._fadeAnimated?(Gt(c.el,0),$(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),a||(ie(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),q.ielt9||!this._map._fadeAnimated?G(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var a=new A(this._wrapX?m(s.x,this._wrapX):s.x,this._wrapY?m(s.y,this._wrapY):s.y);return a.z=s.z,a},_pxBoundsToTileRange:function(s){var a=this.getTileSize();return new J(s.min.unscaleBy(a).floor(),s.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function ax(s){return new mo(s)}var Jr=mo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,a){this._url=s,a=C(this,a),a.detectRetina&&q.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,a){return this._url===s&&a===void 0&&(a=!0),this._url=s,a||this.redraw(),this},createTile:function(s,a){var c=document.createElement("img");return ne(c,"load",l(this._tileOnLoad,this,a,c)),ne(c,"error",l(this._tileOnError,this,a,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(s),c},getTileUrl:function(s){var a={r:q.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-s.y;this.options.tms&&(a.y=c),a["-y"]=c}return y(this._url,r(a,this.options))},_tileOnLoad:function(s,a){q.ielt9?setTimeout(l(s,this,null,a),0):s(null,a)},_tileOnError:function(s,a,c){var d=this.options.errorTileUrl;d&&a.getAttribute("src")!==d&&(a.src=d),s(c,a)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,a=this.options.maxZoom,c=this.options.zoomReverse,d=this.options.zoomOffset;return c&&(s=a-s),s+d},_getSubdomain:function(s){var a=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var s,a;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(a=this._tiles[s].el,a.onload=_,a.onerror=_,!a.complete)){a.src=U;var c=this._tiles[s].coords;Le(a),delete this._tiles[s],this.fire("tileabort",{tile:a,coords:c})}},_removeTile:function(s){var a=this._tiles[s];if(a)return a.el.setAttribute("src",U),mo.prototype._removeTile.call(this,s)},_tileReady:function(s,a,c){if(!(!this._map||c&&c.getAttribute("src")===U))return mo.prototype._tileReady.call(this,s,a,c)}});function bg(s,a){return new Jr(s,a)}var Rg=Jr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,a){this._url=s;var c=r({},this.defaultWmsParams);for(var d in a)d in this.options||(c[d]=a[d]);a=C(this,a);var p=a.detectRetina&&q.retina?2:1,g=this.getTileSize();c.width=g.x*p,c.height=g.y*p,this.wmsParams=c},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,Jr.prototype.onAdd.call(this,s)},getTileUrl:function(s){var a=this._tileCoordsToNwSe(s),c=this._crs,d=de(c.project(a[0]),c.project(a[1])),p=d.min,g=d.max,S=(this._wmsVersion>=1.3&&this._crs===Tg?[p.y,p.x,g.y,g.x]:[p.x,p.y,g.x,g.y]).join(","),x=Jr.prototype.getTileUrl.call(this,s);return x+R(this.wmsParams,x,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+S},setParams:function(s,a){return r(this.wmsParams,s),a||this.redraw(),this}});function lx(s,a){return new Rg(s,a)}Jr.WMS=Rg,bg.wms=lx;var Wn=ln.extend({options:{padding:.1},initialize:function(s){C(this,s),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ie(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,a){var c=this._map.getZoomScale(a,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),p=this._map.project(this._center,a),g=d.multiplyBy(-c).add(p).subtract(this._map._getNewPixelOrigin(s,a));q.any3d?Ji(this._container,g,c):$e(this._container,g)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,a=this._map.getSize(),c=this._map.containerPointToLayerPoint(a.multiplyBy(-s)).round();this._bounds=new J(c,c.add(a.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Lg=Wn.extend({options:{tolerance:0},getEvents:function(){var s=Wn.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Wn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");ne(s,"mousemove",this._onMouseMove,this),ne(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ne(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){$(this._redrawRequest),delete this._ctx,Le(this._container),Te(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var a in this._layers)s=this._layers[a],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Wn.prototype._update.call(this);var s=this._bounds,a=this._container,c=s.getSize(),d=q.retina?2:1;$e(a,s.min),a.width=d*c.x,a.height=d*c.y,a.style.width=c.x+"px",a.style.height=c.y+"px",q.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Wn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[h(s)]=s;var a=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var a=s._order,c=a.next,d=a.prev;c?c.prev=d:this._drawLast=d,d?d.next=c:this._drawFirst=c,delete s._order,delete this._layers[h(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var a=s.options.dashArray.split(/[, ]+/),c=[],d,p;for(p=0;p<a.length;p++){if(d=Number(a[p]),isNaN(d))return;c.push(d)}s.options._dashArray=c}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||G(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var a=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new J,this._redrawBounds.extend(s._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(s._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var a=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,a=this._redrawBounds;if(this._ctx.save(),a){var c=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)s=d.layer,(!a||s._pxBounds&&s._pxBounds.intersects(a))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,a){if(this._drawing){var c,d,p,g,S=s._parts,x=S.length,k=this._ctx;if(x){for(k.beginPath(),c=0;c<x;c++){for(d=0,p=S[c].length;d<p;d++)g=S[c][d],k[d?"lineTo":"moveTo"](g.x,g.y);a&&k.closePath()}this._fillStroke(k,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var a=s._point,c=this._ctx,d=Math.max(Math.round(s._radius),1),p=(Math.max(Math.round(s._radiusY),1)||d)/d;p!==1&&(c.save(),c.scale(1,p)),c.beginPath(),c.arc(a.x,a.y/p,d,0,Math.PI*2,!1),p!==1&&c.restore(),this._fillStroke(c,s)}},_fillStroke:function(s,a){var c=a.options;c.fill&&(s.globalAlpha=c.fillOpacity,s.fillStyle=c.fillColor||c.color,s.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(s.setLineDash&&s.setLineDash(a.options&&a.options._dashArray||[]),s.globalAlpha=c.opacity,s.lineWidth=c.weight,s.strokeStyle=c.color,s.lineCap=c.lineCap,s.lineJoin=c.lineJoin,s.stroke())},_onClick:function(s){for(var a=this._map.mouseEventToLayerPoint(s),c,d,p=this._drawFirst;p;p=p.next)c=p.layer,c.options.interactive&&c._containsPoint(a)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(c))&&(d=c);this._fireEvent(d?[d]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,a)}},_handleMouseOut:function(s){var a=this._hoveredLayer;a&&(We(this._container,"leaflet-interactive"),this._fireEvent([a],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,a){if(!this._mouseHoverThrottled){for(var c,d,p=this._drawFirst;p;p=p.next)c=p.layer,c.options.interactive&&c._containsPoint(a)&&(d=c);d!==this._hoveredLayer&&(this._handleMouseOut(s),d&&(ie(this._container,"leaflet-interactive"),this._fireEvent([d],s,"mouseover"),this._hoveredLayer=d)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,a,c){this._map._fireDOMEvent(a,c||a.type,s)},_bringToFront:function(s){var a=s._order;if(a){var c=a.next,d=a.prev;if(c)c.prev=d;else return;d?d.next=c:c&&(this._drawFirst=c),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(s)}},_bringToBack:function(s){var a=s._order;if(a){var c=a.next,d=a.prev;if(d)d.next=c;else return;c?c.prev=d:d&&(this._drawLast=d),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(s)}}});function Ag(s){return q.canvas?new Lg(s):null}var _o=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ux={_initContainer:function(){this._container=me("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Wn.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var a=s._container=_o("shape");ie(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",s._path=_o("path"),a.appendChild(s._path),this._updateStyle(s),this._layers[h(s)]=s},_addPath:function(s){var a=s._container;this._container.appendChild(a),s.options.interactive&&s.addInteractiveTarget(a)},_removePath:function(s){var a=s._container;Le(a),s.removeInteractiveTarget(a),delete this._layers[h(s)]},_updateStyle:function(s){var a=s._stroke,c=s._fill,d=s.options,p=s._container;p.stroked=!!d.stroke,p.filled=!!d.fill,d.stroke?(a||(a=s._stroke=_o("stroke")),p.appendChild(a),a.weight=d.weight+"px",a.color=d.color,a.opacity=d.opacity,d.dashArray?a.dashStyle=I(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=d.lineCap.replace("butt","flat"),a.joinstyle=d.lineJoin):a&&(p.removeChild(a),s._stroke=null),d.fill?(c||(c=s._fill=_o("fill")),p.appendChild(c),c.color=d.fillColor||d.color,c.opacity=d.fillOpacity):c&&(p.removeChild(c),s._fill=null)},_updateCircle:function(s){var a=s._point.round(),c=Math.round(s._radius),d=Math.round(s._radiusY||c);this._setPath(s,s._empty()?"M0 0":"AL "+a.x+","+a.y+" "+c+","+d+" 0,"+65535*360)},_setPath:function(s,a){s._path.v=a},_bringToFront:function(s){Zr(s._container)},_bringToBack:function(s){qr(s._container)}},ml=q.vml?_o:D_,go=Wn.extend({_initContainer:function(){this._container=ml("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ml("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Le(this._container),Te(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Wn.prototype._update.call(this);var s=this._bounds,a=s.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,c.setAttribute("width",a.x),c.setAttribute("height",a.y)),$e(c,s.min),c.setAttribute("viewBox",[s.min.x,s.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(s){var a=s._path=ml("path");s.options.className&&ie(a,s.options.className),s.options.interactive&&ie(a,"leaflet-interactive"),this._updateStyle(s),this._layers[h(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Le(s._path),s.removeInteractiveTarget(s._path),delete this._layers[h(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var a=s._path,c=s.options;a&&(c.stroke?(a.setAttribute("stroke",c.color),a.setAttribute("stroke-opacity",c.opacity),a.setAttribute("stroke-width",c.weight),a.setAttribute("stroke-linecap",c.lineCap),a.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?a.setAttribute("stroke-dasharray",c.dashArray):a.removeAttribute("stroke-dasharray"),c.dashOffset?a.setAttribute("stroke-dashoffset",c.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),c.fill?(a.setAttribute("fill",c.fillColor||c.color),a.setAttribute("fill-opacity",c.fillOpacity),a.setAttribute("fill-rule",c.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(s,a){this._setPath(s,F_(s._parts,a))},_updateCircle:function(s){var a=s._point,c=Math.max(Math.round(s._radius),1),d=Math.max(Math.round(s._radiusY),1)||c,p="a"+c+","+d+" 0 1,0 ",g=s._empty()?"M0 0":"M"+(a.x-c)+","+a.y+p+c*2+",0 "+p+-c*2+",0 ";this._setPath(s,g)},_setPath:function(s,a){s._path.setAttribute("d",a)},_bringToFront:function(s){Zr(s._path)},_bringToBack:function(s){qr(s._path)}});q.vml&&go.include(ux);function Ng(s){return q.svg||q.vml?new go(s):null}ue.include({getRenderer:function(s){var a=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var a=this._paneRenderers[s];return a===void 0&&(a=this._createRenderer({pane:s}),this._paneRenderers[s]=a),a},_createRenderer:function(s){return this.options.preferCanvas&&Ag(s)||Ng(s)}});var Og=Yr.extend({initialize:function(s,a){Yr.prototype.initialize.call(this,this._boundsToLatLngs(s),a)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=ve(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function cx(s,a){return new Og(s,a)}go.create=ml,go.pointsToPath=F_,Hn.geometryToLayer=ll,Hn.coordsToLatLng=Oh,Hn.coordsToLatLngs=ul,Hn.latLngToCoords=Mh,Hn.latLngsToCoords=cl,Hn.getFeature=Qr,Hn.asFeature=hl,ue.mergeOptions({boxZoom:!0});var Mg=Pn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){ne(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Le(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ao(),gh(),this._startPoint=this._map.mouseEventToContainerPoint(s),ne(document,{contextmenu:tr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=me("div","leaflet-zoom-box",this._container),ie(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var a=new J(this._point,this._startPoint),c=a.getSize();$e(this._box,a.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(Le(this._box),We(this._container,"leaflet-crosshair")),lo(),vh(),Te(document,{contextmenu:tr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var a=new Ke(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ue.addInitHook("addHandler","boxZoom",Mg),ue.mergeOptions({doubleClickZoom:!0});var Dg=Pn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var a=this._map,c=a.getZoom(),d=a.options.zoomDelta,p=s.originalEvent.shiftKey?c-d:c+d;a.options.doubleClickZoom==="center"?a.setZoom(p):a.setZoomAround(s.containerPoint,p)}});ue.addInitHook("addHandler","doubleClickZoom",Dg),ue.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Fg=Pn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new pi(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}ie(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){We(this._map._container,"leaflet-grab"),We(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=ve(this._map.options.maxBounds);this._offsetLimit=de(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var a=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(a),this._prunePositions(a)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,a){return s-(s-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;s.x<a.min.x&&(s.x=this._viscousLimit(s.x,a.min.x)),s.y<a.min.y&&(s.y=this._viscousLimit(s.y,a.min.y)),s.x>a.max.x&&(s.x=this._viscousLimit(s.x,a.max.x)),s.y>a.max.y&&(s.y=this._viscousLimit(s.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,a=Math.round(s/2),c=this._initialWorldOffset,d=this._draggable._newPos.x,p=(d-a+c)%s+a-c,g=(d+a+c)%s-a-c,S=Math.abs(p+c)<Math.abs(g+c)?p:g;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=S},_onDragEnd:function(s){var a=this._map,c=a.options,d=!c.inertia||s.noInertia||this._times.length<2;if(a.fire("dragend",s),d)a.fire("moveend");else{this._prunePositions(+new Date);var p=this._lastPos.subtract(this._positions[0]),g=(this._lastTime-this._times[0])/1e3,S=c.easeLinearity,x=p.multiplyBy(S/g),k=x.distanceTo([0,0]),M=Math.min(c.inertiaMaxSpeed,k),j=x.multiplyBy(M/k),Y=M/(c.inertiaDeceleration*S),re=j.multiplyBy(-Y/2).round();!re.x&&!re.y?a.fire("moveend"):(re=a._limitOffset(re,a.options.maxBounds),G(function(){a.panBy(re,{duration:Y,easeLinearity:S,noMoveStart:!0,animate:!0})}))}}});ue.addInitHook("addHandler","dragging",Fg),ue.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ug=Pn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),ne(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Te(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,a=document.documentElement,c=s.scrollTop||a.scrollTop,d=s.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(d,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var a=this._panKeys={},c=this.keyCodes,d,p;for(d=0,p=c.left.length;d<p;d++)a[c.left[d]]=[-1*s,0];for(d=0,p=c.right.length;d<p;d++)a[c.right[d]]=[s,0];for(d=0,p=c.down.length;d<p;d++)a[c.down[d]]=[0,s];for(d=0,p=c.up.length;d<p;d++)a[c.up[d]]=[0,-1*s]},_setZoomDelta:function(s){var a=this._zoomKeys={},c=this.keyCodes,d,p;for(d=0,p=c.zoomIn.length;d<p;d++)a[c.zoomIn[d]]=s;for(d=0,p=c.zoomOut.length;d<p;d++)a[c.zoomOut[d]]=-s},_addHooks:function(){ne(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var a=s.keyCode,c=this._map,d;if(a in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(d=this._panKeys[a],s.shiftKey&&(d=D(d).multiplyBy(3)),c.options.maxBounds&&(d=c._limitOffset(D(d),c.options.maxBounds)),c.options.worldCopyJump){var p=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(d)));c.panTo(p)}else c.panBy(d)}else if(a in this._zoomKeys)c.setZoom(c.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;tr(s)}}});ue.addInitHook("addHandler","keyboard",Ug),ue.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Bg=Pn.extend({addHooks:function(){ne(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Te(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var a=ug(s),c=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var d=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),d),tr(s)},_performZoom:function(){var s=this._map,a=s.getZoom(),c=this._map.options.zoomSnap||0;s._stop();var d=this._delta/(this._map.options.wheelPxPerZoomLevel*4),p=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2,g=c?Math.ceil(p/c)*c:p,S=s._limitZoom(a+(this._delta>0?g:-g))-a;this._delta=0,this._startTime=null,S&&(s.options.scrollWheelZoom==="center"?s.setZoom(a+S):s.setZoomAround(this._lastMousePos,a+S))}});ue.addInitHook("addHandler","scrollWheelZoom",Bg);var hx=600;ue.mergeOptions({tapHold:q.touchNative&&q.safari&&q.mobile,tapTolerance:15});var zg=Pn.extend({addHooks:function(){ne(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var a=s.touches[0];this._startPos=this._newPos=new A(a.clientX,a.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(ne(document,"touchend",lt),ne(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),hx),ne(document,"touchend touchcancel contextmenu",this._cancel,this),ne(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Te(document,"touchend",lt),Te(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Te(document,"touchend touchcancel contextmenu",this._cancel,this),Te(document,"touchmove",this._onMove,this)},_onMove:function(s){var a=s.touches[0];this._newPos=new A(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,a){var c=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});c._simulated=!0,a.target.dispatchEvent(c)}});ue.addInitHook("addHandler","tapHold",zg),ue.mergeOptions({touchZoom:q.touch,bounceAtZoomLimits:!0});var jg=Pn.extend({addHooks:function(){ie(this._map._container,"leaflet-touch-zoom"),ne(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){We(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var a=this._map;if(!(!s.touches||s.touches.length!==2||a._animatingZoom||this._zooming)){var c=a.mouseEventToContainerPoint(s.touches[0]),d=a.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(c.add(d)._divideBy(2))),this._startDist=c.distanceTo(d),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),ne(document,"touchmove",this._onTouchMove,this),ne(document,"touchend touchcancel",this._onTouchEnd,this),lt(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var a=this._map,c=a.mouseEventToContainerPoint(s.touches[0]),d=a.mouseEventToContainerPoint(s.touches[1]),p=c.distanceTo(d)/this._startDist;if(this._zoom=a.getScaleZoom(p,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&p<1||this._zoom>a.getMaxZoom()&&p>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,p===1)return}else{var g=c._add(d)._divideBy(2)._subtract(this._centerPoint);if(p===1&&g.x===0&&g.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(g),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),$(this._animRequest);var S=l(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=G(S,this,!0),lt(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,$(this._animRequest),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ue.addInitHook("addHandler","touchZoom",jg),ue.BoxZoom=Mg,ue.DoubleClickZoom=Dg,ue.Drag=Fg,ue.Keyboard=Ug,ue.ScrollWheelZoom=Bg,ue.TapHold=zg,ue.TouchZoom=jg,n.Bounds=J,n.Browser=q,n.CRS=bt,n.Canvas=Lg,n.Circle=Nh,n.CircleMarker=al,n.Class=He,n.Control=an,n.DivIcon=kg,n.DivOverlay=xn,n.DomEvent=bP,n.DomUtil=xP,n.Draggable=pi,n.Evented=Xe,n.FeatureGroup=zn,n.GeoJSON=Hn,n.GridLayer=mo,n.Handler=Pn,n.Icon=Kr,n.ImageOverlay=dl,n.LatLng=pe,n.LatLngBounds=Ke,n.Layer=ln,n.LayerGroup=Gr,n.LineUtil=HP,n.Map=ue,n.Marker=ol,n.Mixin=DP,n.Path=mi,n.Point=A,n.PolyUtil=FP,n.Polygon=Yr,n.Polyline=jn,n.Popup=fl,n.PosAnimation=cg,n.Projection=WP,n.Rectangle=Og,n.Renderer=Wn,n.SVG=go,n.SVGOverlay=xg,n.TileLayer=Jr,n.Tooltip=pl,n.Transformation=sh,n.Util=Ee,n.VideoOverlay=Pg,n.bind=l,n.bounds=de,n.canvas=Ag,n.circle=QP,n.circleMarker=YP,n.control=ho,n.divIcon=ox,n.extend=r,n.featureGroup=qP,n.geoJSON=Ig,n.geoJson=ex,n.gridLayer=ax,n.icon=GP,n.imageOverlay=tx,n.latLng=te,n.latLngBounds=ve,n.layerGroup=ZP,n.map=RP,n.marker=KP,n.point=D,n.polygon=XP,n.polyline=JP,n.popup=rx,n.rectangle=cx,n.setOptions=C,n.stamp=h,n.svg=Ng,n.svgOverlay=ix,n.tileLayer=bg,n.tooltip=sx,n.transformation=io,n.version=i,n.videoOverlay=nx;var dx=window.L;n.noConflict=function(){return window.L=dx,this},window.L=n})})(gp,gp.exports);var ht=gp.exports;const wz=$s(ht),O_=Yw({__proto__:null,default:wz},[ht]);function UI(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function BI(t,e){return e==null?function(i,r){const o=O.useRef();return o.current||(o.current=t(i,r)),o}:function(i,r){const o=O.useRef();o.current||(o.current=t(i,r));const l=O.useRef(i),{instance:u}=o.current;return O.useEffect(function(){l.current!==i&&(e(u,i,l.current),l.current=i)},[u,i,r]),o}}function Ez(t,e){O.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function zI(t){return function(n){const i=DI(),r=t(FI(n,i),i);return fz(i.map,n.attribution),yz(r.current,n.eventHandlers),Ez(r.current,i),r}}function Tz(t,e){const n=BI(t,e),i=zI(n);return gz(i)}function Sz(t,e){const n=BI(t,e),i=zI(n);return vz(i)}function Cz(t,e,n){const{opacity:i,zIndex:r}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),r!=null&&r!==n.zIndex&&t.setZIndex(r)}function Iz(){return DI().map}function vp(){return vp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},vp.apply(this,arguments)}function Pz({bounds:t,boundsOptions:e,center:n,children:i,className:r,id:o,placeholder:l,style:u,whenReady:h,zoom:f,...m},_){const[v]=O.useState({className:r,id:o,style:u}),[E,w]=O.useState(null);O.useImperativeHandle(_,()=>(E==null?void 0:E.map)??null,[E]);const C=O.useCallback(T=>{if(T!==null&&E===null){const y=new ht.Map(T,m);n!=null&&f!=null?y.setView(n,f):t!=null&&y.fitBounds(t,e),h!=null&&y.whenReady(h),w(mz(y))}},[]);O.useEffect(()=>()=>{E==null||E.map.remove()},[E]);const R=E?Jn.createElement(MI,{value:E},i):l??null;return Jn.createElement("div",vp({},v,{ref:C}),R)}const xz=O.forwardRef(Pz),kz=Tz(function({position:e,...n},i){const r=new ht.Marker(e,n);return UI(r,_z(i,{overlayContainer:r}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),bz=Sz(function({url:e,...n},i){const r=new ht.TileLayer(e,FI(n,i));return UI(r,i)},function(e,n,i){Cz(e,n,i);const{url:r}=n;r!=null&&r!==i.url&&e.setUrl(r)});var jI={exports:{}},Rz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Lz=Rz,Az=Lz;function HI(){}function WI(){}WI.resetWarningCache=HI;var Nz=function(){function t(i,r,o,l,u,h){if(h!==Az){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:WI,resetWarningCache:HI};return n.PropTypes=n,n};jI.exports=Nz();var Oz=jI.exports;const ke=$s(Oz);function Mz(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var VI=O,Dz=Mz(VI);function Hw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fz(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Uz=!!(typeof window<"u"&&window.document&&window.document.createElement);function Bz(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function i(r){return r.displayName||r.name||"Component"}return function(o){if(typeof o!="function")throw new Error("Expected WrappedComponent to be a React component.");var l=[],u;function h(){u=t(l.map(function(m){return m.props})),f.canUseDOM?e(u):n&&(u=n(u))}var f=function(m){Fz(_,m);function _(){return m.apply(this,arguments)||this}_.peek=function(){return u},_.rewind=function(){if(_.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var w=u;return u=void 0,l=[],w};var v=_.prototype;return v.UNSAFE_componentWillMount=function(){l.push(this),h()},v.componentDidUpdate=function(){h()},v.componentWillUnmount=function(){var w=l.indexOf(this);l.splice(w,1),h()},v.render=function(){return Dz.createElement(o,this.props)},_}(VI.PureComponent);return Hw(f,"displayName","SideEffect("+i(o)+")"),Hw(f,"canUseDOM",Uz),f}}var zz=Bz;const jz=$s(zz);var Hz=typeof Element<"u",Wz=typeof Map=="function",Vz=typeof Set=="function",$z=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function su(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,i,r;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(!su(t[i],e[i]))return!1;return!0}var o;if(Wz&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(i=o.next()).done;)if(!e.has(i.value[0]))return!1;for(o=t.entries();!(i=o.next()).done;)if(!su(i.value[1],e.get(i.value[0])))return!1;return!0}if(Vz&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(i=o.next()).done;)if(!e.has(i.value[0]))return!1;return!0}if($z&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(t[i]!==e[i])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,r[i]))return!1;if(Hz&&t instanceof Element)return!1;for(i=n;i--!==0;)if(!((r[i]==="_owner"||r[i]==="__v"||r[i]==="__o")&&t.$$typeof)&&!su(t[r[i]],e[r[i]]))return!1;return!0}return t!==t&&e!==e}var Zz=function(e,n){try{return su(e,n)}catch(i){if((i.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw i}};const qz=$s(Zz);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Ww=Object.getOwnPropertySymbols,Gz=Object.prototype.hasOwnProperty,Kz=Object.prototype.propertyIsEnumerable;function Yz(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Qz(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var i=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(i.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(o){r[o]=o}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Jz=Qz()?Object.assign:function(t,e){for(var n,i=Yz(t),r,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var l in n)Gz.call(n,l)&&(i[l]=n[l]);if(Ww){r=Ww(n);for(var u=0;u<r.length;u++)Kz.call(n,r[u])&&(i[r[u]]=n[r[u]])}}return i};const Xz=$s(Jz);var wr={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},ee={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(ee).map(function(t){return ee[t]});var be={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},rc={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Ma={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},ej=Object.keys(rc).reduce(function(t,e){return t[rc[e]]=e,t},{}),tj=[ee.NOSCRIPT,ee.SCRIPT,ee.STYLE],mn="data-react-helmet",nj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ij=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},rj=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Lt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},sj=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Vw=function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},oj=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},yp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},aj=function(e){var n=Rs(e,ee.TITLE),i=Rs(e,Ma.TITLE_TEMPLATE);if(i&&n)return i.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var r=Rs(e,Ma.DEFAULT_TITLE);return n||r||void 0},lj=function(e){return Rs(e,Ma.ON_CHANGE_CLIENT_STATE)||function(){}},Fd=function(e,n){return n.filter(function(i){return typeof i[e]<"u"}).map(function(i){return i[e]}).reduce(function(i,r){return Lt({},i,r)},{})},uj=function(e,n){return n.filter(function(i){return typeof i[ee.BASE]<"u"}).map(function(i){return i[ee.BASE]}).reverse().reduce(function(i,r){if(!i.length)for(var o=Object.keys(r),l=0;l<o.length;l++){var u=o[l],h=u.toLowerCase();if(e.indexOf(h)!==-1&&r[h])return i.concat(r)}return i},[])},Ao=function(e,n,i){var r={};return i.filter(function(o){return Array.isArray(o[e])?!0:(typeof o[e]<"u"&&fj("Helmet: "+e+' should be of type "Array". Instead found type "'+nj(o[e])+'"'),!1)}).map(function(o){return o[e]}).reverse().reduce(function(o,l){var u={};l.filter(function(v){for(var E=void 0,w=Object.keys(v),C=0;C<w.length;C++){var R=w[C],T=R.toLowerCase();n.indexOf(T)!==-1&&!(E===be.REL&&v[E].toLowerCase()==="canonical")&&!(T===be.REL&&v[T].toLowerCase()==="stylesheet")&&(E=T),n.indexOf(R)!==-1&&(R===be.INNER_HTML||R===be.CSS_TEXT||R===be.ITEM_PROP)&&(E=R)}if(!E||!v[E])return!1;var y=v[E].toLowerCase();return r[E]||(r[E]={}),u[E]||(u[E]={}),r[E][y]?!1:(u[E][y]=!0,!0)}).reverse().forEach(function(v){return o.push(v)});for(var h=Object.keys(u),f=0;f<h.length;f++){var m=h[f],_=Xz({},r[m],u[m]);r[m]=_}return o},[]).reverse()},Rs=function(e,n){for(var i=e.length-1;i>=0;i--){var r=e[i];if(r.hasOwnProperty(n))return r[n]}return null},cj=function(e){return{baseTag:uj([be.HREF,be.TARGET],e),bodyAttributes:Fd(wr.BODY,e),defer:Rs(e,Ma.DEFER),encode:Rs(e,Ma.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Fd(wr.HTML,e),linkTags:Ao(ee.LINK,[be.REL,be.HREF],e),metaTags:Ao(ee.META,[be.NAME,be.CHARSET,be.HTTPEQUIV,be.PROPERTY,be.ITEM_PROP],e),noscriptTags:Ao(ee.NOSCRIPT,[be.INNER_HTML],e),onChangeClientState:lj(e),scriptTags:Ao(ee.SCRIPT,[be.SRC,be.INNER_HTML],e),styleTags:Ao(ee.STYLE,[be.CSS_TEXT],e),title:aj(e),titleAttributes:Fd(wr.TITLE,e)}},wp=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){wp(e)},0)}}(),$w=function(e){return clearTimeout(e)},hj=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||wp:global.requestAnimationFrame||wp,dj=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||$w:global.cancelAnimationFrame||$w,fj=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},No=null,pj=function(e){No&&dj(No),e.defer?No=hj(function(){Zw(e,function(){No=null})}):(Zw(e),No=null)},Zw=function(e,n){var i=e.baseTag,r=e.bodyAttributes,o=e.htmlAttributes,l=e.linkTags,u=e.metaTags,h=e.noscriptTags,f=e.onChangeClientState,m=e.scriptTags,_=e.styleTags,v=e.title,E=e.titleAttributes;Ep(ee.BODY,r),Ep(ee.HTML,o),mj(v,E);var w={baseTag:ns(ee.BASE,i),linkTags:ns(ee.LINK,l),metaTags:ns(ee.META,u),noscriptTags:ns(ee.NOSCRIPT,h),scriptTags:ns(ee.SCRIPT,m),styleTags:ns(ee.STYLE,_)},C={},R={};Object.keys(w).forEach(function(T){var y=w[T],I=y.newTags,b=y.oldTags;I.length&&(C[T]=I),b.length&&(R[T]=w[T].oldTags)}),n&&n(),f(e,C,R)},$I=function(e){return Array.isArray(e)?e.join(""):e},mj=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=$I(e)),Ep(ee.TITLE,n)},Ep=function(e,n){var i=document.getElementsByTagName(e)[0];if(i){for(var r=i.getAttribute(mn),o=r?r.split(","):[],l=[].concat(o),u=Object.keys(n),h=0;h<u.length;h++){var f=u[h],m=n[f]||"";i.getAttribute(f)!==m&&i.setAttribute(f,m),o.indexOf(f)===-1&&o.push(f);var _=l.indexOf(f);_!==-1&&l.splice(_,1)}for(var v=l.length-1;v>=0;v--)i.removeAttribute(l[v]);o.length===l.length?i.removeAttribute(mn):i.getAttribute(mn)!==u.join(",")&&i.setAttribute(mn,u.join(","))}},ns=function(e,n){var i=document.head||document.querySelector(ee.HEAD),r=i.querySelectorAll(e+"["+mn+"]"),o=Array.prototype.slice.call(r),l=[],u=void 0;return n&&n.length&&n.forEach(function(h){var f=document.createElement(e);for(var m in h)if(h.hasOwnProperty(m))if(m===be.INNER_HTML)f.innerHTML=h.innerHTML;else if(m===be.CSS_TEXT)f.styleSheet?f.styleSheet.cssText=h.cssText:f.appendChild(document.createTextNode(h.cssText));else{var _=typeof h[m]>"u"?"":h[m];f.setAttribute(m,_)}f.setAttribute(mn,"true"),o.some(function(v,E){return u=E,f.isEqualNode(v)})?o.splice(u,1):l.push(f)}),o.forEach(function(h){return h.parentNode.removeChild(h)}),l.forEach(function(h){return i.appendChild(h)}),{oldTags:o,newTags:l}},ZI=function(e){return Object.keys(e).reduce(function(n,i){var r=typeof e[i]<"u"?i+'="'+e[i]+'"':""+i;return n?n+" "+r:r},"")},_j=function(e,n,i,r){var o=ZI(i),l=$I(n);return o?"<"+e+" "+mn+'="true" '+o+">"+yp(l,r)+"</"+e+">":"<"+e+" "+mn+'="true">'+yp(l,r)+"</"+e+">"},gj=function(e,n,i){return n.reduce(function(r,o){var l=Object.keys(o).filter(function(f){return!(f===be.INNER_HTML||f===be.CSS_TEXT)}).reduce(function(f,m){var _=typeof o[m]>"u"?m:m+'="'+yp(o[m],i)+'"';return f?f+" "+_:_},""),u=o.innerHTML||o.cssText||"",h=tj.indexOf(e)===-1;return r+"<"+e+" "+mn+'="true" '+l+(h?"/>":">"+u+"</"+e+">")},"")},qI=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(i,r){return i[rc[r]||r]=e[r],i},n)},vj=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(i,r){return i[ej[r]||r]=e[r],i},n)},yj=function(e,n,i){var r,o=(r={key:n},r[mn]=!0,r),l=qI(i,o);return[Jn.createElement(ee.TITLE,l,n)]},wj=function(e,n){return n.map(function(i,r){var o,l=(o={key:r},o[mn]=!0,o);return Object.keys(i).forEach(function(u){var h=rc[u]||u;if(h===be.INNER_HTML||h===be.CSS_TEXT){var f=i.innerHTML||i.cssText;l.dangerouslySetInnerHTML={__html:f}}else l[h]=i[u]}),Jn.createElement(e,l)})},Vn=function(e,n,i){switch(e){case ee.TITLE:return{toComponent:function(){return yj(e,n.title,n.titleAttributes)},toString:function(){return _j(e,n.title,n.titleAttributes,i)}};case wr.BODY:case wr.HTML:return{toComponent:function(){return qI(n)},toString:function(){return ZI(n)}};default:return{toComponent:function(){return wj(e,n)},toString:function(){return gj(e,n,i)}}}},GI=function(e){var n=e.baseTag,i=e.bodyAttributes,r=e.encode,o=e.htmlAttributes,l=e.linkTags,u=e.metaTags,h=e.noscriptTags,f=e.scriptTags,m=e.styleTags,_=e.title,v=_===void 0?"":_,E=e.titleAttributes;return{base:Vn(ee.BASE,n,r),bodyAttributes:Vn(wr.BODY,i,r),htmlAttributes:Vn(wr.HTML,o,r),link:Vn(ee.LINK,l,r),meta:Vn(ee.META,u,r),noscript:Vn(ee.NOSCRIPT,h,r),script:Vn(ee.SCRIPT,f,r),style:Vn(ee.STYLE,m,r),title:Vn(ee.TITLE,{title:v,titleAttributes:E},r)}},Ej=function(e){var n,i;return i=n=function(r){sj(o,r);function o(){return ij(this,o),oj(this,r.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(u){return!qz(this.props,u)},o.prototype.mapNestedChildrenToProps=function(u,h){if(!h)return null;switch(u.type){case ee.SCRIPT:case ee.NOSCRIPT:return{innerHTML:h};case ee.STYLE:return{cssText:h}}throw new Error("<"+u.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(u){var h,f=u.child,m=u.arrayTypeChildren,_=u.newChildProps,v=u.nestedChildren;return Lt({},m,(h={},h[f.type]=[].concat(m[f.type]||[],[Lt({},_,this.mapNestedChildrenToProps(f,v))]),h))},o.prototype.mapObjectTypeChildren=function(u){var h,f,m=u.child,_=u.newProps,v=u.newChildProps,E=u.nestedChildren;switch(m.type){case ee.TITLE:return Lt({},_,(h={},h[m.type]=E,h.titleAttributes=Lt({},v),h));case ee.BODY:return Lt({},_,{bodyAttributes:Lt({},v)});case ee.HTML:return Lt({},_,{htmlAttributes:Lt({},v)})}return Lt({},_,(f={},f[m.type]=Lt({},v),f))},o.prototype.mapArrayTypeChildrenToProps=function(u,h){var f=Lt({},h);return Object.keys(u).forEach(function(m){var _;f=Lt({},f,(_={},_[m]=u[m],_))}),f},o.prototype.warnOnInvalidChildren=function(u,h){return!0},o.prototype.mapChildrenToProps=function(u,h){var f=this,m={};return Jn.Children.forEach(u,function(_){if(!(!_||!_.props)){var v=_.props,E=v.children,w=Vw(v,["children"]),C=vj(w);switch(f.warnOnInvalidChildren(_,E),_.type){case ee.LINK:case ee.META:case ee.NOSCRIPT:case ee.SCRIPT:case ee.STYLE:m=f.flattenArrayTypeChildren({child:_,arrayTypeChildren:m,newChildProps:C,nestedChildren:E});break;default:h=f.mapObjectTypeChildren({child:_,newProps:h,newChildProps:C,nestedChildren:E});break}}}),h=this.mapArrayTypeChildrenToProps(m,h),h},o.prototype.render=function(){var u=this.props,h=u.children,f=Vw(u,["children"]),m=Lt({},f);return h&&(m=this.mapChildrenToProps(h,m)),Jn.createElement(e,m)},rj(o,null,[{key:"canUseDOM",set:function(u){e.canUseDOM=u}}]),o}(Jn.Component),n.propTypes={base:ke.object,bodyAttributes:ke.object,children:ke.oneOfType([ke.arrayOf(ke.node),ke.node]),defaultTitle:ke.string,defer:ke.bool,encodeSpecialCharacters:ke.bool,htmlAttributes:ke.object,link:ke.arrayOf(ke.object),meta:ke.arrayOf(ke.object),noscript:ke.arrayOf(ke.object),onChangeClientState:ke.func,script:ke.arrayOf(ke.object),style:ke.arrayOf(ke.object),title:ke.string,titleAttributes:ke.object,titleTemplate:ke.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var r=e.rewind();return r||(r=GI({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),r},i},Tj=function(){return null},Sj=jz(cj,pj,GI)(Tj),qw=Ej(Sj);qw.renderStatic=qw.rewind;function Cj(){const t=[],[e,n]=O.useState({latitude:43.747474670410156,longitude:-79.49417877197266}),[i,r]=O.useState(0),[o,l]=O.useState(!1),[u,h]=O.useState(),[f,m]=O.useState([]),[_,v]=O.useState(null),E=dp(_p,"images/"),w=zC(NI,"spots/"),[C,R]=O.useState(0),[T,y]=O.useState(!1);let I=()=>{window.innerWidth<700?y(!0):y(!1)};O.useEffect(()=>{window.addEventListener("resize",I),I()},[]);function b($){C<$-1?R(C+1):R(0)}function U($){C>0?R(C-1):R($-1)}function z(){document.getElementById("mapcontainuh").style.display="block"}O.useEffect(()=>{TI(Dr,$=>{v($||null)}),pF(w,$=>{$.forEach(Ee=>{t.push(Ee.val())}),h(t)}),B2(E).then($=>{$.items.forEach(Ee=>{eI(Ee).then(He=>{m(at=>[...at,He])})})})},[]);function H($){l(!0),r($.currentTarget.id),n({latitude:u[$.currentTarget.id].lat,longitude:u[$.currentTarget.id].long})}function W($){l(!0),r($),n({latitude:u[$].lat,longitude:u[$].long})}function he(){l(!1)}const X=new ht.Icon({iconUrl:"https://cdn2.iconfinder.com/data/icons/activity-5/50/1F6F9-skateboard-512.png",iconSize:[64,64]});function G(){const $=Iz();return o?$.flyTo([e.latitude,e.longitude],15):$.flyTo([e.latitude,e.longitude],10),null}return P.jsxs(O.Fragment,{children:[P.jsx(ih,{}),P.jsxs("div",{className:"bigContainer",children:[P.jsxs(xz,{id:"mapcontainuh",center:[e.latitude,e.longitude],zoom:12,scrollWheelZoom:!1,children:[P.jsx(bz,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),P.jsx(G,{}),u?P.jsx("div",{children:u.map(($,Ee)=>P.jsx(P.Fragment,{children:P.jsx(kz,{id:Ee,position:[$.lat,$.long],icon:X,eventHandlers:{click:He=>{W(He.target.options.id)}}})}))}):P.jsx("div",{})]}),o?P.jsxs("div",{className:"spotWindow",children:[T?P.jsx(P.Fragment,{}):P.jsx(P.Fragment,{}),u?P.jsxs("div",{className:"spotInfoContainer",children:[P.jsx("br",{}),P.jsxs("div",{className:"imageContainer",children:[P.jsx("img",{className:"spotImage",src:u[i].uploadedImgURLs[C]}),P.jsx("br",{}),P.jsx("div",{className:"button-container left",children:P.jsx("button",{className:"button",onClick:()=>U(u[i].uploadedImgURLs.length),children:"<"})}),P.jsx("div",{className:"button-container right",children:P.jsx("button",{className:"button",onClick:()=>b(u[i].uploadedImgURLs.length),children:">"})})]}),P.jsx("br",{}),P.jsxs("strong",{id:"spotTitleText",children:["Spot Name: ",u[i].spotName]}),P.jsxs("p",{id:"spotAddress",children:["Address: ",u[i].spotAddress]}),P.jsx("div",{className:"spotDescription",children:P.jsx("p",{id:"spotDescriptionText",children:u[i].spotDescription})}),P.jsx("br",{}),P.jsx("button",{id:"backButton",onClick:()=>{he(),z()},children:" Back"})]}):P.jsx("div",{})]}):P.jsx("div",{className:"spotContainer",children:u?P.jsxs("div",{className:"spotContainer",children:[P.jsx("h2",{id:"text1",children:"View Skate Spots!"}),u.map(($,Ee)=>P.jsx("a",{href:"#",children:P.jsxs("div",{id:Ee,className:"element-container",onClick:H,children:[P.jsx("img",{src:$.uploadedImgURLs[0],className:"image"}),P.jsxs("div",{className:"overlay",children:[P.jsx("div",{className:"element-text",children:u[Ee].spotName}),P.jsx("div",{className:"element-textAddress",children:u[Ee].spotAddress})]})]})}))]}):P.jsx("p",{className:"errorText",children:"Loading spots...."})})]})]})}const Ij=()=>P.jsx("div",{});function dr(){return dr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},dr.apply(this,arguments)}function Pj(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,sc(t,e)}function sc(t,e){return sc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sc(t,e)}function xj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tp(t,e,n){return Tp=xj()?Reflect.construct.bind():function(i,r,o){var l=[null];l.push.apply(l,r);var u=new(Function.bind.apply(i,l));return o&&sc(u,o.prototype),u},Tp.apply(null,arguments)}function ni(t,e,n,i){e===void 0&&(e=""),i===void 0&&(i={});var r=document.createElement(t);return e&&(r.className=e),Object.keys(i).forEach(function(o){if(typeof i[o]=="function"){var l=o.indexOf("on")===0?o.substr(2).toLowerCase():o;r.addEventListener(l,i[o])}else o==="html"?r.innerHTML=i[o]:o==="text"?r.innerText=i[o]:r.setAttribute(o,i[o])}),n&&n.appendChild(r),r}function Oo(t){t.preventDefault(),t.stopPropagation()}var ou=function(){return[].slice.call(arguments).filter(Boolean).join(" ").trim()};function fr(t,e){t&&t.classList&&(Array.isArray(e)?e:[e]).forEach(function(n){t.classList.contains(n)||t.classList.add(n)})}function Ln(t,e){t&&t.classList&&(Array.isArray(e)?e:[e]).forEach(function(n){t.classList.contains(n)&&t.classList.remove(n)})}var oc,ac=13,Sp=40,KI=38,kj=[ac,27,Sp,KI,37,39],bj=function(){function t(n){var i=this,r=n.handleSubmit,o=n.searchLabel,l=n.classNames,u=l===void 0?{}:l;this.container=void 0,this.form=void 0,this.input=void 0,this.handleSubmit=void 0,this.hasError=!1,this.container=ni("div",ou("geosearch",u.container)),this.form=ni("form",["",u.form].join(" "),this.container,{autocomplete:"none",onClick:Oo,onDblClick:Oo,touchStart:Oo,touchEnd:Oo}),this.input=ni("input",["glass",u.input].join(" "),this.form,{type:"text",placeholder:o||"search",onInput:this.onInput,onKeyUp:function(h){return i.onKeyUp(h)},onKeyPress:function(h){return i.onKeyPress(h)},onFocus:this.onFocus,onBlur:this.onBlur,onClick:function(){i.input.focus(),i.input.dispatchEvent(new Event("focus"))}}),this.handleSubmit=r}var e=t.prototype;return e.onFocus=function(){fr(this.form,"active")},e.onBlur=function(){Ln(this.form,"active")},e.onSubmit=function(n){try{var i=this;return Oo(n),Ln(r=i.container,"error"),fr(r,"pending"),Promise.resolve(i.handleSubmit({query:i.input.value})).then(function(){Ln(i.container,"pending")})}catch(o){return Promise.reject(o)}var r},e.onInput=function(){this.hasError&&(Ln(this.container,"error"),this.hasError=!1)},e.onKeyUp=function(n){n.keyCode===27&&(Ln(this.container,["pending","active"]),this.input.value="",document.body.focus(),document.body.blur())},e.onKeyPress=function(n){n.keyCode===ac&&this.onSubmit(n)},e.setQuery=function(n){this.input.value=n},t}(),Rj=function(){function t(n){var i=this,r=n.handleClick,o=n.classNames,l=o===void 0?{}:o,u=n.notFoundMessage;this.handleClick=void 0,this.selected=-1,this.results=[],this.container=void 0,this.resultItem=void 0,this.notFoundMessage=void 0,this.onClick=function(h){if(typeof i.handleClick=="function"){var f=h.target;if(f&&i.container.contains(f)&&f.hasAttribute("data-key")){var m=Number(f.getAttribute("data-key"));i.handleClick({result:i.results[m]})}}},this.handleClick=r,this.notFoundMessage=u?ni("div",ou(l.notfound),void 0,{html:u}):void 0,this.container=ni("div",ou("results",l.resultlist)),this.container.addEventListener("click",this.onClick,!0),this.resultItem=ni("div",ou(l.item))}var e=t.prototype;return e.render=function(n,i){var r=this;n===void 0&&(n=[]),this.clear(),n.forEach(function(o,l){var u=r.resultItem.cloneNode(!0);u.setAttribute("data-key",""+l),u.innerHTML=i({result:o}),r.container.appendChild(u)}),n.length>0?(fr(this.container.parentElement,"open"),fr(this.container,"active")):this.notFoundMessage&&(this.container.appendChild(this.notFoundMessage),fr(this.container.parentElement,"open")),this.results=n},e.select=function(n){return Array.from(this.container.children).forEach(function(i,r){return r===n?fr(i,"active"):Ln(i,"active")}),this.selected=n,this.results[n]},e.count=function(){return this.results?this.results.length:0},e.clear=function(){for(this.selected=-1;this.container.lastChild;)this.container.removeChild(this.container.lastChild);Ln(this.container.parentElement,"open"),Ln(this.container,"active")},t}(),Ud={position:"topleft",style:"button",showMarker:!0,showPopup:!1,popupFormat:function(t){return""+t.result.label},resultFormat:function(t){return""+t.result.label},marker:{icon:O_&&ht.Icon?new ht.Icon.Default:void 0,draggable:!1},maxMarkers:1,maxSuggestions:5,retainZoomLevel:!1,animateZoom:!0,searchLabel:"Enter address",clearSearchLabel:"Clear search",notFoundMessage:"",messageHideDelay:3e3,zoomLevel:18,classNames:{container:"leaflet-bar leaflet-control leaflet-control-geosearch",button:"leaflet-bar-part leaflet-bar-part-single",resetButton:"reset",msgbox:"leaflet-bar message",form:"",input:"",resultlist:"",item:"",notfound:"leaflet-bar-notfound"},autoComplete:!0,autoCompleteDelay:250,autoClose:!1,keepResult:!1,updateMap:!0},YI="Leaflet must be loaded before instantiating the GeoSearch control",Lj={options:dr({},Ud),classNames:dr({},Ud.classNames),initialize:function(t){var e,n,i,r,o=this;if(!O_)throw new Error(YI);if(!t.provider)throw new Error("Provider is missing from options");this.options=dr({},Ud,t),this.classNames=dr({},this.classNames,t.classNames),this.markers=new ht.FeatureGroup,this.classNames.container+=" leaflet-geosearch-"+this.options.style,this.searchElement=new bj({searchLabel:this.options.searchLabel,classNames:{container:this.classNames.container,form:this.classNames.form,input:this.classNames.input},handleSubmit:function(l){return o.onSubmit(l)}}),this.button=ni("a",this.classNames.button,this.searchElement.container,{title:this.options.searchLabel,href:"#",onClick:function(l){return o.onClick(l)}}),ht.DomEvent.disableClickPropagation(this.button),this.resetButton=ni("button",this.classNames.resetButton,this.searchElement.form,{text:"×","aria-label":this.options.clearSearchLabel,onClick:function(){o.searchElement.input.value===""?o.close():o.clearResults(null,!0)}}),ht.DomEvent.disableClickPropagation(this.resetButton),this.options.autoComplete&&(this.resultList=new Rj({handleClick:function(l){var u=l.result;o.searchElement.input.value=u.label,o.onSubmit({query:u.label,data:u})},classNames:{resultlist:this.classNames.resultlist,item:this.classNames.item,notfound:this.classNames.notfound},notFoundMessage:this.options.notFoundMessage}),this.searchElement.form.appendChild(this.resultList.container),this.searchElement.input.addEventListener("keyup",(e=function(l){return o.autoSearch(l)},(n=this.options.autoCompleteDelay)===void 0&&(n=250),i===void 0&&(i=!1),function(){var l=[].slice.call(arguments);r&&clearTimeout(r),r=setTimeout(function(){r=null,i||e.apply(void 0,l)},n),i&&!r&&e.apply(void 0,l)}),!0),this.searchElement.input.addEventListener("keydown",function(l){return o.selectResult(l)},!0),this.searchElement.input.addEventListener("keydown",function(l){return o.clearResults(l,!0)},!0)),this.searchElement.form.addEventListener("click",function(l){l.preventDefault()},!1)},onAdd:function(t){var e=this.options,n=e.showMarker,i=e.style;if(this.map=t,n&&this.markers.addTo(t),i==="bar"){var r=t.getContainer().querySelector(".leaflet-control-container");this.container=ni("div","leaflet-control-geosearch leaflet-geosearch-bar"),this.container.appendChild(this.searchElement.form),r.appendChild(this.container)}return ht.DomEvent.disableClickPropagation(this.searchElement.form),this.searchElement.container},onRemove:function(){var t;return(t=this.container)==null||t.remove(),this},open:function(){var t=this.searchElement,e=t.input;fr(t.container,"active"),e.focus()},close:function(){Ln(this.searchElement.container,"active"),this.clearResults()},onClick:function(t){t.preventDefault(),t.stopPropagation(),this.searchElement.container.classList.contains("active")?this.close():this.open()},selectResult:function(t){if([ac,Sp,KI].indexOf(t.keyCode)!==-1)if(t.preventDefault(),t.keyCode!==ac){var e=this.resultList.count()-1;if(!(e<0)){var n=this.resultList.selected,i=t.keyCode===Sp?n+1:n-1,r=this.resultList.select(i<0?e:i>e?0:i);this.searchElement.input.value=r.label}}else{var o=this.resultList.select(this.resultList.selected);this.onSubmit({query:this.searchElement.input.value,data:o})}},clearResults:function(t,e){if(e===void 0&&(e=!1),!t||t.keyCode===27){var n=this.options,i=n.autoComplete;!e&&n.keepResult||(this.searchElement.input.value="",this.markers.clearLayers()),i&&this.resultList.clear()}},autoSearch:function(t){try{var e=this;if(kj.indexOf(t.keyCode)>-1)return Promise.resolve();var n=t.target.value,i=e.options.provider,r=function(){if(n.length)return Promise.resolve(i.search({query:n})).then(function(o){o=o.slice(0,e.options.maxSuggestions),e.resultList.render(o,e.options.resultFormat)});e.resultList.clear()}();return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(o){return Promise.reject(o)}},onSubmit:function(t){try{var e=this;return e.resultList.clear(),Promise.resolve(e.options.provider.search(t)).then(function(n){n&&n.length>0&&e.showResult(n[0],t)})}catch(n){return Promise.reject(n)}},showResult:function(t,e){var n=this.options,i=n.autoClose,r=n.updateMap,o=this.markers.getLayers();o.length>=this.options.maxMarkers&&this.markers.removeLayer(o[0]);var l=this.addMarker(t,e);r&&this.centerMap(t),this.map.fireEvent("geosearch/showlocation",{location:t,marker:l}),i&&this.closeResults()},closeResults:function(){var t=this.searchElement.container;t.classList.contains("active")&&Ln(t,"active"),this.clearResults()},addMarker:function(t,e){var n=this,i=this.options,r=i.marker,o=i.showPopup,l=i.popupFormat,u=new ht.Marker([t.y,t.x],r),h=t.label;return typeof l=="function"&&(h=l({query:e,result:t})),u.bindPopup(h),this.markers.addLayer(u),o&&u.openPopup(),r.draggable&&u.on("dragend",function(f){n.map.fireEvent("geosearch/marker/dragend",{location:u.getLatLng(),event:f})}),u},centerMap:function(t){var e=this.options,n=e.retainZoomLevel,i=e.animateZoom,r=t.bounds?new ht.LatLngBounds(t.bounds):new ht.LatLng(t.y,t.x).toBounds(10),o=r.isValid()?r:this.markers.getBounds();!n&&r.isValid()&&!t.bounds||n||!r.isValid()?this.map.setView(o.getCenter(),this.getZoom(),{animate:i}):this.map.fitBounds(o,{animate:i})},getZoom:function(){var t=this.options,e=t.zoomLevel;return t.retainZoomLevel?this.map.getZoom():e}};function Aj(){if(!O_)throw new Error(YI);var t=ht.Control.extend(Lj);return Tp(t,[].slice.call(arguments))}(function(t){t[t.SEARCH=0]="SEARCH",t[t.REVERSE=1]="REVERSE"})(oc||(oc={}));var Gw,Nj=function(){function t(n){n===void 0&&(n={}),this.options=void 0,this.options=n}var e=t.prototype;return e.getParamString=function(n){n===void 0&&(n={});var i=dr({},this.options.params,n);return Object.keys(i).map(function(r){return encodeURIComponent(r)+"="+encodeURIComponent(i[r])}).join("&")},e.getUrl=function(n,i){return n+"?"+this.getParamString(i)},e.search=function(n){try{var i=this,r=i.endpoint({query:n.query,type:oc.SEARCH});return Promise.resolve(fetch(r)).then(function(o){return Promise.resolve(o.json()).then(function(l){return i.parse({data:l})})})}catch(o){return Promise.reject(o)}},t}();(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(Gw||(Gw={}));var Oj=function(t){function e(i){var r;i===void 0&&(i={}),(r=t.call(this,i)||this).searchUrl=void 0,r.reverseUrl=void 0;var o="https://nominatim.openstreetmap.org";return r.searchUrl=i.searchUrl||o+"/search",r.reverseUrl=i.reverseUrl||o+"/reverse",r}Pj(e,t);var n=e.prototype;return n.endpoint=function(i){var r=i.query,o=i.type,l=typeof r=="string"?{q:r}:r;return l.format="json",this.getUrl(o===oc.REVERSE?this.reverseUrl:this.searchUrl,l)},n.parse=function(i){return(Array.isArray(i.data)?i.data:[i.data]).map(function(r){return{x:Number(r.lon),y:Number(r.lat),label:r.display_name,bounds:[[parseFloat(r.boundingbox[0]),parseFloat(r.boundingbox[2])],[parseFloat(r.boundingbox[1]),parseFloat(r.boundingbox[3])]],raw:r}})},e}(Nj);let Bl;const Mj=new Uint8Array(16);function Dj(){if(!Bl&&(Bl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Bl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Bl(Mj)}const ut=[];for(let t=0;t<256;++t)ut.push((t+256).toString(16).slice(1));function Fj(t,e=0){return ut[t[e+0]]+ut[t[e+1]]+ut[t[e+2]]+ut[t[e+3]]+"-"+ut[t[e+4]]+ut[t[e+5]]+"-"+ut[t[e+6]]+ut[t[e+7]]+"-"+ut[t[e+8]]+ut[t[e+9]]+"-"+ut[t[e+10]]+ut[t[e+11]]+ut[t[e+12]]+ut[t[e+13]]+ut[t[e+14]]+ut[t[e+15]]}const Uj=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Kw={randomUUID:Uj};function Bj(t,e,n){if(Kw.randomUUID&&!e&&!t)return Kw.randomUUID();t=t||{};const i=t.random||(t.rng||Dj)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){n=n||0;for(let r=0;r<16;++r)e[n+r]=i[r];return e}return Fj(i)}function zj(){const[t,e]=O.useState(1),n=kc(),[i,r]=O.useState(),[o,l]=O.useState(),[u,h]=O.useState(),[f,m]=O.useState(),[_,v]=O.useState([]),[E,w]=O.useState(),[C,R]=O.useState(!1),[T,y]=O.useState(!1);O.useState();const[I,b]=O.useState(null),U=zC(NI,"spots/"+i);O.useEffect(()=>{Dr.onAuthStateChanged(G=>{G&&G.emailVerified?(R(!0),y(!0),X()):G&&!G.emailVerified?(R(!0),y(!1)):(R(!1),y(!1))})},[]);const z=()=>{e(t+1),document.getElementById("map2").style.height="0px"},H=()=>{e(t-1),document.getElementById("map2").style.height="50vh"},W=G=>{G.preventDefault();var $=["test"];function Ee(){const He=[];for(let at=0;at<I.length;at++){const Me=dp(_p,`images/${I[at].name+Bj()}`),Xe=U2(Me,I[at]).then(A=>eI(dp(_p,A.metadata.fullPath))).then(A=>{$[at]=A});He.push(Xe)}Promise.all(He).then(()=>{dF(U,{uploadedImgURLs:$})}).catch(at=>{console.error("Error uploading images:",at)})}hF(U,{spotName:i,spotDescription:E,spotDescription:E,lat:o,long:u,spotAddress:f,uploadedImgURLs:[""]}).then(()=>{console.log("Spot added."),n("/")}),Ee()};function he(G){let $=[];for(let Ee=0;Ee<G.length;Ee++)$[Ee]=URL.createObjectURL(G[Ee]);v($)}function X(){const G=L.map("map2").setView([43.747474670410156,-79.49417877197266],10);L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"© OpenStreetMap"}).addTo(G);const $=new ht.Icon({iconUrl:"https://cdn2.iconfinder.com/data/icons/activity-5/50/1F6F9-skateboard-512.png",iconSize:[64,64]}),Ee=new Aj({provider:new Oj,style:"bar",showMarker:!1,marker:{icon:$,draggable:!1}});G.addControl(Ee);var He={clickable:!0,icon:$},at=L.marker(new L.LatLng(0,0),He);at.addTo(G),G.on("click",function(Xe){var A=Xe.latlng,Z=A.lat,D=A.lng,J=new L.LatLng(Z,D);at.setLatLng(J),l(Z),h(D),Me(Z,D)});function Me(Xe,A){nL.get("https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat="+Xe+"&lon="+A).then(Z=>{console.log(Z.data);let D=Z.data.address;m((D.house_number?D.house_number+" ":"")+D.road+", "+D.city+", "+D.state+" "+D.postcode+", "+D.country)}).catch(Z=>{console.log(Z)})}G.on("geosearch/showlocation",function(Xe){var A=Xe.location.y,Z=Xe.location.x;l(A),h(Z);var D=new L.LatLng(A,Z);at.setLatLng(D),Me(A,Z)})}return P.jsxs(O.Fragment,{children:[P.jsx(ih,{}),C==!0?P.jsx("div",{children:T==!0?P.jsx("div",{}):P.jsx("p",{className:"verText",children:"Please verify your email!"})}):P.jsx("p",{className:"verText",children:"Please login to submit!"}),P.jsxs("div",{className:"map-container",children:[T==!0&&t==1?P.jsxs("div",{children:[P.jsx("h2",{id:"topText",children:"Add Your Own Skatespot!"}),P.jsx("p",{id:"text2",children:"Enter an address using the search bar, then drop a pin at the approximate location."})]}):P.jsx("div",{}),P.jsx("div",{id:"map2"}),T==!0&&t==1?P.jsxs("div",{children:[P.jsx("br",{}),P.jsxs("div",{children:[o!=null?P.jsx("div",{children:P.jsxs("p",{className:"fade-in selectText",children:["Your coordinates are ",o,", ",u]})}):P.jsx("div",{}),f!=null?P.jsxs("p",{className:"fade-in selectText",children:["The address of this location is ",f]}):P.jsx("div",{}),f!=null&&o!=null?P.jsx("div",{className:"fade-in",children:P.jsx("button",{id:"logButt",onClick:z,className:"buttons",children:"Next!"})}):P.jsx("div",{})]})]}):P.jsx("div",{})]}),t==2?P.jsx("div",{className:"bigahcontainer",children:P.jsx("div",{children:P.jsxs("div",{className:"container",children:[P.jsx("br",{}),P.jsxs("form",{onSubmit:W,children:[P.jsxs("div",{children:[P.jsx("label",{htmlFor:"name",children:P.jsx("strong",{children:"Name"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"text",placeholder:"Enter Spot Name",autoComplete:"off",id:"name",accept:".png, .jpg, .jpeg, .webp, .mp4",onChange:G=>r(G.target.value)})]}),P.jsx("br",{}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"files",children:P.jsx("strong",{children:"Upload Images"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"file",placeholder:"Upload Images",autoComplete:"off",id:"image",multiple:!0,onChange:G=>{b(G.target.files),he(G.target.files)}}),_.length>0?P.jsx("div",{className:"filePreviewContainer",children:_.map((G,$)=>P.jsx("img",{id:"fileImage",src:_[$]},$))}):P.jsx("div",{})]}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"spotDescription",children:P.jsx("strong",{children:"Description"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"text",placeholder:"Enter a Description",autoComplete:"off",id:"spotDescription",onChange:G=>w(G.target.value)})]}),P.jsx("br",{}),P.jsx("button",{id:"logButt",type:"submit",className:"buttons",children:"Submit!"}),P.jsx("br",{}),P.jsx("button",{id:"backButt",onClick:H,className:"buttons",children:"Back"})]})]})})}):P.jsx("div",{})]})}function jj(){return P.jsx(Ub,{children:P.jsxs(Db,{children:[P.jsx(is,{exact:!0,path:"/",element:P.jsx(Cj,{})}),P.jsx(is,{exact:!0,path:"/register",element:P.jsx(hz,{})}),P.jsx(is,{exact:!0,path:"/login",element:P.jsx(dz,{})}),P.jsx(is,{exact:!0,path:"/test",element:P.jsx(Ij,{})}),P.jsx(is,{exact:!0,path:"/submit",element:P.jsx(zj,{})})]})})}Bd.createRoot(document.getElementById("root")).render(P.jsx(jj,{}));
