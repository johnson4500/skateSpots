function u0(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var $x=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Vx(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var c0={exports:{}},mc={},h0={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ua=Symbol.for("react.element"),Zx=Symbol.for("react.portal"),qx=Symbol.for("react.fragment"),Gx=Symbol.for("react.strict_mode"),Kx=Symbol.for("react.profiler"),Yx=Symbol.for("react.provider"),Qx=Symbol.for("react.context"),Jx=Symbol.for("react.forward_ref"),Xx=Symbol.for("react.suspense"),ek=Symbol.for("react.memo"),tk=Symbol.for("react.lazy"),tv=Symbol.iterator;function nk(t){return t===null||typeof t!="object"?null:(t=tv&&t[tv]||t["@@iterator"],typeof t=="function"?t:null)}var d0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f0=Object.assign,p0={};function Vs(t,e,n){this.props=t,this.context=e,this.refs=p0,this.updater=n||d0}Vs.prototype.isReactComponent={};Vs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function m0(){}m0.prototype=Vs.prototype;function bp(t,e,n){this.props=t,this.context=e,this.refs=p0,this.updater=n||d0}var Rp=bp.prototype=new m0;Rp.constructor=bp;f0(Rp,Vs.prototype);Rp.isPureReactComponent=!0;var nv=Array.isArray,_0=Object.prototype.hasOwnProperty,Lp={current:null},g0={key:!0,ref:!0,__self:!0,__source:!0};function v0(t,e,n){var i,r={},o=null,l=null;if(e!=null)for(i in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)_0.call(e,i)&&!g0.hasOwnProperty(i)&&(r[i]=e[i]);var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){for(var h=Array(c),f=0;f<c;f++)h[f]=arguments[f+2];r.children=h}if(t&&t.defaultProps)for(i in c=t.defaultProps,c)r[i]===void 0&&(r[i]=c[i]);return{$$typeof:Ua,type:t,key:o,ref:l,props:r,_owner:Lp.current}}function ik(t,e){return{$$typeof:Ua,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Op(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ua}function rk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var iv=/\/+/g;function Hh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rk(""+t.key):e.toString(36)}function Vl(t,e,n,i,r){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Ua:case Zx:l=!0}}if(l)return l=t,r=r(l),t=i===""?"."+Hh(l,0):i,nv(r)?(n="",t!=null&&(n=t.replace(iv,"$&/")+"/"),Vl(r,e,n,"",function(f){return f})):r!=null&&(Op(r)&&(r=ik(r,n+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(iv,"$&/")+"/")+t)),e.push(r)),1;if(l=0,i=i===""?".":i+":",nv(t))for(var c=0;c<t.length;c++){o=t[c];var h=i+Hh(o,c);l+=Vl(o,e,n,h,r)}else if(h=nk(t),typeof h=="function")for(t=h.call(t),c=0;!(o=t.next()).done;)o=o.value,h=i+Hh(o,c++),l+=Vl(o,e,n,h,r);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function El(t,e,n){if(t==null)return t;var i=[],r=0;return Vl(t,i,"","",function(o){return e.call(n,o,r++)}),i}function sk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var It={current:null},Zl={transition:null},ok={ReactCurrentDispatcher:It,ReactCurrentBatchConfig:Zl,ReactCurrentOwner:Lp};de.Children={map:El,forEach:function(t,e,n){El(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return El(t,function(){e++}),e},toArray:function(t){return El(t,function(e){return e})||[]},only:function(t){if(!Op(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=Vs;de.Fragment=qx;de.Profiler=Kx;de.PureComponent=bp;de.StrictMode=Gx;de.Suspense=Xx;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ok;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=f0({},t.props),r=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=Lp.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(h in e)_0.call(e,h)&&!g0.hasOwnProperty(h)&&(i[h]=e[h]===void 0&&c!==void 0?c[h]:e[h])}var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){c=Array(h);for(var f=0;f<h;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:Ua,type:t.type,key:r,ref:o,props:i,_owner:l}};de.createContext=function(t){return t={$$typeof:Qx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Yx,_context:t},t.Consumer=t};de.createElement=v0;de.createFactory=function(t){var e=v0.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:Jx,render:t}};de.isValidElement=Op;de.lazy=function(t){return{$$typeof:tk,_payload:{_status:-1,_result:t},_init:sk}};de.memo=function(t,e){return{$$typeof:ek,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=Zl.transition;Zl.transition={};try{t()}finally{Zl.transition=e}};de.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};de.useCallback=function(t,e){return It.current.useCallback(t,e)};de.useContext=function(t){return It.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return It.current.useDeferredValue(t)};de.useEffect=function(t,e){return It.current.useEffect(t,e)};de.useId=function(){return It.current.useId()};de.useImperativeHandle=function(t,e,n){return It.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return It.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return It.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return It.current.useMemo(t,e)};de.useReducer=function(t,e,n){return It.current.useReducer(t,e,n)};de.useRef=function(t){return It.current.useRef(t)};de.useState=function(t){return It.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return It.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return It.current.useTransition()};de.version="18.2.0";h0.exports=de;var A=h0.exports;const hu=kp(A),ak=u0({__proto__:null,default:hu},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lk=A,uk=Symbol.for("react.element"),ck=Symbol.for("react.fragment"),hk=Object.prototype.hasOwnProperty,dk=lk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fk={key:!0,ref:!0,__self:!0,__source:!0};function y0(t,e,n){var i,r={},o=null,l=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(i in e)hk.call(e,i)&&!fk.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:uk,type:t,key:o,ref:l,props:r,_owner:dk.current}}mc.Fragment=ck;mc.jsx=y0;mc.jsxs=y0;c0.exports=mc;var P=c0.exports,Hd={},w0={exports:{}},$t={},E0={exports:{}},S0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,G){var F=k.length;k.push(G);e:for(;0<F;){var Z=F-1>>>1,se=k[Z];if(0<r(se,G))k[Z]=G,k[F]=se,F=Z;else break e}}function n(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var G=k[0],F=k.pop();if(F!==G){k[0]=F;e:for(var Z=0,se=k.length,Ce=se>>>1;Z<Ce;){var ge=2*(Z+1)-1,pe=k[ge],ne=ge+1,dt=k[ne];if(0>r(pe,F))ne<se&&0>r(dt,pe)?(k[Z]=dt,k[ne]=F,Z=ne):(k[Z]=pe,k[ge]=F,Z=ge);else if(ne<se&&0>r(dt,F))k[Z]=dt,k[ne]=F,Z=ne;else break e}}return G}function r(k,G){var F=k.sortIndex-G.sortIndex;return F!==0?F:k.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],f=[],m=1,_=null,v=3,E=!1,y=!1,T=!1,R=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(k){for(var G=n(f);G!==null;){if(G.callback===null)i(f);else if(G.startTime<=k)i(f),G.sortIndex=G.expirationTime,e(h,G);else break;G=n(f)}}function O(k){if(T=!1,I(k),!y)if(n(h)!==null)y=!0,Q(B);else{var G=n(f);G!==null&&N(O,G.startTime-k)}}function B(k,G){y=!1,T&&(T=!1,S($),$=-1),E=!0;var F=v;try{for(I(G),_=n(h);_!==null&&(!(_.expirationTime>G)||k&&!fe());){var Z=_.callback;if(typeof Z=="function"){_.callback=null,v=_.priorityLevel;var se=Z(_.expirationTime<=G);G=t.unstable_now(),typeof se=="function"?_.callback=se:_===n(h)&&i(h),I(G)}else i(h);_=n(h)}if(_!==null)var Ce=!0;else{var ge=n(f);ge!==null&&N(O,ge.startTime-G),Ce=!1}return Ce}finally{_=null,v=F,E=!1}}var W=!1,z=null,$=-1,ae=5,te=-1;function fe(){return!(t.unstable_now()-te<ae)}function Ie(){if(z!==null){var k=t.unstable_now();te=k;var G=!0;try{G=z(!0,k)}finally{G?Je():(W=!1,z=null)}}else W=!1}var Je;if(typeof w=="function")Je=function(){w(Ie)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,K=q.port2;q.port1.onmessage=Ie,Je=function(){K.postMessage(null)}}else Je=function(){R(Ie,0)};function Q(k){z=k,W||(W=!0,Je())}function N(k,G){$=R(function(){k(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){y||E||(y=!0,Q(B))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(k){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var F=v;v=G;try{return k()}finally{v=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,G){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var F=v;v=k;try{return G()}finally{v=F}},t.unstable_scheduleCallback=function(k,G,F){var Z=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Z+F:Z):F=Z,k){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=F+se,k={id:m++,callback:G,priorityLevel:k,startTime:F,expirationTime:se,sortIndex:-1},F>Z?(k.sortIndex=F,e(f,k),n(h)===null&&k===n(f)&&(T?(S($),$=-1):T=!0,N(O,F-Z))):(k.sortIndex=se,e(h,k),y||E||(y=!0,Q(B))),k},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function(k){var G=v;return function(){var F=v;v=G;try{return k.apply(this,arguments)}finally{v=F}}}})(S0);E0.exports=S0;var pk=E0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0=A,Ht=pk;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var T0=new Set,ra={};function zr(t,e){Os(t,e),Os(t+"Capture",e)}function Os(t,e){for(ra[t]=e,t=0;t<e.length;t++)T0.add(e[t])}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$d=Object.prototype.hasOwnProperty,mk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rv={},sv={};function _k(t){return $d.call(sv,t)?!0:$d.call(rv,t)?!1:mk.test(t)?sv[t]=!0:(rv[t]=!0,!1)}function gk(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vk(t,e,n,i){if(e===null||typeof e>"u"||gk(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pt(t,e,n,i,r,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ht[t]=new Pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ht[e]=new Pt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ht[t]=new Pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ht[t]=new Pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ht[t]=new Pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ht[t]=new Pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ht[t]=new Pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ht[t]=new Pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ht[t]=new Pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Np=/[\-:]([a-z])/g;function Ap(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Np,Ap);ht[e]=new Pt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Np,Ap);ht[e]=new Pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Np,Ap);ht[e]=new Pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ht[t]=new Pt(t,1,!1,t.toLowerCase(),null,!1,!1)});ht.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ht[t]=new Pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Mp(t,e,n,i){var r=ht.hasOwnProperty(e)?ht[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vk(e,n,r,i)&&(n=null),i||r===null?_k(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var li=C0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sl=Symbol.for("react.element"),ss=Symbol.for("react.portal"),os=Symbol.for("react.fragment"),Dp=Symbol.for("react.strict_mode"),Vd=Symbol.for("react.profiler"),I0=Symbol.for("react.provider"),P0=Symbol.for("react.context"),Fp=Symbol.for("react.forward_ref"),Zd=Symbol.for("react.suspense"),qd=Symbol.for("react.suspense_list"),Up=Symbol.for("react.memo"),yi=Symbol.for("react.lazy"),x0=Symbol.for("react.offscreen"),ov=Symbol.iterator;function yo(t){return t===null||typeof t!="object"?null:(t=ov&&t[ov]||t["@@iterator"],typeof t=="function"?t:null)}var De=Object.assign,$h;function Ao(t){if($h===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$h=e&&e[1]||""}return`
`+$h+t}var Vh=!1;function Zh(t,e){if(!t||Vh)return"";Vh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var i=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){i=f}t.call(e.prototype)}else{try{throw Error()}catch(f){i=f}t()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var r=f.stack.split(`
`),o=i.stack.split(`
`),l=r.length-1,c=o.length-1;1<=l&&0<=c&&r[l]!==o[c];)c--;for(;1<=l&&0<=c;l--,c--)if(r[l]!==o[c]){if(l!==1||c!==1)do if(l--,c--,0>c||r[l]!==o[c]){var h=`
`+r[l].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=l&&0<=c);break}}}finally{Vh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ao(t):""}function yk(t){switch(t.tag){case 5:return Ao(t.type);case 16:return Ao("Lazy");case 13:return Ao("Suspense");case 19:return Ao("SuspenseList");case 0:case 2:case 15:return t=Zh(t.type,!1),t;case 11:return t=Zh(t.type.render,!1),t;case 1:return t=Zh(t.type,!0),t;default:return""}}function Gd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case os:return"Fragment";case ss:return"Portal";case Vd:return"Profiler";case Dp:return"StrictMode";case Zd:return"Suspense";case qd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case P0:return(t.displayName||"Context")+".Consumer";case I0:return(t._context.displayName||"Context")+".Provider";case Fp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Up:return e=t.displayName||null,e!==null?e:Gd(t.type)||"Memo";case yi:e=t._payload,t=t._init;try{return Gd(t(e))}catch{}}return null}function wk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gd(e);case 8:return e===Dp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $i(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function k0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ek(t){var e=k0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(l){i=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Cl(t){t._valueTracker||(t._valueTracker=Ek(t))}function b0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=k0(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function du(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kd(t,e){var n=e.checked;return De({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function av(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=$i(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function R0(t,e){e=e.checked,e!=null&&Mp(t,"checked",e,!1)}function Yd(t,e){R0(t,e);var n=$i(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qd(t,e.type,$i(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qd(t,e,n){(e!=="number"||du(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Mo=Array.isArray;function ws(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+$i(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Jd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return De({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Mo(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$i(n)}}function L0(t,e){var n=$i(e.value),i=$i(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function cv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function O0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?O0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Tl,N0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Tl=Tl||document.createElement("div"),Tl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sk=["Webkit","ms","Moz","O"];Object.keys(zo).forEach(function(t){Sk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zo[e]=zo[t]})});function A0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||zo.hasOwnProperty(t)&&zo[t]?(""+e).trim():e+"px"}function M0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=A0(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var Ck=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ef(t,e){if(e){if(Ck[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function tf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nf=null;function Bp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rf=null,Es=null,Ss=null;function hv(t){if(t=ja(t)){if(typeof rf!="function")throw Error(U(280));var e=t.stateNode;e&&(e=wc(e),rf(t.stateNode,t.type,e))}}function D0(t){Es?Ss?Ss.push(t):Ss=[t]:Es=t}function F0(){if(Es){var t=Es,e=Ss;if(Ss=Es=null,hv(t),e)for(t=0;t<e.length;t++)hv(e[t])}}function U0(t,e){return t(e)}function B0(){}var qh=!1;function z0(t,e,n){if(qh)return t(e,n);qh=!0;try{return U0(t,e,n)}finally{qh=!1,(Es!==null||Ss!==null)&&(B0(),F0())}}function oa(t,e){var n=t.stateNode;if(n===null)return null;var i=wc(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var sf=!1;if(ti)try{var wo={};Object.defineProperty(wo,"passive",{get:function(){sf=!0}}),window.addEventListener("test",wo,wo),window.removeEventListener("test",wo,wo)}catch{sf=!1}function Tk(t,e,n,i,r,o,l,c,h){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(m){this.onError(m)}}var jo=!1,fu=null,pu=!1,of=null,Ik={onError:function(t){jo=!0,fu=t}};function Pk(t,e,n,i,r,o,l,c,h){jo=!1,fu=null,Tk.apply(Ik,arguments)}function xk(t,e,n,i,r,o,l,c,h){if(Pk.apply(this,arguments),jo){if(jo){var f=fu;jo=!1,fu=null}else throw Error(U(198));pu||(pu=!0,of=f)}}function jr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function j0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dv(t){if(jr(t)!==t)throw Error(U(188))}function kk(t){var e=t.alternate;if(!e){if(e=jr(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return dv(r),t;if(o===i)return dv(r),e;o=o.sibling}throw Error(U(188))}if(n.return!==i.return)n=r,i=o;else{for(var l=!1,c=r.child;c;){if(c===n){l=!0,n=r,i=o;break}if(c===i){l=!0,i=r,n=o;break}c=c.sibling}if(!l){for(c=o.child;c;){if(c===n){l=!0,n=o,i=r;break}if(c===i){l=!0,i=o,n=r;break}c=c.sibling}if(!l)throw Error(U(189))}}if(n.alternate!==i)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function W0(t){return t=kk(t),t!==null?H0(t):null}function H0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=H0(t);if(e!==null)return e;t=t.sibling}return null}var $0=Ht.unstable_scheduleCallback,fv=Ht.unstable_cancelCallback,bk=Ht.unstable_shouldYield,Rk=Ht.unstable_requestPaint,He=Ht.unstable_now,Lk=Ht.unstable_getCurrentPriorityLevel,zp=Ht.unstable_ImmediatePriority,V0=Ht.unstable_UserBlockingPriority,mu=Ht.unstable_NormalPriority,Ok=Ht.unstable_LowPriority,Z0=Ht.unstable_IdlePriority,_c=null,Mn=null;function Nk(t){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(_c,t,void 0,(t.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:Dk,Ak=Math.log,Mk=Math.LN2;function Dk(t){return t>>>=0,t===0?32:31-(Ak(t)/Mk|0)|0}var Il=64,Pl=4194304;function Do(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _u(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,l=n&268435455;if(l!==0){var c=l&~r;c!==0?i=Do(c):(o&=l,o!==0&&(i=Do(o)))}else l=n&~r,l!==0?i=Do(l):o!==0&&(i=Do(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-mn(e),r=1<<n,i|=t[n],e&=~r;return i}function Fk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uk(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-mn(o),c=1<<l,h=r[l];h===-1?(!(c&n)||c&i)&&(r[l]=Fk(c,e)):h<=e&&(t.expiredLanes|=c),o&=~c}}function af(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function q0(){var t=Il;return Il<<=1,!(Il&4194240)&&(Il=64),t}function Gh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ba(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mn(e),t[e]=n}function Bk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-mn(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}function jp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-mn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Ee=0;function G0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var K0,Wp,Y0,Q0,J0,lf=!1,xl=[],Oi=null,Ni=null,Ai=null,aa=new Map,la=new Map,Ei=[],zk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pv(t,e){switch(t){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":Ai=null;break;case"pointerover":case"pointerout":aa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":la.delete(e.pointerId)}}function Eo(t,e,n,i,r,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=ja(e),e!==null&&Wp(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function jk(t,e,n,i,r){switch(e){case"focusin":return Oi=Eo(Oi,t,e,n,i,r),!0;case"dragenter":return Ni=Eo(Ni,t,e,n,i,r),!0;case"mouseover":return Ai=Eo(Ai,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return aa.set(o,Eo(aa.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,la.set(o,Eo(la.get(o)||null,t,e,n,i,r)),!0}return!1}function X0(t){var e=lr(t.target);if(e!==null){var n=jr(e);if(n!==null){if(e=n.tag,e===13){if(e=j0(n),e!==null){t.blockedOn=e,J0(t.priority,function(){Y0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ql(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=uf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);nf=i,n.target.dispatchEvent(i),nf=null}else return e=ja(n),e!==null&&Wp(e),t.blockedOn=n,!1;e.shift()}return!0}function mv(t,e,n){ql(t)&&n.delete(e)}function Wk(){lf=!1,Oi!==null&&ql(Oi)&&(Oi=null),Ni!==null&&ql(Ni)&&(Ni=null),Ai!==null&&ql(Ai)&&(Ai=null),aa.forEach(mv),la.forEach(mv)}function So(t,e){t.blockedOn===e&&(t.blockedOn=null,lf||(lf=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,Wk)))}function ua(t){function e(r){return So(r,t)}if(0<xl.length){So(xl[0],t);for(var n=1;n<xl.length;n++){var i=xl[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Oi!==null&&So(Oi,t),Ni!==null&&So(Ni,t),Ai!==null&&So(Ai,t),aa.forEach(e),la.forEach(e),n=0;n<Ei.length;n++)i=Ei[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Ei.length&&(n=Ei[0],n.blockedOn===null);)X0(n),n.blockedOn===null&&Ei.shift()}var Cs=li.ReactCurrentBatchConfig,gu=!0;function Hk(t,e,n,i){var r=Ee,o=Cs.transition;Cs.transition=null;try{Ee=1,Hp(t,e,n,i)}finally{Ee=r,Cs.transition=o}}function $k(t,e,n,i){var r=Ee,o=Cs.transition;Cs.transition=null;try{Ee=4,Hp(t,e,n,i)}finally{Ee=r,Cs.transition=o}}function Hp(t,e,n,i){if(gu){var r=uf(t,e,n,i);if(r===null)rd(t,e,i,vu,n),pv(t,i);else if(jk(r,t,e,n,i))i.stopPropagation();else if(pv(t,i),e&4&&-1<zk.indexOf(t)){for(;r!==null;){var o=ja(r);if(o!==null&&K0(o),o=uf(t,e,n,i),o===null&&rd(t,e,i,vu,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else rd(t,e,i,null,n)}}var vu=null;function uf(t,e,n,i){if(vu=null,t=Bp(i),t=lr(t),t!==null)if(e=jr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=j0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vu=t,null}function eE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lk()){case zp:return 1;case V0:return 4;case mu:case Ok:return 16;case Z0:return 536870912;default:return 16}default:return 16}}var ki=null,$p=null,Gl=null;function tE(){if(Gl)return Gl;var t,e=$p,n=e.length,i,r="value"in ki?ki.value:ki.textContent,o=r.length;for(t=0;t<n&&e[t]===r[t];t++);var l=n-t;for(i=1;i<=l&&e[n-i]===r[o-i];i++);return Gl=r.slice(t,1<i?1-i:void 0)}function Kl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kl(){return!0}function _v(){return!1}function Vt(t){function e(n,i,r,o,l){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?kl:_v,this.isPropagationStopped=_v,this}return De(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kl)},persist:function(){},isPersistent:kl}),e}var Zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vp=Vt(Zs),za=De({},Zs,{view:0,detail:0}),Vk=Vt(za),Kh,Yh,Co,gc=De({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Co&&(Co&&t.type==="mousemove"?(Kh=t.screenX-Co.screenX,Yh=t.screenY-Co.screenY):Yh=Kh=0,Co=t),Kh)},movementY:function(t){return"movementY"in t?t.movementY:Yh}}),gv=Vt(gc),Zk=De({},gc,{dataTransfer:0}),qk=Vt(Zk),Gk=De({},za,{relatedTarget:0}),Qh=Vt(Gk),Kk=De({},Zs,{animationName:0,elapsedTime:0,pseudoElement:0}),Yk=Vt(Kk),Qk=De({},Zs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Jk=Vt(Qk),Xk=De({},Zs,{data:0}),vv=Vt(Xk),eb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ib(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nb[t])?!!e[t]:!1}function Zp(){return ib}var rb=De({},za,{key:function(t){if(t.key){var e=eb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zp,charCode:function(t){return t.type==="keypress"?Kl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sb=Vt(rb),ob=De({},gc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yv=Vt(ob),ab=De({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zp}),lb=Vt(ab),ub=De({},Zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),cb=Vt(ub),hb=De({},gc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),db=Vt(hb),fb=[9,13,27,32],qp=ti&&"CompositionEvent"in window,Wo=null;ti&&"documentMode"in document&&(Wo=document.documentMode);var pb=ti&&"TextEvent"in window&&!Wo,nE=ti&&(!qp||Wo&&8<Wo&&11>=Wo),wv=String.fromCharCode(32),Ev=!1;function iE(t,e){switch(t){case"keyup":return fb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var as=!1;function mb(t,e){switch(t){case"compositionend":return rE(e);case"keypress":return e.which!==32?null:(Ev=!0,wv);case"textInput":return t=e.data,t===wv&&Ev?null:t;default:return null}}function _b(t,e){if(as)return t==="compositionend"||!qp&&iE(t,e)?(t=tE(),Gl=$p=ki=null,as=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nE&&e.locale!=="ko"?null:e.data;default:return null}}var gb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gb[t.type]:e==="textarea"}function sE(t,e,n,i){D0(i),e=yu(e,"onChange"),0<e.length&&(n=new Vp("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Ho=null,ca=null;function vb(t){_E(t,0)}function vc(t){var e=cs(t);if(b0(e))return t}function yb(t,e){if(t==="change")return e}var oE=!1;if(ti){var Jh;if(ti){var Xh="oninput"in document;if(!Xh){var Cv=document.createElement("div");Cv.setAttribute("oninput","return;"),Xh=typeof Cv.oninput=="function"}Jh=Xh}else Jh=!1;oE=Jh&&(!document.documentMode||9<document.documentMode)}function Tv(){Ho&&(Ho.detachEvent("onpropertychange",aE),ca=Ho=null)}function aE(t){if(t.propertyName==="value"&&vc(ca)){var e=[];sE(e,ca,t,Bp(t)),z0(vb,e)}}function wb(t,e,n){t==="focusin"?(Tv(),Ho=e,ca=n,Ho.attachEvent("onpropertychange",aE)):t==="focusout"&&Tv()}function Eb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vc(ca)}function Sb(t,e){if(t==="click")return vc(e)}function Cb(t,e){if(t==="input"||t==="change")return vc(e)}function Tb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yn=typeof Object.is=="function"?Object.is:Tb;function ha(t,e){if(yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!$d.call(e,r)||!yn(t[r],e[r]))return!1}return!0}function Iv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pv(t,e){var n=Iv(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Iv(n)}}function lE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function uE(){for(var t=window,e=du();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=du(t.document)}return e}function Gp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ib(t){var e=uE(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lE(n.ownerDocument.documentElement,n)){if(i!==null&&Gp(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=Pv(n,o);var l=Pv(n,i);r&&l&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Pb=ti&&"documentMode"in document&&11>=document.documentMode,ls=null,cf=null,$o=null,hf=!1;function xv(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hf||ls==null||ls!==du(i)||(i=ls,"selectionStart"in i&&Gp(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),$o&&ha($o,i)||($o=i,i=yu(cf,"onSelect"),0<i.length&&(e=new Vp("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ls)))}function bl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var us={animationend:bl("Animation","AnimationEnd"),animationiteration:bl("Animation","AnimationIteration"),animationstart:bl("Animation","AnimationStart"),transitionend:bl("Transition","TransitionEnd")},ed={},cE={};ti&&(cE=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function yc(t){if(ed[t])return ed[t];if(!us[t])return t;var e=us[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cE)return ed[t]=e[n];return t}var hE=yc("animationend"),dE=yc("animationiteration"),fE=yc("animationstart"),pE=yc("transitionend"),mE=new Map,kv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gi(t,e){mE.set(t,e),zr(e,[t])}for(var td=0;td<kv.length;td++){var nd=kv[td],xb=nd.toLowerCase(),kb=nd[0].toUpperCase()+nd.slice(1);Gi(xb,"on"+kb)}Gi(hE,"onAnimationEnd");Gi(dE,"onAnimationIteration");Gi(fE,"onAnimationStart");Gi("dblclick","onDoubleClick");Gi("focusin","onFocus");Gi("focusout","onBlur");Gi(pE,"onTransitionEnd");Os("onMouseEnter",["mouseout","mouseover"]);Os("onMouseLeave",["mouseout","mouseover"]);Os("onPointerEnter",["pointerout","pointerover"]);Os("onPointerLeave",["pointerout","pointerover"]);zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zr("onBeforeInput",["compositionend","keypress","textInput","paste"]);zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fo));function bv(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,xk(i,e,void 0,t),t.currentTarget=null}function _E(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var l=i.length-1;0<=l;l--){var c=i[l],h=c.instance,f=c.currentTarget;if(c=c.listener,h!==o&&r.isPropagationStopped())break e;bv(r,c,f),o=h}else for(l=0;l<i.length;l++){if(c=i[l],h=c.instance,f=c.currentTarget,c=c.listener,h!==o&&r.isPropagationStopped())break e;bv(r,c,f),o=h}}}if(pu)throw t=of,pu=!1,of=null,t}function be(t,e){var n=e[_f];n===void 0&&(n=e[_f]=new Set);var i=t+"__bubble";n.has(i)||(gE(e,t,2,!1),n.add(i))}function id(t,e,n){var i=0;e&&(i|=4),gE(n,t,i,e)}var Rl="_reactListening"+Math.random().toString(36).slice(2);function da(t){if(!t[Rl]){t[Rl]=!0,T0.forEach(function(n){n!=="selectionchange"&&(bb.has(n)||id(n,!1,t),id(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Rl]||(e[Rl]=!0,id("selectionchange",!1,e))}}function gE(t,e,n,i){switch(eE(e)){case 1:var r=Hk;break;case 4:r=$k;break;default:r=Hp}n=r.bind(null,e,n,t),r=void 0,!sf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function rd(t,e,n,i,r){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var c=i.stateNode.containerInfo;if(c===r||c.nodeType===8&&c.parentNode===r)break;if(l===4)for(l=i.return;l!==null;){var h=l.tag;if((h===3||h===4)&&(h=l.stateNode.containerInfo,h===r||h.nodeType===8&&h.parentNode===r))return;l=l.return}for(;c!==null;){if(l=lr(c),l===null)return;if(h=l.tag,h===5||h===6){i=o=l;continue e}c=c.parentNode}}i=i.return}z0(function(){var f=o,m=Bp(n),_=[];e:{var v=mE.get(t);if(v!==void 0){var E=Vp,y=t;switch(t){case"keypress":if(Kl(n)===0)break e;case"keydown":case"keyup":E=sb;break;case"focusin":y="focus",E=Qh;break;case"focusout":y="blur",E=Qh;break;case"beforeblur":case"afterblur":E=Qh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=gv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=qk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=lb;break;case hE:case dE:case fE:E=Yk;break;case pE:E=cb;break;case"scroll":E=Vk;break;case"wheel":E=db;break;case"copy":case"cut":case"paste":E=Jk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=yv}var T=(e&4)!==0,R=!T&&t==="scroll",S=T?v!==null?v+"Capture":null:v;T=[];for(var w=f,I;w!==null;){I=w;var O=I.stateNode;if(I.tag===5&&O!==null&&(I=O,S!==null&&(O=oa(w,S),O!=null&&T.push(fa(w,O,I)))),R)break;w=w.return}0<T.length&&(v=new E(v,y,null,n,m),_.push({event:v,listeners:T}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",v&&n!==nf&&(y=n.relatedTarget||n.fromElement)&&(lr(y)||y[ni]))break e;if((E||v)&&(v=m.window===m?m:(v=m.ownerDocument)?v.defaultView||v.parentWindow:window,E?(y=n.relatedTarget||n.toElement,E=f,y=y?lr(y):null,y!==null&&(R=jr(y),y!==R||y.tag!==5&&y.tag!==6)&&(y=null)):(E=null,y=f),E!==y)){if(T=gv,O="onMouseLeave",S="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(T=yv,O="onPointerLeave",S="onPointerEnter",w="pointer"),R=E==null?v:cs(E),I=y==null?v:cs(y),v=new T(O,w+"leave",E,n,m),v.target=R,v.relatedTarget=I,O=null,lr(m)===f&&(T=new T(S,w+"enter",y,n,m),T.target=I,T.relatedTarget=R,O=T),R=O,E&&y)t:{for(T=E,S=y,w=0,I=T;I;I=ns(I))w++;for(I=0,O=S;O;O=ns(O))I++;for(;0<w-I;)T=ns(T),w--;for(;0<I-w;)S=ns(S),I--;for(;w--;){if(T===S||S!==null&&T===S.alternate)break t;T=ns(T),S=ns(S)}T=null}else T=null;E!==null&&Rv(_,v,E,T,!1),y!==null&&R!==null&&Rv(_,R,y,T,!0)}}e:{if(v=f?cs(f):window,E=v.nodeName&&v.nodeName.toLowerCase(),E==="select"||E==="input"&&v.type==="file")var B=yb;else if(Sv(v))if(oE)B=Cb;else{B=Eb;var W=wb}else(E=v.nodeName)&&E.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(B=Sb);if(B&&(B=B(t,f))){sE(_,B,n,m);break e}W&&W(t,v,f),t==="focusout"&&(W=v._wrapperState)&&W.controlled&&v.type==="number"&&Qd(v,"number",v.value)}switch(W=f?cs(f):window,t){case"focusin":(Sv(W)||W.contentEditable==="true")&&(ls=W,cf=f,$o=null);break;case"focusout":$o=cf=ls=null;break;case"mousedown":hf=!0;break;case"contextmenu":case"mouseup":case"dragend":hf=!1,xv(_,n,m);break;case"selectionchange":if(Pb)break;case"keydown":case"keyup":xv(_,n,m)}var z;if(qp)e:{switch(t){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else as?iE(t,n)&&($="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(nE&&n.locale!=="ko"&&(as||$!=="onCompositionStart"?$==="onCompositionEnd"&&as&&(z=tE()):(ki=m,$p="value"in ki?ki.value:ki.textContent,as=!0)),W=yu(f,$),0<W.length&&($=new vv($,t,null,n,m),_.push({event:$,listeners:W}),z?$.data=z:(z=rE(n),z!==null&&($.data=z)))),(z=pb?mb(t,n):_b(t,n))&&(f=yu(f,"onBeforeInput"),0<f.length&&(m=new vv("onBeforeInput","beforeinput",null,n,m),_.push({event:m,listeners:f}),m.data=z))}_E(_,e)})}function fa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yu(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=oa(t,n),o!=null&&i.unshift(fa(t,o,r)),o=oa(t,e),o!=null&&i.push(fa(t,o,r))),t=t.return}return i}function ns(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Rv(t,e,n,i,r){for(var o=e._reactName,l=[];n!==null&&n!==i;){var c=n,h=c.alternate,f=c.stateNode;if(h!==null&&h===i)break;c.tag===5&&f!==null&&(c=f,r?(h=oa(n,o),h!=null&&l.unshift(fa(n,h,c))):r||(h=oa(n,o),h!=null&&l.push(fa(n,h,c)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var Rb=/\r\n?/g,Lb=/\u0000|\uFFFD/g;function Lv(t){return(typeof t=="string"?t:""+t).replace(Rb,`
`).replace(Lb,"")}function Ll(t,e,n){if(e=Lv(e),Lv(t)!==e&&n)throw Error(U(425))}function wu(){}var df=null,ff=null;function pf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var mf=typeof setTimeout=="function"?setTimeout:void 0,Ob=typeof clearTimeout=="function"?clearTimeout:void 0,Ov=typeof Promise=="function"?Promise:void 0,Nb=typeof queueMicrotask=="function"?queueMicrotask:typeof Ov<"u"?function(t){return Ov.resolve(null).then(t).catch(Ab)}:mf;function Ab(t){setTimeout(function(){throw t})}function sd(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),ua(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);ua(e)}function Mi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Nv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qs=Math.random().toString(36).slice(2),Ln="__reactFiber$"+qs,pa="__reactProps$"+qs,ni="__reactContainer$"+qs,_f="__reactEvents$"+qs,Mb="__reactListeners$"+qs,Db="__reactHandles$"+qs;function lr(t){var e=t[Ln];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ni]||n[Ln]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Nv(t);t!==null;){if(n=t[Ln])return n;t=Nv(t)}return e}t=n,n=t.parentNode}return null}function ja(t){return t=t[Ln]||t[ni],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function cs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function wc(t){return t[pa]||null}var gf=[],hs=-1;function Ki(t){return{current:t}}function Le(t){0>hs||(t.current=gf[hs],gf[hs]=null,hs--)}function ke(t,e){hs++,gf[hs]=t.current,t.current=e}var Vi={},vt=Ki(Vi),Ot=Ki(!1),Cr=Vi;function Ns(t,e){var n=t.type.contextTypes;if(!n)return Vi;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Nt(t){return t=t.childContextTypes,t!=null}function Eu(){Le(Ot),Le(vt)}function Av(t,e,n){if(vt.current!==Vi)throw Error(U(168));ke(vt,e),ke(Ot,n)}function vE(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(U(108,wk(t)||"Unknown",r));return De({},n,i)}function Su(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vi,Cr=vt.current,ke(vt,t),ke(Ot,Ot.current),!0}function Mv(t,e,n){var i=t.stateNode;if(!i)throw Error(U(169));n?(t=vE(t,e,Cr),i.__reactInternalMemoizedMergedChildContext=t,Le(Ot),Le(vt),ke(vt,t)):Le(Ot),ke(Ot,n)}var Vn=null,Ec=!1,od=!1;function yE(t){Vn===null?Vn=[t]:Vn.push(t)}function Fb(t){Ec=!0,yE(t)}function Yi(){if(!od&&Vn!==null){od=!0;var t=0,e=Ee;try{var n=Vn;for(Ee=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Vn=null,Ec=!1}catch(r){throw Vn!==null&&(Vn=Vn.slice(t+1)),$0(zp,Yi),r}finally{Ee=e,od=!1}}return null}var ds=[],fs=0,Cu=null,Tu=0,Yt=[],Qt=0,Tr=null,Zn=1,qn="";function ir(t,e){ds[fs++]=Tu,ds[fs++]=Cu,Cu=t,Tu=e}function wE(t,e,n){Yt[Qt++]=Zn,Yt[Qt++]=qn,Yt[Qt++]=Tr,Tr=t;var i=Zn;t=qn;var r=32-mn(i)-1;i&=~(1<<r),n+=1;var o=32-mn(e)+r;if(30<o){var l=r-r%5;o=(i&(1<<l)-1).toString(32),i>>=l,r-=l,Zn=1<<32-mn(e)+r|n<<r|i,qn=o+t}else Zn=1<<o|n<<r|i,qn=t}function Kp(t){t.return!==null&&(ir(t,1),wE(t,1,0))}function Yp(t){for(;t===Cu;)Cu=ds[--fs],ds[fs]=null,Tu=ds[--fs],ds[fs]=null;for(;t===Tr;)Tr=Yt[--Qt],Yt[Qt]=null,qn=Yt[--Qt],Yt[Qt]=null,Zn=Yt[--Qt],Yt[Qt]=null}var jt=null,zt=null,Oe=!1,hn=null;function EE(t,e){var n=Jt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Dv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jt=t,zt=Mi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jt=t,zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Tr!==null?{id:Zn,overflow:qn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Jt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jt=t,zt=null,!0):!1;default:return!1}}function vf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yf(t){if(Oe){var e=zt;if(e){var n=e;if(!Dv(t,e)){if(vf(t))throw Error(U(418));e=Mi(n.nextSibling);var i=jt;e&&Dv(t,e)?EE(i,n):(t.flags=t.flags&-4097|2,Oe=!1,jt=t)}}else{if(vf(t))throw Error(U(418));t.flags=t.flags&-4097|2,Oe=!1,jt=t}}}function Fv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jt=t}function Ol(t){if(t!==jt)return!1;if(!Oe)return Fv(t),Oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pf(t.type,t.memoizedProps)),e&&(e=zt)){if(vf(t))throw SE(),Error(U(418));for(;e;)EE(t,e),e=Mi(e.nextSibling)}if(Fv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zt=Mi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zt=null}}else zt=jt?Mi(t.stateNode.nextSibling):null;return!0}function SE(){for(var t=zt;t;)t=Mi(t.nextSibling)}function As(){zt=jt=null,Oe=!1}function Qp(t){hn===null?hn=[t]:hn.push(t)}var Ub=li.ReactCurrentBatchConfig;function ln(t,e){if(t&&t.defaultProps){e=De({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Iu=Ki(null),Pu=null,ps=null,Jp=null;function Xp(){Jp=ps=Pu=null}function em(t){var e=Iu.current;Le(Iu),t._currentValue=e}function wf(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Ts(t,e){Pu=t,Jp=ps=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bt=!0),t.firstContext=null)}function tn(t){var e=t._currentValue;if(Jp!==t)if(t={context:t,memoizedValue:e,next:null},ps===null){if(Pu===null)throw Error(U(308));ps=t,Pu.dependencies={lanes:0,firstContext:t}}else ps=ps.next=t;return e}var ur=null;function tm(t){ur===null?ur=[t]:ur.push(t)}function CE(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,tm(e)):(n.next=r.next,r.next=n),e.interleaved=n,ii(t,i)}function ii(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wi=!1;function nm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Di(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ve&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,ii(t,n)}return r=i.interleaved,r===null?(e.next=e,tm(i)):(e.next=r.next,r.next=e),i.interleaved=e,ii(t,n)}function Yl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,jp(t,n)}}function Uv(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?r=o=e:o=o.next=e}else r=o=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xu(t,e,n,i){var r=t.updateQueue;wi=!1;var o=r.firstBaseUpdate,l=r.lastBaseUpdate,c=r.shared.pending;if(c!==null){r.shared.pending=null;var h=c,f=h.next;h.next=null,l===null?o=f:l.next=f,l=h;var m=t.alternate;m!==null&&(m=m.updateQueue,c=m.lastBaseUpdate,c!==l&&(c===null?m.firstBaseUpdate=f:c.next=f,m.lastBaseUpdate=h))}if(o!==null){var _=r.baseState;l=0,m=f=h=null,c=o;do{var v=c.lane,E=c.eventTime;if((i&v)===v){m!==null&&(m=m.next={eventTime:E,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var y=t,T=c;switch(v=e,E=n,T.tag){case 1:if(y=T.payload,typeof y=="function"){_=y.call(E,_,v);break e}_=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=T.payload,v=typeof y=="function"?y.call(E,_,v):y,v==null)break e;_=De({},_,v);break e;case 2:wi=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,v=r.effects,v===null?r.effects=[c]:v.push(c))}else E={eventTime:E,lane:v,tag:c.tag,payload:c.payload,callback:c.callback,next:null},m===null?(f=m=E,h=_):m=m.next=E,l|=v;if(c=c.next,c===null){if(c=r.shared.pending,c===null)break;v=c,c=v.next,v.next=null,r.lastBaseUpdate=v,r.shared.pending=null}}while(1);if(m===null&&(h=_),r.baseState=h,r.firstBaseUpdate=f,r.lastBaseUpdate=m,e=r.shared.interleaved,e!==null){r=e;do l|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);Pr|=l,t.lanes=l,t.memoizedState=_}}function Bv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(U(191,r));r.call(i)}}}var IE=new C0.Component().refs;function Ef(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:De({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sc={isMounted:function(t){return(t=t._reactInternals)?jr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Tt(),r=Ui(t),o=Qn(i,r);o.payload=e,n!=null&&(o.callback=n),e=Di(t,o,r),e!==null&&(_n(e,t,r,i),Yl(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Tt(),r=Ui(t),o=Qn(i,r);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Di(t,o,r),e!==null&&(_n(e,t,r,i),Yl(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Tt(),i=Ui(t),r=Qn(n,i);r.tag=2,e!=null&&(r.callback=e),e=Di(t,r,i),e!==null&&(_n(e,t,i,n),Yl(e,t,i))}};function zv(t,e,n,i,r,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,l):e.prototype&&e.prototype.isPureReactComponent?!ha(n,i)||!ha(r,o):!0}function PE(t,e,n){var i=!1,r=Vi,o=e.contextType;return typeof o=="object"&&o!==null?o=tn(o):(r=Nt(e)?Cr:vt.current,i=e.contextTypes,o=(i=i!=null)?Ns(t,r):Vi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sc,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function jv(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Sc.enqueueReplaceState(e,e.state,null)}function Sf(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=IE,nm(t);var o=e.contextType;typeof o=="object"&&o!==null?r.context=tn(o):(o=Nt(e)?Cr:vt.current,r.context=Ns(t,o)),r.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Ef(t,e,o,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Sc.enqueueReplaceState(r,r.state,null),xu(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function To(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var i=n.stateNode}if(!i)throw Error(U(147,t));var r=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var c=r.refs;c===IE&&(c=r.refs={}),l===null?delete c[o]:c[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Nl(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Wv(t){var e=t._init;return e(t._payload)}function xE(t){function e(S,w){if(t){var I=S.deletions;I===null?(S.deletions=[w],S.flags|=16):I.push(w)}}function n(S,w){if(!t)return null;for(;w!==null;)e(S,w),w=w.sibling;return null}function i(S,w){for(S=new Map;w!==null;)w.key!==null?S.set(w.key,w):S.set(w.index,w),w=w.sibling;return S}function r(S,w){return S=Bi(S,w),S.index=0,S.sibling=null,S}function o(S,w,I){return S.index=I,t?(I=S.alternate,I!==null?(I=I.index,I<w?(S.flags|=2,w):I):(S.flags|=2,w)):(S.flags|=1048576,w)}function l(S){return t&&S.alternate===null&&(S.flags|=2),S}function c(S,w,I,O){return w===null||w.tag!==6?(w=fd(I,S.mode,O),w.return=S,w):(w=r(w,I),w.return=S,w)}function h(S,w,I,O){var B=I.type;return B===os?m(S,w,I.props.children,O,I.key):w!==null&&(w.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===yi&&Wv(B)===w.type)?(O=r(w,I.props),O.ref=To(S,w,I),O.return=S,O):(O=nu(I.type,I.key,I.props,null,S.mode,O),O.ref=To(S,w,I),O.return=S,O)}function f(S,w,I,O){return w===null||w.tag!==4||w.stateNode.containerInfo!==I.containerInfo||w.stateNode.implementation!==I.implementation?(w=pd(I,S.mode,O),w.return=S,w):(w=r(w,I.children||[]),w.return=S,w)}function m(S,w,I,O,B){return w===null||w.tag!==7?(w=gr(I,S.mode,O,B),w.return=S,w):(w=r(w,I),w.return=S,w)}function _(S,w,I){if(typeof w=="string"&&w!==""||typeof w=="number")return w=fd(""+w,S.mode,I),w.return=S,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Sl:return I=nu(w.type,w.key,w.props,null,S.mode,I),I.ref=To(S,null,w),I.return=S,I;case ss:return w=pd(w,S.mode,I),w.return=S,w;case yi:var O=w._init;return _(S,O(w._payload),I)}if(Mo(w)||yo(w))return w=gr(w,S.mode,I,null),w.return=S,w;Nl(S,w)}return null}function v(S,w,I,O){var B=w!==null?w.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return B!==null?null:c(S,w,""+I,O);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Sl:return I.key===B?h(S,w,I,O):null;case ss:return I.key===B?f(S,w,I,O):null;case yi:return B=I._init,v(S,w,B(I._payload),O)}if(Mo(I)||yo(I))return B!==null?null:m(S,w,I,O,null);Nl(S,I)}return null}function E(S,w,I,O,B){if(typeof O=="string"&&O!==""||typeof O=="number")return S=S.get(I)||null,c(w,S,""+O,B);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Sl:return S=S.get(O.key===null?I:O.key)||null,h(w,S,O,B);case ss:return S=S.get(O.key===null?I:O.key)||null,f(w,S,O,B);case yi:var W=O._init;return E(S,w,I,W(O._payload),B)}if(Mo(O)||yo(O))return S=S.get(I)||null,m(w,S,O,B,null);Nl(w,O)}return null}function y(S,w,I,O){for(var B=null,W=null,z=w,$=w=0,ae=null;z!==null&&$<I.length;$++){z.index>$?(ae=z,z=null):ae=z.sibling;var te=v(S,z,I[$],O);if(te===null){z===null&&(z=ae);break}t&&z&&te.alternate===null&&e(S,z),w=o(te,w,$),W===null?B=te:W.sibling=te,W=te,z=ae}if($===I.length)return n(S,z),Oe&&ir(S,$),B;if(z===null){for(;$<I.length;$++)z=_(S,I[$],O),z!==null&&(w=o(z,w,$),W===null?B=z:W.sibling=z,W=z);return Oe&&ir(S,$),B}for(z=i(S,z);$<I.length;$++)ae=E(z,S,$,I[$],O),ae!==null&&(t&&ae.alternate!==null&&z.delete(ae.key===null?$:ae.key),w=o(ae,w,$),W===null?B=ae:W.sibling=ae,W=ae);return t&&z.forEach(function(fe){return e(S,fe)}),Oe&&ir(S,$),B}function T(S,w,I,O){var B=yo(I);if(typeof B!="function")throw Error(U(150));if(I=B.call(I),I==null)throw Error(U(151));for(var W=B=null,z=w,$=w=0,ae=null,te=I.next();z!==null&&!te.done;$++,te=I.next()){z.index>$?(ae=z,z=null):ae=z.sibling;var fe=v(S,z,te.value,O);if(fe===null){z===null&&(z=ae);break}t&&z&&fe.alternate===null&&e(S,z),w=o(fe,w,$),W===null?B=fe:W.sibling=fe,W=fe,z=ae}if(te.done)return n(S,z),Oe&&ir(S,$),B;if(z===null){for(;!te.done;$++,te=I.next())te=_(S,te.value,O),te!==null&&(w=o(te,w,$),W===null?B=te:W.sibling=te,W=te);return Oe&&ir(S,$),B}for(z=i(S,z);!te.done;$++,te=I.next())te=E(z,S,$,te.value,O),te!==null&&(t&&te.alternate!==null&&z.delete(te.key===null?$:te.key),w=o(te,w,$),W===null?B=te:W.sibling=te,W=te);return t&&z.forEach(function(Ie){return e(S,Ie)}),Oe&&ir(S,$),B}function R(S,w,I,O){if(typeof I=="object"&&I!==null&&I.type===os&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Sl:e:{for(var B=I.key,W=w;W!==null;){if(W.key===B){if(B=I.type,B===os){if(W.tag===7){n(S,W.sibling),w=r(W,I.props.children),w.return=S,S=w;break e}}else if(W.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===yi&&Wv(B)===W.type){n(S,W.sibling),w=r(W,I.props),w.ref=To(S,W,I),w.return=S,S=w;break e}n(S,W);break}else e(S,W);W=W.sibling}I.type===os?(w=gr(I.props.children,S.mode,O,I.key),w.return=S,S=w):(O=nu(I.type,I.key,I.props,null,S.mode,O),O.ref=To(S,w,I),O.return=S,S=O)}return l(S);case ss:e:{for(W=I.key;w!==null;){if(w.key===W)if(w.tag===4&&w.stateNode.containerInfo===I.containerInfo&&w.stateNode.implementation===I.implementation){n(S,w.sibling),w=r(w,I.children||[]),w.return=S,S=w;break e}else{n(S,w);break}else e(S,w);w=w.sibling}w=pd(I,S.mode,O),w.return=S,S=w}return l(S);case yi:return W=I._init,R(S,w,W(I._payload),O)}if(Mo(I))return y(S,w,I,O);if(yo(I))return T(S,w,I,O);Nl(S,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,w!==null&&w.tag===6?(n(S,w.sibling),w=r(w,I),w.return=S,S=w):(n(S,w),w=fd(I,S.mode,O),w.return=S,S=w),l(S)):n(S,w)}return R}var Ms=xE(!0),kE=xE(!1),Wa={},Dn=Ki(Wa),ma=Ki(Wa),_a=Ki(Wa);function cr(t){if(t===Wa)throw Error(U(174));return t}function im(t,e){switch(ke(_a,e),ke(ma,t),ke(Dn,Wa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xd(e,t)}Le(Dn),ke(Dn,e)}function Ds(){Le(Dn),Le(ma),Le(_a)}function bE(t){cr(_a.current);var e=cr(Dn.current),n=Xd(e,t.type);e!==n&&(ke(ma,t),ke(Dn,n))}function rm(t){ma.current===t&&(Le(Dn),Le(ma))}var Ae=Ki(0);function ku(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ad=[];function sm(){for(var t=0;t<ad.length;t++)ad[t]._workInProgressVersionPrimary=null;ad.length=0}var Ql=li.ReactCurrentDispatcher,ld=li.ReactCurrentBatchConfig,Ir=0,Me=null,Ge=null,tt=null,bu=!1,Vo=!1,ga=0,Bb=0;function ft(){throw Error(U(321))}function om(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yn(t[n],e[n]))return!1;return!0}function am(t,e,n,i,r,o){if(Ir=o,Me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ql.current=t===null||t.memoizedState===null?Hb:$b,t=n(i,r),Vo){o=0;do{if(Vo=!1,ga=0,25<=o)throw Error(U(301));o+=1,tt=Ge=null,e.updateQueue=null,Ql.current=Vb,t=n(i,r)}while(Vo)}if(Ql.current=Ru,e=Ge!==null&&Ge.next!==null,Ir=0,tt=Ge=Me=null,bu=!1,e)throw Error(U(300));return t}function lm(){var t=ga!==0;return ga=0,t}function Rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Me.memoizedState=tt=t:tt=tt.next=t,tt}function nn(){if(Ge===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var e=tt===null?Me.memoizedState:tt.next;if(e!==null)tt=e,Ge=t;else{if(t===null)throw Error(U(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},tt===null?Me.memoizedState=tt=t:tt=tt.next=t}return tt}function va(t,e){return typeof e=="function"?e(t):e}function ud(t){var e=nn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var i=Ge,r=i.baseQueue,o=n.pending;if(o!==null){if(r!==null){var l=r.next;r.next=o.next,o.next=l}i.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,i=i.baseState;var c=l=null,h=null,f=o;do{var m=f.lane;if((Ir&m)===m)h!==null&&(h=h.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:t(i,f.action);else{var _={lane:m,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};h===null?(c=h=_,l=i):h=h.next=_,Me.lanes|=m,Pr|=m}f=f.next}while(f!==null&&f!==o);h===null?l=i:h.next=c,yn(i,e.memoizedState)||(bt=!0),e.memoizedState=i,e.baseState=l,e.baseQueue=h,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do o=r.lane,Me.lanes|=o,Pr|=o,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function cd(t){var e=nn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do o=t(o,l.action),l=l.next;while(l!==r);yn(o,e.memoizedState)||(bt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function RE(){}function LE(t,e){var n=Me,i=nn(),r=e(),o=!yn(i.memoizedState,r);if(o&&(i.memoizedState=r,bt=!0),i=i.queue,um(AE.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,ya(9,NE.bind(null,n,i,r,e),void 0,null),st===null)throw Error(U(349));Ir&30||OE(n,e,r)}return r}function OE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function NE(t,e,n,i){e.value=n,e.getSnapshot=i,ME(e)&&DE(t)}function AE(t,e,n){return n(function(){ME(e)&&DE(t)})}function ME(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yn(t,n)}catch{return!0}}function DE(t){var e=ii(t,1);e!==null&&_n(e,t,1,-1)}function Hv(t){var e=Rn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:t},e.queue=t,t=t.dispatch=Wb.bind(null,Me,t),[e.memoizedState,t]}function ya(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function FE(){return nn().memoizedState}function Jl(t,e,n,i){var r=Rn();Me.flags|=t,r.memoizedState=ya(1|e,n,void 0,i===void 0?null:i)}function Cc(t,e,n,i){var r=nn();i=i===void 0?null:i;var o=void 0;if(Ge!==null){var l=Ge.memoizedState;if(o=l.destroy,i!==null&&om(i,l.deps)){r.memoizedState=ya(e,n,o,i);return}}Me.flags|=t,r.memoizedState=ya(1|e,n,o,i)}function $v(t,e){return Jl(8390656,8,t,e)}function um(t,e){return Cc(2048,8,t,e)}function UE(t,e){return Cc(4,2,t,e)}function BE(t,e){return Cc(4,4,t,e)}function zE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jE(t,e,n){return n=n!=null?n.concat([t]):null,Cc(4,4,zE.bind(null,e,t),n)}function cm(){}function WE(t,e){var n=nn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&om(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function HE(t,e){var n=nn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&om(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function $E(t,e,n){return Ir&21?(yn(n,e)||(n=q0(),Me.lanes|=n,Pr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bt=!0),t.memoizedState=n)}function zb(t,e){var n=Ee;Ee=n!==0&&4>n?n:4,t(!0);var i=ld.transition;ld.transition={};try{t(!1),e()}finally{Ee=n,ld.transition=i}}function VE(){return nn().memoizedState}function jb(t,e,n){var i=Ui(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},ZE(t))qE(e,n);else if(n=CE(t,e,n,i),n!==null){var r=Tt();_n(n,t,i,r),GE(n,e,i)}}function Wb(t,e,n){var i=Ui(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(ZE(t))qE(e,r);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,c=o(l,n);if(r.hasEagerState=!0,r.eagerState=c,yn(c,l)){var h=e.interleaved;h===null?(r.next=r,tm(e)):(r.next=h.next,h.next=r),e.interleaved=r;return}}catch{}finally{}n=CE(t,e,r,i),n!==null&&(r=Tt(),_n(n,t,i,r),GE(n,e,i))}}function ZE(t){var e=t.alternate;return t===Me||e!==null&&e===Me}function qE(t,e){Vo=bu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function GE(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,jp(t,n)}}var Ru={readContext:tn,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},Hb={readContext:tn,useCallback:function(t,e){return Rn().memoizedState=[t,e===void 0?null:e],t},useContext:tn,useEffect:$v,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jl(4194308,4,zE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jl(4,2,t,e)},useMemo:function(t,e){var n=Rn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Rn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=jb.bind(null,Me,t),[i.memoizedState,t]},useRef:function(t){var e=Rn();return t={current:t},e.memoizedState=t},useState:Hv,useDebugValue:cm,useDeferredValue:function(t){return Rn().memoizedState=t},useTransition:function(){var t=Hv(!1),e=t[0];return t=zb.bind(null,t[1]),Rn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Me,r=Rn();if(Oe){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),st===null)throw Error(U(349));Ir&30||OE(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,$v(AE.bind(null,i,o,t),[t]),i.flags|=2048,ya(9,NE.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=Rn(),e=st.identifierPrefix;if(Oe){var n=qn,i=Zn;n=(i&~(1<<32-mn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=ga++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Bb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$b={readContext:tn,useCallback:WE,useContext:tn,useEffect:um,useImperativeHandle:jE,useInsertionEffect:UE,useLayoutEffect:BE,useMemo:HE,useReducer:ud,useRef:FE,useState:function(){return ud(va)},useDebugValue:cm,useDeferredValue:function(t){var e=nn();return $E(e,Ge.memoizedState,t)},useTransition:function(){var t=ud(va)[0],e=nn().memoizedState;return[t,e]},useMutableSource:RE,useSyncExternalStore:LE,useId:VE,unstable_isNewReconciler:!1},Vb={readContext:tn,useCallback:WE,useContext:tn,useEffect:um,useImperativeHandle:jE,useInsertionEffect:UE,useLayoutEffect:BE,useMemo:HE,useReducer:cd,useRef:FE,useState:function(){return cd(va)},useDebugValue:cm,useDeferredValue:function(t){var e=nn();return Ge===null?e.memoizedState=t:$E(e,Ge.memoizedState,t)},useTransition:function(){var t=cd(va)[0],e=nn().memoizedState;return[t,e]},useMutableSource:RE,useSyncExternalStore:LE,useId:VE,unstable_isNewReconciler:!1};function Fs(t,e){try{var n="",i=e;do n+=yk(i),i=i.return;while(i);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:r,digest:null}}function hd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Cf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Zb=typeof WeakMap=="function"?WeakMap:Map;function KE(t,e,n){n=Qn(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Ou||(Ou=!0,Nf=i),Cf(t,e)},n}function YE(t,e,n){n=Qn(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Cf(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Cf(t,e),typeof i!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Vv(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new Zb;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=o1.bind(null,t,e,n),e.then(t,t))}function Zv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qv(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qn(-1,1),e.tag=2,Di(n,e,1))),n.lanes|=1),t)}var qb=li.ReactCurrentOwner,bt=!1;function St(t,e,n,i){e.child=t===null?kE(e,null,n,i):Ms(e,t.child,n,i)}function Gv(t,e,n,i,r){n=n.render;var o=e.ref;return Ts(e,r),i=am(t,e,n,i,o,r),n=lm(),t!==null&&!bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ri(t,e,r)):(Oe&&n&&Kp(e),e.flags|=1,St(t,e,i,r),e.child)}function Kv(t,e,n,i,r){if(t===null){var o=n.type;return typeof o=="function"&&!vm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,QE(t,e,o,i,r)):(t=nu(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&r)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:ha,n(l,i)&&t.ref===e.ref)return ri(t,e,r)}return e.flags|=1,t=Bi(o,i),t.ref=e.ref,t.return=e,e.child=t}function QE(t,e,n,i,r){if(t!==null){var o=t.memoizedProps;if(ha(o,i)&&t.ref===e.ref)if(bt=!1,e.pendingProps=i=o,(t.lanes&r)!==0)t.flags&131072&&(bt=!0);else return e.lanes=t.lanes,ri(t,e,r)}return Tf(t,e,n,i,r)}function JE(t,e,n){var i=e.pendingProps,r=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(_s,Bt),Bt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(_s,Bt),Bt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,ke(_s,Bt),Bt|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,ke(_s,Bt),Bt|=i;return St(t,e,r,n),e.child}function XE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Tf(t,e,n,i,r){var o=Nt(n)?Cr:vt.current;return o=Ns(e,o),Ts(e,r),n=am(t,e,n,i,o,r),i=lm(),t!==null&&!bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ri(t,e,r)):(Oe&&i&&Kp(e),e.flags|=1,St(t,e,n,r),e.child)}function Yv(t,e,n,i,r){if(Nt(n)){var o=!0;Su(e)}else o=!1;if(Ts(e,r),e.stateNode===null)Xl(t,e),PE(e,n,i),Sf(e,n,i,r),i=!0;else if(t===null){var l=e.stateNode,c=e.memoizedProps;l.props=c;var h=l.context,f=n.contextType;typeof f=="object"&&f!==null?f=tn(f):(f=Nt(n)?Cr:vt.current,f=Ns(e,f));var m=n.getDerivedStateFromProps,_=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";_||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==i||h!==f)&&jv(e,l,i,f),wi=!1;var v=e.memoizedState;l.state=v,xu(e,i,l,r),h=e.memoizedState,c!==i||v!==h||Ot.current||wi?(typeof m=="function"&&(Ef(e,n,m,i),h=e.memoizedState),(c=wi||zv(e,n,c,i,v,h,f))?(_||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=h),l.props=i,l.state=h,l.context=f,i=c):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{l=e.stateNode,TE(t,e),c=e.memoizedProps,f=e.type===e.elementType?c:ln(e.type,c),l.props=f,_=e.pendingProps,v=l.context,h=n.contextType,typeof h=="object"&&h!==null?h=tn(h):(h=Nt(n)?Cr:vt.current,h=Ns(e,h));var E=n.getDerivedStateFromProps;(m=typeof E=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==_||v!==h)&&jv(e,l,i,h),wi=!1,v=e.memoizedState,l.state=v,xu(e,i,l,r);var y=e.memoizedState;c!==_||v!==y||Ot.current||wi?(typeof E=="function"&&(Ef(e,n,E,i),y=e.memoizedState),(f=wi||zv(e,n,f,i,v,y,h)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,y,h),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,y,h)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),l.props=i,l.state=y,l.context=h,i=f):(typeof l.componentDidUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),i=!1)}return If(t,e,n,i,o,r)}function If(t,e,n,i,r,o){XE(t,e);var l=(e.flags&128)!==0;if(!i&&!l)return r&&Mv(e,n,!1),ri(t,e,o);i=e.stateNode,qb.current=e;var c=l&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&l?(e.child=Ms(e,t.child,null,o),e.child=Ms(e,null,c,o)):St(t,e,c,o),e.memoizedState=i.state,r&&Mv(e,n,!0),e.child}function eS(t){var e=t.stateNode;e.pendingContext?Av(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Av(t,e.context,!1),im(t,e.containerInfo)}function Qv(t,e,n,i,r){return As(),Qp(r),e.flags|=256,St(t,e,n,i),e.child}var Pf={dehydrated:null,treeContext:null,retryLane:0};function xf(t){return{baseLanes:t,cachePool:null,transitions:null}}function tS(t,e,n){var i=e.pendingProps,r=Ae.current,o=!1,l=(e.flags&128)!==0,c;if((c=l)||(c=t!==null&&t.memoizedState===null?!1:(r&2)!==0),c?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),ke(Ae,r&1),t===null)return yf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=i.children,t=i.fallback,o?(i=e.mode,o=e.child,l={mode:"hidden",children:l},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Pc(l,i,0,null),t=gr(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=xf(n),e.memoizedState=Pf,t):hm(e,l));if(r=t.memoizedState,r!==null&&(c=r.dehydrated,c!==null))return Gb(t,e,l,i,c,r,n);if(o){o=i.fallback,l=e.mode,r=t.child,c=r.sibling;var h={mode:"hidden",children:i.children};return!(l&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=h,e.deletions=null):(i=Bi(r,h),i.subtreeFlags=r.subtreeFlags&14680064),c!==null?o=Bi(c,o):(o=gr(o,l,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,l=t.child.memoizedState,l=l===null?xf(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=Pf,i}return o=t.child,t=o.sibling,i=Bi(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function hm(t,e){return e=Pc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Al(t,e,n,i){return i!==null&&Qp(i),Ms(e,t.child,null,n),t=hm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Gb(t,e,n,i,r,o,l){if(n)return e.flags&256?(e.flags&=-257,i=hd(Error(U(422))),Al(t,e,l,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=Pc({mode:"visible",children:i.children},r,0,null),o=gr(o,r,l,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&Ms(e,t.child,null,l),e.child.memoizedState=xf(l),e.memoizedState=Pf,o);if(!(e.mode&1))return Al(t,e,l,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var c=i.dgst;return i=c,o=Error(U(419)),i=hd(o,i,void 0),Al(t,e,l,i)}if(c=(l&t.childLanes)!==0,bt||c){if(i=st,i!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|l)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,ii(t,r),_n(i,t,r,-1))}return gm(),i=hd(Error(U(421))),Al(t,e,l,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=a1.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,zt=Mi(r.nextSibling),jt=e,Oe=!0,hn=null,t!==null&&(Yt[Qt++]=Zn,Yt[Qt++]=qn,Yt[Qt++]=Tr,Zn=t.id,qn=t.overflow,Tr=e),e=hm(e,i.children),e.flags|=4096,e)}function Jv(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),wf(t.return,e,n)}function dd(t,e,n,i,r){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function nS(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(St(t,e,i.children,n),i=Ae.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jv(t,n,e);else if(t.tag===19)Jv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ke(Ae,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&ku(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),dd(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&ku(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}dd(e,!0,n,null,o);break;case"together":dd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ri(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Pr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Bi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Kb(t,e,n){switch(e.tag){case 3:eS(e),As();break;case 5:bE(e);break;case 1:Nt(e.type)&&Su(e);break;case 4:im(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;ke(Iu,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ke(Ae,Ae.current&1),e.flags|=128,null):n&e.child.childLanes?tS(t,e,n):(ke(Ae,Ae.current&1),t=ri(t,e,n),t!==null?t.sibling:null);ke(Ae,Ae.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return nS(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ke(Ae,Ae.current),i)break;return null;case 22:case 23:return e.lanes=0,JE(t,e,n)}return ri(t,e,n)}var iS,kf,rS,sS;iS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kf=function(){};rS=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,cr(Dn.current);var o=null;switch(n){case"input":r=Kd(t,r),i=Kd(t,i),o=[];break;case"select":r=De({},r,{value:void 0}),i=De({},i,{value:void 0}),o=[];break;case"textarea":r=Jd(t,r),i=Jd(t,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=wu)}ef(n,i);var l;n=null;for(f in r)if(!i.hasOwnProperty(f)&&r.hasOwnProperty(f)&&r[f]!=null)if(f==="style"){var c=r[f];for(l in c)c.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(ra.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in i){var h=i[f];if(c=r!=null?r[f]:void 0,i.hasOwnProperty(f)&&h!==c&&(h!=null||c!=null))if(f==="style")if(c){for(l in c)!c.hasOwnProperty(l)||h&&h.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in h)h.hasOwnProperty(l)&&c[l]!==h[l]&&(n||(n={}),n[l]=h[l])}else n||(o||(o=[]),o.push(f,n)),n=h;else f==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,c=c?c.__html:void 0,h!=null&&c!==h&&(o=o||[]).push(f,h)):f==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(f,""+h):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(ra.hasOwnProperty(f)?(h!=null&&f==="onScroll"&&be("scroll",t),o||c===h||(o=[])):(o=o||[]).push(f,h))}n&&(o=o||[]).push("style",n);var f=o;(e.updateQueue=f)&&(e.flags|=4)}};sS=function(t,e,n,i){n!==i&&(e.flags|=4)};function Io(t,e){if(!Oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Yb(t,e,n){var i=e.pendingProps;switch(Yp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(e),null;case 1:return Nt(e.type)&&Eu(),pt(e),null;case 3:return i=e.stateNode,Ds(),Le(Ot),Le(vt),sm(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Ol(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hn!==null&&(Df(hn),hn=null))),kf(t,e),pt(e),null;case 5:rm(e);var r=cr(_a.current);if(n=e.type,t!==null&&e.stateNode!=null)rS(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(U(166));return pt(e),null}if(t=cr(Dn.current),Ol(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[Ln]=e,i[pa]=o,t=(e.mode&1)!==0,n){case"dialog":be("cancel",i),be("close",i);break;case"iframe":case"object":case"embed":be("load",i);break;case"video":case"audio":for(r=0;r<Fo.length;r++)be(Fo[r],i);break;case"source":be("error",i);break;case"img":case"image":case"link":be("error",i),be("load",i);break;case"details":be("toggle",i);break;case"input":av(i,o),be("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},be("invalid",i);break;case"textarea":uv(i,o),be("invalid",i)}ef(n,o),r=null;for(var l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="children"?typeof c=="string"?i.textContent!==c&&(o.suppressHydrationWarning!==!0&&Ll(i.textContent,c,t),r=["children",c]):typeof c=="number"&&i.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&Ll(i.textContent,c,t),r=["children",""+c]):ra.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&be("scroll",i)}switch(n){case"input":Cl(i),lv(i,o,!0);break;case"textarea":Cl(i),cv(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=wu)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=O0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),n==="select"&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[Ln]=e,t[pa]=i,iS(t,e,!1,!1),e.stateNode=t;e:{switch(l=tf(n,i),n){case"dialog":be("cancel",t),be("close",t),r=i;break;case"iframe":case"object":case"embed":be("load",t),r=i;break;case"video":case"audio":for(r=0;r<Fo.length;r++)be(Fo[r],t);r=i;break;case"source":be("error",t),r=i;break;case"img":case"image":case"link":be("error",t),be("load",t),r=i;break;case"details":be("toggle",t),r=i;break;case"input":av(t,i),r=Kd(t,i),be("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=De({},i,{value:void 0}),be("invalid",t);break;case"textarea":uv(t,i),r=Jd(t,i),be("invalid",t);break;default:r=i}ef(n,r),c=r;for(o in c)if(c.hasOwnProperty(o)){var h=c[o];o==="style"?M0(t,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&N0(t,h)):o==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&sa(t,h):typeof h=="number"&&sa(t,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ra.hasOwnProperty(o)?h!=null&&o==="onScroll"&&be("scroll",t):h!=null&&Mp(t,o,h,l))}switch(n){case"input":Cl(t),lv(t,i,!1);break;case"textarea":Cl(t),cv(t);break;case"option":i.value!=null&&t.setAttribute("value",""+$i(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?ws(t,!!i.multiple,o,!1):i.defaultValue!=null&&ws(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=wu)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pt(e),null;case 6:if(t&&e.stateNode!=null)sS(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(U(166));if(n=cr(_a.current),cr(Dn.current),Ol(e)){if(i=e.stateNode,n=e.memoizedProps,i[Ln]=e,(o=i.nodeValue!==n)&&(t=jt,t!==null))switch(t.tag){case 3:Ll(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ll(i.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Ln]=e,e.stateNode=i}return pt(e),null;case 13:if(Le(Ae),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Oe&&zt!==null&&e.mode&1&&!(e.flags&128))SE(),As(),e.flags|=98560,o=!1;else if(o=Ol(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(U(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[Ln]=e}else As(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pt(e),o=!1}else hn!==null&&(Df(hn),hn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Ae.current&1?Ye===0&&(Ye=3):gm())),e.updateQueue!==null&&(e.flags|=4),pt(e),null);case 4:return Ds(),kf(t,e),t===null&&da(e.stateNode.containerInfo),pt(e),null;case 10:return em(e.type._context),pt(e),null;case 17:return Nt(e.type)&&Eu(),pt(e),null;case 19:if(Le(Ae),o=e.memoizedState,o===null)return pt(e),null;if(i=(e.flags&128)!==0,l=o.rendering,l===null)if(i)Io(o,!1);else{if(Ye!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=ku(t),l!==null){for(e.flags|=128,Io(o,!1),i=l.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,t=i,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Ae,Ae.current&1|2),e.child}t=t.sibling}o.tail!==null&&He()>Us&&(e.flags|=128,i=!0,Io(o,!1),e.lanes=4194304)}else{if(!i)if(t=ku(l),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Io(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Oe)return pt(e),null}else 2*He()-o.renderingStartTime>Us&&n!==1073741824&&(e.flags|=128,i=!0,Io(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(n=o.last,n!==null?n.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=He(),e.sibling=null,n=Ae.current,ke(Ae,i?n&1|2:n&1),e):(pt(e),null);case 22:case 23:return _m(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Bt&1073741824&&(pt(e),e.subtreeFlags&6&&(e.flags|=8192)):pt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function Qb(t,e){switch(Yp(e),e.tag){case 1:return Nt(e.type)&&Eu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ds(),Le(Ot),Le(vt),sm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rm(e),null;case 13:if(Le(Ae),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));As()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(Ae),null;case 4:return Ds(),null;case 10:return em(e.type._context),null;case 22:case 23:return _m(),null;case 24:return null;default:return null}}var Ml=!1,_t=!1,Jb=typeof WeakSet=="function"?WeakSet:Set,V=null;function ms(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Fe(t,e,i)}else n.current=null}function bf(t,e,n){try{n()}catch(i){Fe(t,e,i)}}var Xv=!1;function Xb(t,e){if(df=gu,t=uE(),Gp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,c=-1,h=-1,f=0,m=0,_=t,v=null;t:for(;;){for(var E;_!==n||r!==0&&_.nodeType!==3||(c=l+r),_!==o||i!==0&&_.nodeType!==3||(h=l+i),_.nodeType===3&&(l+=_.nodeValue.length),(E=_.firstChild)!==null;)v=_,_=E;for(;;){if(_===t)break t;if(v===n&&++f===r&&(c=l),v===o&&++m===i&&(h=l),(E=_.nextSibling)!==null)break;_=v,v=_.parentNode}_=E}n=c===-1||h===-1?null:{start:c,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(ff={focusedElem:t,selectionRange:n},gu=!1,V=e;V!==null;)if(e=V,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,V=t;else for(;V!==null;){e=V;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var T=y.memoizedProps,R=y.memoizedState,S=e.stateNode,w=S.getSnapshotBeforeUpdate(e.elementType===e.type?T:ln(e.type,T),R);S.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(O){Fe(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,V=t;break}V=e.return}return y=Xv,Xv=!1,y}function Zo(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,o!==void 0&&bf(e,n,o)}r=r.next}while(r!==i)}}function Tc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Rf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function oS(t){var e=t.alternate;e!==null&&(t.alternate=null,oS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ln],delete e[pa],delete e[_f],delete e[Mb],delete e[Db])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function aS(t){return t.tag===5||t.tag===3||t.tag===4}function ey(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||aS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wu));else if(i!==4&&(t=t.child,t!==null))for(Lf(t,e,n),t=t.sibling;t!==null;)Lf(t,e,n),t=t.sibling}function Of(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Of(t,e,n),t=t.sibling;t!==null;)Of(t,e,n),t=t.sibling}var lt=null,cn=!1;function _i(t,e,n){for(n=n.child;n!==null;)lS(t,e,n),n=n.sibling}function lS(t,e,n){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(_c,n)}catch{}switch(n.tag){case 5:_t||ms(n,e);case 6:var i=lt,r=cn;lt=null,_i(t,e,n),lt=i,cn=r,lt!==null&&(cn?(t=lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):lt.removeChild(n.stateNode));break;case 18:lt!==null&&(cn?(t=lt,n=n.stateNode,t.nodeType===8?sd(t.parentNode,n):t.nodeType===1&&sd(t,n),ua(t)):sd(lt,n.stateNode));break;case 4:i=lt,r=cn,lt=n.stateNode.containerInfo,cn=!0,_i(t,e,n),lt=i,cn=r;break;case 0:case 11:case 14:case 15:if(!_t&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&bf(n,e,l),r=r.next}while(r!==i)}_i(t,e,n);break;case 1:if(!_t&&(ms(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(c){Fe(n,e,c)}_i(t,e,n);break;case 21:_i(t,e,n);break;case 22:n.mode&1?(_t=(i=_t)||n.memoizedState!==null,_i(t,e,n),_t=i):_i(t,e,n);break;default:_i(t,e,n)}}function ty(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Jb),e.forEach(function(i){var r=l1.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function an(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,l=e,c=l;e:for(;c!==null;){switch(c.tag){case 5:lt=c.stateNode,cn=!1;break e;case 3:lt=c.stateNode.containerInfo,cn=!0;break e;case 4:lt=c.stateNode.containerInfo,cn=!0;break e}c=c.return}if(lt===null)throw Error(U(160));lS(o,l,r),lt=null,cn=!1;var h=r.alternate;h!==null&&(h.return=null),r.return=null}catch(f){Fe(r,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uS(e,t),e=e.sibling}function uS(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(an(e,t),bn(t),i&4){try{Zo(3,t,t.return),Tc(3,t)}catch(T){Fe(t,t.return,T)}try{Zo(5,t,t.return)}catch(T){Fe(t,t.return,T)}}break;case 1:an(e,t),bn(t),i&512&&n!==null&&ms(n,n.return);break;case 5:if(an(e,t),bn(t),i&512&&n!==null&&ms(n,n.return),t.flags&32){var r=t.stateNode;try{sa(r,"")}catch(T){Fe(t,t.return,T)}}if(i&4&&(r=t.stateNode,r!=null)){var o=t.memoizedProps,l=n!==null?n.memoizedProps:o,c=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&R0(r,o),tf(c,l);var f=tf(c,o);for(l=0;l<h.length;l+=2){var m=h[l],_=h[l+1];m==="style"?M0(r,_):m==="dangerouslySetInnerHTML"?N0(r,_):m==="children"?sa(r,_):Mp(r,m,_,f)}switch(c){case"input":Yd(r,o);break;case"textarea":L0(r,o);break;case"select":var v=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var E=o.value;E!=null?ws(r,!!o.multiple,E,!1):v!==!!o.multiple&&(o.defaultValue!=null?ws(r,!!o.multiple,o.defaultValue,!0):ws(r,!!o.multiple,o.multiple?[]:"",!1))}r[pa]=o}catch(T){Fe(t,t.return,T)}}break;case 6:if(an(e,t),bn(t),i&4){if(t.stateNode===null)throw Error(U(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(T){Fe(t,t.return,T)}}break;case 3:if(an(e,t),bn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ua(e.containerInfo)}catch(T){Fe(t,t.return,T)}break;case 4:an(e,t),bn(t);break;case 13:an(e,t),bn(t),r=t.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(pm=He())),i&4&&ty(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(_t=(f=_t)||m,an(e,t),_t=f):an(e,t),bn(t),i&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!m&&t.mode&1)for(V=t,m=t.child;m!==null;){for(_=V=m;V!==null;){switch(v=V,E=v.child,v.tag){case 0:case 11:case 14:case 15:Zo(4,v,v.return);break;case 1:ms(v,v.return);var y=v.stateNode;if(typeof y.componentWillUnmount=="function"){i=v,n=v.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(T){Fe(i,n,T)}}break;case 5:ms(v,v.return);break;case 22:if(v.memoizedState!==null){iy(_);continue}}E!==null?(E.return=v,V=E):iy(_)}m=m.sibling}e:for(m=null,_=t;;){if(_.tag===5){if(m===null){m=_;try{r=_.stateNode,f?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=_.stateNode,h=_.memoizedProps.style,l=h!=null&&h.hasOwnProperty("display")?h.display:null,c.style.display=A0("display",l))}catch(T){Fe(t,t.return,T)}}}else if(_.tag===6){if(m===null)try{_.stateNode.nodeValue=f?"":_.memoizedProps}catch(T){Fe(t,t.return,T)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===t)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;m===_&&(m=null),_=_.return}m===_&&(m=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:an(e,t),bn(t),i&4&&ty(t);break;case 21:break;default:an(e,t),bn(t)}}function bn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(aS(n)){var i=n;break e}n=n.return}throw Error(U(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(sa(r,""),i.flags&=-33);var o=ey(t);Of(t,o,r);break;case 3:case 4:var l=i.stateNode.containerInfo,c=ey(t);Lf(t,c,l);break;default:throw Error(U(161))}}catch(h){Fe(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function e1(t,e,n){V=t,cS(t)}function cS(t,e,n){for(var i=(t.mode&1)!==0;V!==null;){var r=V,o=r.child;if(r.tag===22&&i){var l=r.memoizedState!==null||Ml;if(!l){var c=r.alternate,h=c!==null&&c.memoizedState!==null||_t;c=Ml;var f=_t;if(Ml=l,(_t=h)&&!f)for(V=r;V!==null;)l=V,h=l.child,l.tag===22&&l.memoizedState!==null?ry(r):h!==null?(h.return=l,V=h):ry(r);for(;o!==null;)V=o,cS(o),o=o.sibling;V=r,Ml=c,_t=f}ny(t)}else r.subtreeFlags&8772&&o!==null?(o.return=r,V=o):ny(t)}}function ny(t){for(;V!==null;){var e=V;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_t||Tc(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!_t)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:ln(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Bv(e,o,i);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Bv(e,l,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var m=f.memoizedState;if(m!==null){var _=m.dehydrated;_!==null&&ua(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}_t||e.flags&512&&Rf(e)}catch(v){Fe(e,e.return,v)}}if(e===t){V=null;break}if(n=e.sibling,n!==null){n.return=e.return,V=n;break}V=e.return}}function iy(t){for(;V!==null;){var e=V;if(e===t){V=null;break}var n=e.sibling;if(n!==null){n.return=e.return,V=n;break}V=e.return}}function ry(t){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Tc(4,e)}catch(h){Fe(e,n,h)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(h){Fe(e,r,h)}}var o=e.return;try{Rf(e)}catch(h){Fe(e,o,h)}break;case 5:var l=e.return;try{Rf(e)}catch(h){Fe(e,l,h)}}}catch(h){Fe(e,e.return,h)}if(e===t){V=null;break}var c=e.sibling;if(c!==null){c.return=e.return,V=c;break}V=e.return}}var t1=Math.ceil,Lu=li.ReactCurrentDispatcher,dm=li.ReactCurrentOwner,Xt=li.ReactCurrentBatchConfig,ve=0,st=null,Ze=null,ct=0,Bt=0,_s=Ki(0),Ye=0,wa=null,Pr=0,Ic=0,fm=0,qo=null,kt=null,pm=0,Us=1/0,$n=null,Ou=!1,Nf=null,Fi=null,Dl=!1,bi=null,Nu=0,Go=0,Af=null,eu=-1,tu=0;function Tt(){return ve&6?He():eu!==-1?eu:eu=He()}function Ui(t){return t.mode&1?ve&2&&ct!==0?ct&-ct:Ub.transition!==null?(tu===0&&(tu=q0()),tu):(t=Ee,t!==0||(t=window.event,t=t===void 0?16:eE(t.type)),t):1}function _n(t,e,n,i){if(50<Go)throw Go=0,Af=null,Error(U(185));Ba(t,n,i),(!(ve&2)||t!==st)&&(t===st&&(!(ve&2)&&(Ic|=n),Ye===4&&Si(t,ct)),At(t,i),n===1&&ve===0&&!(e.mode&1)&&(Us=He()+500,Ec&&Yi()))}function At(t,e){var n=t.callbackNode;Uk(t,e);var i=_u(t,t===st?ct:0);if(i===0)n!==null&&fv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&fv(n),e===1)t.tag===0?Fb(sy.bind(null,t)):yE(sy.bind(null,t)),Nb(function(){!(ve&6)&&Yi()}),n=null;else{switch(G0(i)){case 1:n=zp;break;case 4:n=V0;break;case 16:n=mu;break;case 536870912:n=Z0;break;default:n=mu}n=vS(n,hS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function hS(t,e){if(eu=-1,tu=0,ve&6)throw Error(U(327));var n=t.callbackNode;if(Is()&&t.callbackNode!==n)return null;var i=_u(t,t===st?ct:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Au(t,i);else{e=i;var r=ve;ve|=2;var o=fS();(st!==t||ct!==e)&&($n=null,Us=He()+500,_r(t,e));do try{r1();break}catch(c){dS(t,c)}while(1);Xp(),Lu.current=o,ve=r,Ze!==null?e=0:(st=null,ct=0,e=Ye)}if(e!==0){if(e===2&&(r=af(t),r!==0&&(i=r,e=Mf(t,r))),e===1)throw n=wa,_r(t,0),Si(t,i),At(t,He()),n;if(e===6)Si(t,i);else{if(r=t.current.alternate,!(i&30)&&!n1(r)&&(e=Au(t,i),e===2&&(o=af(t),o!==0&&(i=o,e=Mf(t,o))),e===1))throw n=wa,_r(t,0),Si(t,i),At(t,He()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(U(345));case 2:rr(t,kt,$n);break;case 3:if(Si(t,i),(i&130023424)===i&&(e=pm+500-He(),10<e)){if(_u(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Tt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=mf(rr.bind(null,t,kt,$n),e);break}rr(t,kt,$n);break;case 4:if(Si(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var l=31-mn(i);o=1<<l,l=e[l],l>r&&(r=l),i&=~o}if(i=r,i=He()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*t1(i/1960))-i,10<i){t.timeoutHandle=mf(rr.bind(null,t,kt,$n),i);break}rr(t,kt,$n);break;case 5:rr(t,kt,$n);break;default:throw Error(U(329))}}}return At(t,He()),t.callbackNode===n?hS.bind(null,t):null}function Mf(t,e){var n=qo;return t.current.memoizedState.isDehydrated&&(_r(t,e).flags|=256),t=Au(t,e),t!==2&&(e=kt,kt=n,e!==null&&Df(e)),t}function Df(t){kt===null?kt=t:kt.push.apply(kt,t)}function n1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!yn(o(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Si(t,e){for(e&=~fm,e&=~Ic,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-mn(e),i=1<<n;t[n]=-1,e&=~i}}function sy(t){if(ve&6)throw Error(U(327));Is();var e=_u(t,0);if(!(e&1))return At(t,He()),null;var n=Au(t,e);if(t.tag!==0&&n===2){var i=af(t);i!==0&&(e=i,n=Mf(t,i))}if(n===1)throw n=wa,_r(t,0),Si(t,e),At(t,He()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,rr(t,kt,$n),At(t,He()),null}function mm(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(Us=He()+500,Ec&&Yi())}}function xr(t){bi!==null&&bi.tag===0&&!(ve&6)&&Is();var e=ve;ve|=1;var n=Xt.transition,i=Ee;try{if(Xt.transition=null,Ee=1,t)return t()}finally{Ee=i,Xt.transition=n,ve=e,!(ve&6)&&Yi()}}function _m(){Bt=_s.current,Le(_s)}function _r(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ob(n)),Ze!==null)for(n=Ze.return;n!==null;){var i=n;switch(Yp(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Eu();break;case 3:Ds(),Le(Ot),Le(vt),sm();break;case 5:rm(i);break;case 4:Ds();break;case 13:Le(Ae);break;case 19:Le(Ae);break;case 10:em(i.type._context);break;case 22:case 23:_m()}n=n.return}if(st=t,Ze=t=Bi(t.current,null),ct=Bt=e,Ye=0,wa=null,fm=Ic=Pr=0,kt=qo=null,ur!==null){for(e=0;e<ur.length;e++)if(n=ur[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,o=n.pending;if(o!==null){var l=o.next;o.next=r,i.next=l}n.pending=i}ur=null}return t}function dS(t,e){do{var n=Ze;try{if(Xp(),Ql.current=Ru,bu){for(var i=Me.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}bu=!1}if(Ir=0,tt=Ge=Me=null,Vo=!1,ga=0,dm.current=null,n===null||n.return===null){Ye=1,wa=e,Ze=null;break}e:{var o=t,l=n.return,c=n,h=e;if(e=ct,c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var f=h,m=c,_=m.tag;if(!(m.mode&1)&&(_===0||_===11||_===15)){var v=m.alternate;v?(m.updateQueue=v.updateQueue,m.memoizedState=v.memoizedState,m.lanes=v.lanes):(m.updateQueue=null,m.memoizedState=null)}var E=Zv(l);if(E!==null){E.flags&=-257,qv(E,l,c,o,e),E.mode&1&&Vv(o,f,e),e=E,h=f;var y=e.updateQueue;if(y===null){var T=new Set;T.add(h),e.updateQueue=T}else y.add(h);break e}else{if(!(e&1)){Vv(o,f,e),gm();break e}h=Error(U(426))}}else if(Oe&&c.mode&1){var R=Zv(l);if(R!==null){!(R.flags&65536)&&(R.flags|=256),qv(R,l,c,o,e),Qp(Fs(h,c));break e}}o=h=Fs(h,c),Ye!==4&&(Ye=2),qo===null?qo=[o]:qo.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var S=KE(o,h,e);Uv(o,S);break e;case 1:c=h;var w=o.type,I=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Fi===null||!Fi.has(I)))){o.flags|=65536,e&=-e,o.lanes|=e;var O=YE(o,c,e);Uv(o,O);break e}}o=o.return}while(o!==null)}mS(n)}catch(B){e=B,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(1)}function fS(){var t=Lu.current;return Lu.current=Ru,t===null?Ru:t}function gm(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),st===null||!(Pr&268435455)&&!(Ic&268435455)||Si(st,ct)}function Au(t,e){var n=ve;ve|=2;var i=fS();(st!==t||ct!==e)&&($n=null,_r(t,e));do try{i1();break}catch(r){dS(t,r)}while(1);if(Xp(),ve=n,Lu.current=i,Ze!==null)throw Error(U(261));return st=null,ct=0,Ye}function i1(){for(;Ze!==null;)pS(Ze)}function r1(){for(;Ze!==null&&!bk();)pS(Ze)}function pS(t){var e=gS(t.alternate,t,Bt);t.memoizedProps=t.pendingProps,e===null?mS(t):Ze=e,dm.current=null}function mS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Qb(n,e),n!==null){n.flags&=32767,Ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ye=6,Ze=null;return}}else if(n=Yb(n,e,Bt),n!==null){Ze=n;return}if(e=e.sibling,e!==null){Ze=e;return}Ze=e=t}while(e!==null);Ye===0&&(Ye=5)}function rr(t,e,n){var i=Ee,r=Xt.transition;try{Xt.transition=null,Ee=1,s1(t,e,n,i)}finally{Xt.transition=r,Ee=i}return null}function s1(t,e,n,i){do Is();while(bi!==null);if(ve&6)throw Error(U(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Bk(t,o),t===st&&(Ze=st=null,ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dl||(Dl=!0,vS(mu,function(){return Is(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Xt.transition,Xt.transition=null;var l=Ee;Ee=1;var c=ve;ve|=4,dm.current=null,Xb(t,n),uS(n,t),Ib(ff),gu=!!df,ff=df=null,t.current=n,e1(n),Rk(),ve=c,Ee=l,Xt.transition=o}else t.current=n;if(Dl&&(Dl=!1,bi=t,Nu=r),o=t.pendingLanes,o===0&&(Fi=null),Nk(n.stateNode),At(t,He()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Ou)throw Ou=!1,t=Nf,Nf=null,t;return Nu&1&&t.tag!==0&&Is(),o=t.pendingLanes,o&1?t===Af?Go++:(Go=0,Af=t):Go=0,Yi(),null}function Is(){if(bi!==null){var t=G0(Nu),e=Xt.transition,n=Ee;try{if(Xt.transition=null,Ee=16>t?16:t,bi===null)var i=!1;else{if(t=bi,bi=null,Nu=0,ve&6)throw Error(U(331));var r=ve;for(ve|=4,V=t.current;V!==null;){var o=V,l=o.child;if(V.flags&16){var c=o.deletions;if(c!==null){for(var h=0;h<c.length;h++){var f=c[h];for(V=f;V!==null;){var m=V;switch(m.tag){case 0:case 11:case 15:Zo(8,m,o)}var _=m.child;if(_!==null)_.return=m,V=_;else for(;V!==null;){m=V;var v=m.sibling,E=m.return;if(oS(m),m===f){V=null;break}if(v!==null){v.return=E,V=v;break}V=E}}}var y=o.alternate;if(y!==null){var T=y.child;if(T!==null){y.child=null;do{var R=T.sibling;T.sibling=null,T=R}while(T!==null)}}V=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,V=l;else e:for(;V!==null;){if(o=V,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Zo(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,V=S;break e}V=o.return}}var w=t.current;for(V=w;V!==null;){l=V;var I=l.child;if(l.subtreeFlags&2064&&I!==null)I.return=l,V=I;else e:for(l=w;V!==null;){if(c=V,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Tc(9,c)}}catch(B){Fe(c,c.return,B)}if(c===l){V=null;break e}var O=c.sibling;if(O!==null){O.return=c.return,V=O;break e}V=c.return}}if(ve=r,Yi(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(_c,t)}catch{}i=!0}return i}finally{Ee=n,Xt.transition=e}}return!1}function oy(t,e,n){e=Fs(n,e),e=KE(t,e,1),t=Di(t,e,1),e=Tt(),t!==null&&(Ba(t,1,e),At(t,e))}function Fe(t,e,n){if(t.tag===3)oy(t,t,n);else for(;e!==null;){if(e.tag===3){oy(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Fi===null||!Fi.has(i))){t=Fs(n,t),t=YE(e,t,1),e=Di(e,t,1),t=Tt(),e!==null&&(Ba(e,1,t),At(e,t));break}}e=e.return}}function o1(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Tt(),t.pingedLanes|=t.suspendedLanes&n,st===t&&(ct&n)===n&&(Ye===4||Ye===3&&(ct&130023424)===ct&&500>He()-pm?_r(t,0):fm|=n),At(t,e)}function _S(t,e){e===0&&(t.mode&1?(e=Pl,Pl<<=1,!(Pl&130023424)&&(Pl=4194304)):e=1);var n=Tt();t=ii(t,e),t!==null&&(Ba(t,e,n),At(t,n))}function a1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_S(t,n)}function l1(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(U(314))}i!==null&&i.delete(e),_S(t,n)}var gS;gS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ot.current)bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return bt=!1,Kb(t,e,n);bt=!!(t.flags&131072)}else bt=!1,Oe&&e.flags&1048576&&wE(e,Tu,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Xl(t,e),t=e.pendingProps;var r=Ns(e,vt.current);Ts(e,n),r=am(null,e,i,t,r,n);var o=lm();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nt(i)?(o=!0,Su(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,nm(e),r.updater=Sc,e.stateNode=r,r._reactInternals=e,Sf(e,i,t,n),e=If(null,e,i,!0,o,n)):(e.tag=0,Oe&&o&&Kp(e),St(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Xl(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=c1(i),t=ln(i,t),r){case 0:e=Tf(null,e,i,t,n);break e;case 1:e=Yv(null,e,i,t,n);break e;case 11:e=Gv(null,e,i,t,n);break e;case 14:e=Kv(null,e,i,ln(i.type,t),n);break e}throw Error(U(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ln(i,r),Tf(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ln(i,r),Yv(t,e,i,r,n);case 3:e:{if(eS(e),t===null)throw Error(U(387));i=e.pendingProps,o=e.memoizedState,r=o.element,TE(t,e),xu(e,i,null,n);var l=e.memoizedState;if(i=l.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=Fs(Error(U(423)),e),e=Qv(t,e,i,n,r);break e}else if(i!==r){r=Fs(Error(U(424)),e),e=Qv(t,e,i,n,r);break e}else for(zt=Mi(e.stateNode.containerInfo.firstChild),jt=e,Oe=!0,hn=null,n=kE(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(As(),i===r){e=ri(t,e,n);break e}St(t,e,i,n)}e=e.child}return e;case 5:return bE(e),t===null&&yf(e),i=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,l=r.children,pf(i,r)?l=null:o!==null&&pf(i,o)&&(e.flags|=32),XE(t,e),St(t,e,l,n),e.child;case 6:return t===null&&yf(e),null;case 13:return tS(t,e,n);case 4:return im(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Ms(e,null,i,n):St(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ln(i,r),Gv(t,e,i,r,n);case 7:return St(t,e,e.pendingProps,n),e.child;case 8:return St(t,e,e.pendingProps.children,n),e.child;case 12:return St(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,l=r.value,ke(Iu,i._currentValue),i._currentValue=l,o!==null)if(yn(o.value,l)){if(o.children===r.children&&!Ot.current){e=ri(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){l=o.child;for(var h=c.firstContext;h!==null;){if(h.context===i){if(o.tag===1){h=Qn(-1,n&-n),h.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var m=f.pending;m===null?h.next=h:(h.next=m.next,m.next=h),f.pending=h}}o.lanes|=n,h=o.alternate,h!==null&&(h.lanes|=n),wf(o.return,n,e),c.lanes|=n;break}h=h.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(U(341));l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),wf(l,n,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}St(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Ts(e,n),r=tn(r),i=i(r),e.flags|=1,St(t,e,i,n),e.child;case 14:return i=e.type,r=ln(i,e.pendingProps),r=ln(i.type,r),Kv(t,e,i,r,n);case 15:return QE(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ln(i,r),Xl(t,e),e.tag=1,Nt(i)?(t=!0,Su(e)):t=!1,Ts(e,n),PE(e,i,r),Sf(e,i,r,n),If(null,e,i,!0,t,n);case 19:return nS(t,e,n);case 22:return JE(t,e,n)}throw Error(U(156,e.tag))};function vS(t,e){return $0(t,e)}function u1(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(t,e,n,i){return new u1(t,e,n,i)}function vm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function c1(t){if(typeof t=="function")return vm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fp)return 11;if(t===Up)return 14}return 2}function Bi(t,e){var n=t.alternate;return n===null?(n=Jt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nu(t,e,n,i,r,o){var l=2;if(i=t,typeof t=="function")vm(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case os:return gr(n.children,r,o,e);case Dp:l=8,r|=8;break;case Vd:return t=Jt(12,n,e,r|2),t.elementType=Vd,t.lanes=o,t;case Zd:return t=Jt(13,n,e,r),t.elementType=Zd,t.lanes=o,t;case qd:return t=Jt(19,n,e,r),t.elementType=qd,t.lanes=o,t;case x0:return Pc(n,r,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case I0:l=10;break e;case P0:l=9;break e;case Fp:l=11;break e;case Up:l=14;break e;case yi:l=16,i=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Jt(l,n,e,r),e.elementType=t,e.type=i,e.lanes=o,e}function gr(t,e,n,i){return t=Jt(7,t,i,e),t.lanes=n,t}function Pc(t,e,n,i){return t=Jt(22,t,i,e),t.elementType=x0,t.lanes=n,t.stateNode={isHidden:!1},t}function fd(t,e,n){return t=Jt(6,t,null,e),t.lanes=n,t}function pd(t,e,n){return e=Jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function h1(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gh(0),this.expirationTimes=Gh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gh(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function ym(t,e,n,i,r,o,l,c,h){return t=new h1(t,e,n,c,h),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Jt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nm(o),t}function d1(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ss,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function yS(t){if(!t)return Vi;t=t._reactInternals;e:{if(jr(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Nt(n))return vE(t,n,e)}return e}function wS(t,e,n,i,r,o,l,c,h){return t=ym(n,i,!0,t,r,o,l,c,h),t.context=yS(null),n=t.current,i=Tt(),r=Ui(n),o=Qn(i,r),o.callback=e??null,Di(n,o,r),t.current.lanes=r,Ba(t,r,i),At(t,i),t}function xc(t,e,n,i){var r=e.current,o=Tt(),l=Ui(r);return n=yS(n),e.context===null?e.context=n:e.pendingContext=n,e=Qn(o,l),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Di(r,e,l),t!==null&&(_n(t,r,l,o),Yl(t,r,l)),l}function Mu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ay(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function wm(t,e){ay(t,e),(t=t.alternate)&&ay(t,e)}function f1(){return null}var ES=typeof reportError=="function"?reportError:function(t){console.error(t)};function Em(t){this._internalRoot=t}kc.prototype.render=Em.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));xc(t,e,null,null)};kc.prototype.unmount=Em.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xr(function(){xc(null,t,null,null)}),e[ni]=null}};function kc(t){this._internalRoot=t}kc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Q0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ei.length&&e!==0&&e<Ei[n].priority;n++);Ei.splice(n,0,t),n===0&&X0(t)}};function Sm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ly(){}function p1(t,e,n,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var f=Mu(l);o.call(f)}}var l=wS(e,i,t,0,null,!1,!1,"",ly);return t._reactRootContainer=l,t[ni]=l.current,da(t.nodeType===8?t.parentNode:t),xr(),l}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var c=i;i=function(){var f=Mu(h);c.call(f)}}var h=ym(t,0,!1,null,null,!1,!1,"",ly);return t._reactRootContainer=h,t[ni]=h.current,da(t.nodeType===8?t.parentNode:t),xr(function(){xc(e,h,n,i)}),h}function Rc(t,e,n,i,r){var o=n._reactRootContainer;if(o){var l=o;if(typeof r=="function"){var c=r;r=function(){var h=Mu(l);c.call(h)}}xc(e,l,t,r)}else l=p1(n,e,t,r,i);return Mu(l)}K0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Do(e.pendingLanes);n!==0&&(jp(e,n|1),At(e,He()),!(ve&6)&&(Us=He()+500,Yi()))}break;case 13:xr(function(){var i=ii(t,1);if(i!==null){var r=Tt();_n(i,t,1,r)}}),wm(t,1)}};Wp=function(t){if(t.tag===13){var e=ii(t,134217728);if(e!==null){var n=Tt();_n(e,t,134217728,n)}wm(t,134217728)}};Y0=function(t){if(t.tag===13){var e=Ui(t),n=ii(t,e);if(n!==null){var i=Tt();_n(n,t,e,i)}wm(t,e)}};Q0=function(){return Ee};J0=function(t,e){var n=Ee;try{return Ee=t,e()}finally{Ee=n}};rf=function(t,e,n){switch(e){case"input":if(Yd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=wc(i);if(!r)throw Error(U(90));b0(i),Yd(i,r)}}}break;case"textarea":L0(t,n);break;case"select":e=n.value,e!=null&&ws(t,!!n.multiple,e,!1)}};U0=mm;B0=xr;var m1={usingClientEntryPoint:!1,Events:[ja,cs,wc,D0,F0,mm]},Po={findFiberByHostInstance:lr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},_1={bundleType:Po.bundleType,version:Po.version,rendererPackageName:Po.rendererPackageName,rendererConfig:Po.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:li.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=W0(t),t===null?null:t.stateNode},findFiberByHostInstance:Po.findFiberByHostInstance||f1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fl.isDisabled&&Fl.supportsFiber)try{_c=Fl.inject(_1),Mn=Fl}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m1;$t.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sm(e))throw Error(U(200));return d1(t,e,null,n)};$t.createRoot=function(t,e){if(!Sm(t))throw Error(U(299));var n=!1,i="",r=ES;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=ym(t,1,!1,null,null,n,!1,i,r),t[ni]=e.current,da(t.nodeType===8?t.parentNode:t),new Em(e)};$t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=W0(e),t=t===null?null:t.stateNode,t};$t.flushSync=function(t){return xr(t)};$t.hydrate=function(t,e,n){if(!bc(e))throw Error(U(200));return Rc(null,t,e,!0,n)};$t.hydrateRoot=function(t,e,n){if(!Sm(t))throw Error(U(405));var i=n!=null&&n.hydratedSources||null,r=!1,o="",l=ES;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=wS(e,null,t,1,n??null,r,!1,o,l),t[ni]=e.current,da(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new kc(e)};$t.render=function(t,e,n){if(!bc(e))throw Error(U(200));return Rc(null,t,e,!1,n)};$t.unmountComponentAtNode=function(t){if(!bc(t))throw Error(U(40));return t._reactRootContainer?(xr(function(){Rc(null,null,t,!1,function(){t._reactRootContainer=null,t[ni]=null})}),!0):!1};$t.unstable_batchedUpdates=mm;$t.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!bc(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Rc(t,e,n,!1,i)};$t.version="18.2.0-next-9e3b772b8-20220608";function SS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SS)}catch(t){console.error(t)}}SS(),w0.exports=$t;var Cm=w0.exports,uy=Cm;Hd.createRoot=uy.createRoot,Hd.hydrateRoot=uy.hydrateRoot;/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ea(){return Ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ea.apply(this,arguments)}var Ri;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ri||(Ri={}));const cy="popstate";function g1(t){t===void 0&&(t={});function e(r,o){let{pathname:l="/",search:c="",hash:h=""}=Wr(r.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Ff("",{pathname:l,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){let l=r.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let h=r.location.href,f=h.indexOf("#");c=f===-1?h:h.slice(0,f)}return c+"#"+(typeof o=="string"?o:CS(o))}function i(r,o){Lc(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return y1(e,n,i,t)}function Qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Lc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function v1(){return Math.random().toString(36).substr(2,8)}function hy(t,e){return{usr:t.state,key:t.key,idx:e}}function Ff(t,e,n,i){return n===void 0&&(n=null),Ea({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wr(e):e,{state:n,key:e&&e.key||i||v1()})}function CS(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Wr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function y1(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,c=Ri.Pop,h=null,f=m();f==null&&(f=0,l.replaceState(Ea({},l.state,{idx:f}),""));function m(){return(l.state||{idx:null}).idx}function _(){c=Ri.Pop;let R=m(),S=R==null?null:R-f;f=R,h&&h({action:c,location:T.location,delta:S})}function v(R,S){c=Ri.Push;let w=Ff(T.location,R,S);n&&n(w,R),f=m()+1;let I=hy(w,f),O=T.createHref(w);try{l.pushState(I,"",O)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;r.location.assign(O)}o&&h&&h({action:c,location:T.location,delta:1})}function E(R,S){c=Ri.Replace;let w=Ff(T.location,R,S);n&&n(w,R),f=m();let I=hy(w,f),O=T.createHref(w);l.replaceState(I,"",O),o&&h&&h({action:c,location:T.location,delta:0})}function y(R){let S=r.location.origin!=="null"?r.location.origin:r.location.href,w=typeof R=="string"?R:CS(R);return Qe(S,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,S)}let T={get action(){return c},get location(){return t(r,l)},listen(R){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(cy,_),h=R,()=>{r.removeEventListener(cy,_),h=null}},createHref(R){return e(r,R)},createURL:y,encodeLocation(R){let S=y(R);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:E,go(R){return l.go(R)}};return T}var dy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(dy||(dy={}));function w1(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?Wr(e):e,r=PS(i.pathname||"/",n);if(r==null)return null;let o=TS(t);E1(o);let l=null;for(let c=0;l==null&&c<o.length;++c)l=R1(o[c],N1(r));return l}function TS(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(o,l,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(Qe(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let f=vr([i,h.relativePath]),m=n.concat(h);o.children&&o.children.length>0&&(Qe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),TS(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:k1(f,o.index),routesMeta:m})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))r(o,l);else for(let h of IS(o.path))r(o,l,h)}),e}function IS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=IS(i.join("/")),c=[];return c.push(...l.map(h=>h===""?o:[o,h].join("/"))),r&&c.push(...l),c.map(h=>t.startsWith("/")&&h===""?"/":h)}function E1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:b1(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const S1=/^:\w+$/,C1=3,T1=2,I1=1,P1=10,x1=-2,fy=t=>t==="*";function k1(t,e){let n=t.split("/"),i=n.length;return n.some(fy)&&(i+=x1),e&&(i+=T1),n.filter(r=>!fy(r)).reduce((r,o)=>r+(S1.test(o)?C1:o===""?I1:P1),i)}function b1(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function R1(t,e){let{routesMeta:n}=t,i={},r="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],h=l===n.length-1,f=r==="/"?e:e.slice(r.length)||"/",m=L1({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},f);if(!m)return null;Object.assign(i,m.params);let _=c.route;o.push({params:i,pathname:vr([r,m.pathname]),pathnameBase:B1(vr([r,m.pathnameBase])),route:_}),m.pathnameBase!=="/"&&(r=vr([r,m.pathnameBase]))}return o}function L1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=O1(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((f,m,_)=>{let{paramName:v,isOptional:E}=m;if(v==="*"){let T=c[_]||"";l=o.slice(0,o.length-T.length).replace(/(.)\/+$/,"$1")}const y=c[_];return E&&!y?f[v]=void 0:f[v]=A1(y||"",v),f},{}),pathname:o,pathnameBase:l,pattern:t}}function O1(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Lc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(l,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function N1(t){try{return decodeURI(t)}catch(e){return Lc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function A1(t,e){try{return decodeURIComponent(t)}catch(n){return Lc(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function PS(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function M1(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Wr(t):t;return{pathname:n?n.startsWith("/")?n:D1(n,e):e,search:z1(i),hash:j1(r)}}function D1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function md(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function F1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function U1(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=Wr(t):(r=Ea({},t),Qe(!r.pathname||!r.pathname.includes("?"),md("?","pathname","search",r)),Qe(!r.pathname||!r.pathname.includes("#"),md("#","pathname","hash",r)),Qe(!r.search||!r.search.includes("#"),md("#","search","hash",r)));let o=t===""||r.pathname==="",l=o?"/":r.pathname,c;if(i||l==null)c=n;else{let _=e.length-1;if(l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),_-=1;r.pathname=v.join("/")}c=_>=0?e[_]:"/"}let h=M1(r,c),f=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}const vr=t=>t.join("/").replace(/\/\/+/g,"/"),B1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),z1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,j1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function W1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const xS=["post","put","patch","delete"];new Set(xS);const H1=["get",...xS];new Set(H1);/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Du(){return Du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Du.apply(this,arguments)}const Tm=A.createContext(null),$1=A.createContext(null),Oc=A.createContext(null),Nc=A.createContext(null),Gs=A.createContext({outlet:null,matches:[],isDataRoute:!1}),kS=A.createContext(null);function Ac(){return A.useContext(Nc)!=null}function bS(){return Ac()||Qe(!1),A.useContext(Nc).location}function RS(t){A.useContext(Oc).static||A.useLayoutEffect(t)}function Mc(){let{isDataRoute:t}=A.useContext(Gs);return t?iR():V1()}function V1(){Ac()||Qe(!1);let t=A.useContext(Tm),{basename:e,navigator:n}=A.useContext(Oc),{matches:i}=A.useContext(Gs),{pathname:r}=bS(),o=JSON.stringify(F1(i).map(h=>h.pathnameBase)),l=A.useRef(!1);return RS(()=>{l.current=!0}),A.useCallback(function(h,f){if(f===void 0&&(f={}),!l.current)return;if(typeof h=="number"){n.go(h);return}let m=U1(h,JSON.parse(o),r,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:vr([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,o,r,t])}function Z1(t,e){return q1(t,e)}function q1(t,e,n){Ac()||Qe(!1);let{navigator:i}=A.useContext(Oc),{matches:r}=A.useContext(Gs),o=r[r.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let h=bS(),f;if(e){var m;let T=typeof e=="string"?Wr(e):e;c==="/"||(m=T.pathname)!=null&&m.startsWith(c)||Qe(!1),f=T}else f=h;let _=f.pathname||"/",v=c==="/"?_:_.slice(c.length)||"/",E=w1(t,{pathname:v}),y=J1(E&&E.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:vr([c,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?c:vr([c,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),r,n);return e&&y?A.createElement(Nc.Provider,{value:{location:Du({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Ri.Pop}},y):y}function G1(){let t=nR(),e=W1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:r},n):null,o)}const K1=A.createElement(G1,null);class Y1 extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?A.createElement(Gs.Provider,{value:this.props.routeContext},A.createElement(kS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Q1(t){let{routeContext:e,match:n,children:i}=t,r=A.useContext(Tm);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(Gs.Provider,{value:e},i)}function J1(t,e,n){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var r;if((r=n)!=null&&r.errors)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let c=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id]));c>=0||Qe(!1),o=o.slice(0,Math.min(o.length,c+1))}return o.reduceRight((c,h,f)=>{let m=h.route.id?l==null?void 0:l[h.route.id]:null,_=null;n&&(_=h.route.errorElement||K1);let v=e.concat(o.slice(0,f+1)),E=()=>{let y;return m?y=_:h.route.Component?y=A.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=c,A.createElement(Q1,{match:h,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?A.createElement(Y1,{location:n.location,revalidation:n.revalidation,component:_,error:m,children:E(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):E()},null)}var LS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(LS||{}),Fu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Fu||{});function X1(t){let e=A.useContext(Tm);return e||Qe(!1),e}function eR(t){let e=A.useContext($1);return e||Qe(!1),e}function tR(t){let e=A.useContext(Gs);return e||Qe(!1),e}function OS(t){let e=tR(),n=e.matches[e.matches.length-1];return n.route.id||Qe(!1),n.route.id}function nR(){var t;let e=A.useContext(kS),n=eR(Fu.UseRouteError),i=OS(Fu.UseRouteError);return e||((t=n.errors)==null?void 0:t[i])}function iR(){let{router:t}=X1(LS.UseNavigateStable),e=OS(Fu.UseNavigateStable),n=A.useRef(!1);return RS(()=>{n.current=!0}),A.useCallback(function(r,o){o===void 0&&(o={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Du({fromRouteId:e},o)))},[t,e])}function rs(t){Qe(!1)}function rR(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Ri.Pop,navigator:o,static:l=!1}=t;Ac()&&Qe(!1);let c=e.replace(/^\/*/,"/"),h=A.useMemo(()=>({basename:c,navigator:o,static:l}),[c,o,l]);typeof i=="string"&&(i=Wr(i));let{pathname:f="/",search:m="",hash:_="",state:v=null,key:E="default"}=i,y=A.useMemo(()=>{let T=PS(f,c);return T==null?null:{location:{pathname:T,search:m,hash:_,state:v,key:E},navigationType:r}},[c,f,m,_,v,E,r]);return y==null?null:A.createElement(Oc.Provider,{value:h},A.createElement(Nc.Provider,{children:n,value:y}))}function sR(t){let{children:e,location:n}=t;return Z1(Uf(e),n)}new Promise(()=>{});function Uf(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(i,r)=>{if(!A.isValidElement(i))return;let o=[...e,r];if(i.type===A.Fragment){n.push.apply(n,Uf(i.props.children,o));return}i.type!==rs&&Qe(!1),!i.props.index||!i.props.children||Qe(!1);let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Uf(i.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const oR="startTransition",py=ak[oR];function aR(t){let{basename:e,children:n,future:i,window:r}=t,o=A.useRef();o.current==null&&(o.current=g1({window:r,v5Compat:!0}));let l=o.current,[c,h]=A.useState({action:l.action,location:l.location}),{v7_startTransition:f}=i||{},m=A.useCallback(_=>{f&&py?py(()=>h(_)):h(_)},[h,f]);return A.useLayoutEffect(()=>l.listen(m),[l,m]),A.createElement(rR,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:l})}var my;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(my||(my={}));var _y;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(_y||(_y={}));function NS(t,e){return function(){return t.apply(e,arguments)}}const{toString:lR}=Object.prototype,{getPrototypeOf:Im}=Object,Dc=(t=>e=>{const n=lR.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Bn=t=>(t=t.toLowerCase(),e=>Dc(e)===t),Fc=t=>e=>typeof e===t,{isArray:Ks}=Array,Sa=Fc("undefined");function uR(t){return t!==null&&!Sa(t)&&t.constructor!==null&&!Sa(t.constructor)&&en(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const AS=Bn("ArrayBuffer");function cR(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&AS(t.buffer),e}const hR=Fc("string"),en=Fc("function"),MS=Fc("number"),Uc=t=>t!==null&&typeof t=="object",dR=t=>t===!0||t===!1,iu=t=>{if(Dc(t)!=="object")return!1;const e=Im(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},fR=Bn("Date"),pR=Bn("File"),mR=Bn("Blob"),_R=Bn("FileList"),gR=t=>Uc(t)&&en(t.pipe),vR=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||en(t.append)&&((e=Dc(t))==="formdata"||e==="object"&&en(t.toString)&&t.toString()==="[object FormData]"))},yR=Bn("URLSearchParams"),wR=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ha(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),Ks(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let c;for(i=0;i<l;i++)c=o[i],e.call(null,t[c],c,t)}}function DS(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const FS=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),US=t=>!Sa(t)&&t!==FS;function Bf(){const{caseless:t}=US(this)&&this||{},e={},n=(i,r)=>{const o=t&&DS(e,r)||r;iu(e[o])&&iu(i)?e[o]=Bf(e[o],i):iu(i)?e[o]=Bf({},i):Ks(i)?e[o]=i.slice():e[o]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&Ha(arguments[i],n);return e}const ER=(t,e,n,{allOwnKeys:i}={})=>(Ha(e,(r,o)=>{n&&en(r)?t[o]=NS(r,n):t[o]=r},{allOwnKeys:i}),t),SR=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),CR=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},TR=(t,e,n,i)=>{let r,o,l;const c={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),o=r.length;o-- >0;)l=r[o],(!i||i(l,t,e))&&!c[l]&&(e[l]=t[l],c[l]=!0);t=n!==!1&&Im(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},IR=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},PR=t=>{if(!t)return null;if(Ks(t))return t;let e=t.length;if(!MS(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},xR=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Im(Uint8Array)),kR=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=i.next())&&!r.done;){const o=r.value;e.call(t,o[0],o[1])}},bR=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},RR=Bn("HTMLFormElement"),LR=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),gy=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),OR=Bn("RegExp"),BS=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Ha(n,(r,o)=>{let l;(l=e(r,o,t))!==!1&&(i[o]=l||r)}),Object.defineProperties(t,i)},NR=t=>{BS(t,(e,n)=>{if(en(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(en(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},AR=(t,e)=>{const n={},i=r=>{r.forEach(o=>{n[o]=!0})};return Ks(t)?i(t):i(String(t).split(e)),n},MR=()=>{},DR=(t,e)=>(t=+t,Number.isFinite(t)?t:e),_d="abcdefghijklmnopqrstuvwxyz",vy="0123456789",zS={DIGIT:vy,ALPHA:_d,ALPHA_DIGIT:_d+_d.toUpperCase()+vy},FR=(t=16,e=zS.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n};function UR(t){return!!(t&&en(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const BR=t=>{const e=new Array(10),n=(i,r)=>{if(Uc(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const o=Ks(i)?[]:{};return Ha(i,(l,c)=>{const h=n(l,r+1);!Sa(h)&&(o[c]=h)}),e[r]=void 0,o}}return i};return n(t,0)},zR=Bn("AsyncFunction"),jR=t=>t&&(Uc(t)||en(t))&&en(t.then)&&en(t.catch),M={isArray:Ks,isArrayBuffer:AS,isBuffer:uR,isFormData:vR,isArrayBufferView:cR,isString:hR,isNumber:MS,isBoolean:dR,isObject:Uc,isPlainObject:iu,isUndefined:Sa,isDate:fR,isFile:pR,isBlob:mR,isRegExp:OR,isFunction:en,isStream:gR,isURLSearchParams:yR,isTypedArray:xR,isFileList:_R,forEach:Ha,merge:Bf,extend:ER,trim:wR,stripBOM:SR,inherits:CR,toFlatObject:TR,kindOf:Dc,kindOfTest:Bn,endsWith:IR,toArray:PR,forEachEntry:kR,matchAll:bR,isHTMLForm:RR,hasOwnProperty:gy,hasOwnProp:gy,reduceDescriptors:BS,freezeMethods:NR,toObjectSet:AR,toCamelCase:LR,noop:MR,toFiniteNumber:DR,findKey:DS,global:FS,isContextDefined:US,ALPHABET:zS,generateString:FR,isSpecCompliantForm:UR,toJSONObject:BR,isAsyncFn:zR,isThenable:jR};function _e(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}M.inherits(_e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const jS=_e.prototype,WS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{WS[t]={value:t}});Object.defineProperties(_e,WS);Object.defineProperty(jS,"isAxiosError",{value:!0});_e.from=(t,e,n,i,r,o)=>{const l=Object.create(jS);return M.toFlatObject(t,l,function(h){return h!==Error.prototype},c=>c!=="isAxiosError"),_e.call(l,t.message,e,n,i,r),l.cause=t,l.name=t.name,o&&Object.assign(l,o),l};const WR=null;function zf(t){return M.isPlainObject(t)||M.isArray(t)}function HS(t){return M.endsWith(t,"[]")?t.slice(0,-2):t}function yy(t,e,n){return t?t.concat(e).map(function(r,o){return r=HS(r),!n&&o?"["+r+"]":r}).join(n?".":""):e}function HR(t){return M.isArray(t)&&!t.some(zf)}const $R=M.toFlatObject(M,{},null,function(e){return/^is[A-Z]/.test(e)});function Bc(t,e,n){if(!M.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=M.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,R){return!M.isUndefined(R[T])});const i=n.metaTokens,r=n.visitor||m,o=n.dots,l=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(e);if(!M.isFunction(r))throw new TypeError("visitor must be a function");function f(y){if(y===null)return"";if(M.isDate(y))return y.toISOString();if(!h&&M.isBlob(y))throw new _e("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(y)||M.isTypedArray(y)?h&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function m(y,T,R){let S=y;if(y&&!R&&typeof y=="object"){if(M.endsWith(T,"{}"))T=i?T:T.slice(0,-2),y=JSON.stringify(y);else if(M.isArray(y)&&HR(y)||(M.isFileList(y)||M.endsWith(T,"[]"))&&(S=M.toArray(y)))return T=HS(T),S.forEach(function(I,O){!(M.isUndefined(I)||I===null)&&e.append(l===!0?yy([T],O,o):l===null?T:T+"[]",f(I))}),!1}return zf(y)?!0:(e.append(yy(R,T,o),f(y)),!1)}const _=[],v=Object.assign($R,{defaultVisitor:m,convertValue:f,isVisitable:zf});function E(y,T){if(!M.isUndefined(y)){if(_.indexOf(y)!==-1)throw Error("Circular reference detected in "+T.join("."));_.push(y),M.forEach(y,function(S,w){(!(M.isUndefined(S)||S===null)&&r.call(e,S,M.isString(w)?w.trim():w,T,v))===!0&&E(S,T?T.concat(w):[w])}),_.pop()}}if(!M.isObject(t))throw new TypeError("data must be an object");return E(t),e}function wy(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Pm(t,e){this._pairs=[],t&&Bc(t,this,e)}const $S=Pm.prototype;$S.append=function(e,n){this._pairs.push([e,n])};$S.toString=function(e){const n=e?function(i){return e.call(this,i,wy)}:wy;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function VR(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function VS(t,e,n){if(!e)return t;const i=n&&n.encode||VR,r=n&&n.serialize;let o;if(r?o=r(e,n):o=M.isURLSearchParams(e)?e.toString():new Pm(e,n).toString(i),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class ZR{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){M.forEach(this.handlers,function(i){i!==null&&e(i)})}}const Ey=ZR,ZS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qR=typeof URLSearchParams<"u"?URLSearchParams:Pm,GR=typeof FormData<"u"?FormData:null,KR=typeof Blob<"u"?Blob:null,YR={isBrowser:!0,classes:{URLSearchParams:qR,FormData:GR,Blob:KR},protocols:["http","https","file","blob","url","data"]},qS=typeof window<"u"&&typeof document<"u",QR=(t=>qS&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),JR=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),XR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qS,hasStandardBrowserEnv:QR,hasStandardBrowserWebWorkerEnv:JR},Symbol.toStringTag,{value:"Module"})),Nn={...XR,...YR};function eL(t,e){return Bc(t,new Nn.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,o){return Nn.isNode&&M.isBuffer(n)?(this.append(i,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function tL(t){return M.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function nL(t){const e={},n=Object.keys(t);let i;const r=n.length;let o;for(i=0;i<r;i++)o=n[i],e[o]=t[o];return e}function GS(t){function e(n,i,r,o){let l=n[o++];const c=Number.isFinite(+l),h=o>=n.length;return l=!l&&M.isArray(r)?r.length:l,h?(M.hasOwnProp(r,l)?r[l]=[r[l],i]:r[l]=i,!c):((!r[l]||!M.isObject(r[l]))&&(r[l]=[]),e(n,i,r[l],o)&&M.isArray(r[l])&&(r[l]=nL(r[l])),!c)}if(M.isFormData(t)&&M.isFunction(t.entries)){const n={};return M.forEachEntry(t,(i,r)=>{e(tL(i),r,n,0)}),n}return null}function iL(t,e,n){if(M.isString(t))try{return(e||JSON.parse)(t),M.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const xm={transitional:ZS,adapter:["xhr","http"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,o=M.isObject(e);if(o&&M.isHTMLForm(e)&&(e=new FormData(e)),M.isFormData(e))return r&&r?JSON.stringify(GS(e)):e;if(M.isArrayBuffer(e)||M.isBuffer(e)||M.isStream(e)||M.isFile(e)||M.isBlob(e))return e;if(M.isArrayBufferView(e))return e.buffer;if(M.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return eL(e,this.formSerializer).toString();if((c=M.isFileList(e))||i.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Bc(c?{"files[]":e}:e,h&&new h,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),iL(e)):e}],transformResponse:[function(e){const n=this.transitional||xm.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(e&&M.isString(e)&&(i&&!this.responseType||r)){const l=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(c){if(l)throw c.name==="SyntaxError"?_e.from(c,_e.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nn.classes.FormData,Blob:Nn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],t=>{xm.headers[t]={}});const km=xm,rL=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sL=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(l){r=l.indexOf(":"),n=l.substring(0,r).trim().toLowerCase(),i=l.substring(r+1).trim(),!(!n||e[n]&&rL[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},Sy=Symbol("internals");function xo(t){return t&&String(t).trim().toLowerCase()}function ru(t){return t===!1||t==null?t:M.isArray(t)?t.map(ru):String(t)}function oL(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const aL=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function gd(t,e,n,i,r){if(M.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!M.isString(e)){if(M.isString(i))return e.indexOf(i)!==-1;if(M.isRegExp(i))return i.test(e)}}function lL(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function uL(t,e){const n=M.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,o,l){return this[i].call(this,e,r,o,l)},configurable:!0})})}class zc{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function o(c,h,f){const m=xo(h);if(!m)throw new Error("header name must be a non-empty string");const _=M.findKey(r,m);(!_||r[_]===void 0||f===!0||f===void 0&&r[_]!==!1)&&(r[_||h]=ru(c))}const l=(c,h)=>M.forEach(c,(f,m)=>o(f,m,h));return M.isPlainObject(e)||e instanceof this.constructor?l(e,n):M.isString(e)&&(e=e.trim())&&!aL(e)?l(sL(e),n):e!=null&&o(n,e,i),this}get(e,n){if(e=xo(e),e){const i=M.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return oL(r);if(M.isFunction(n))return n.call(this,r,i);if(M.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=xo(e),e){const i=M.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||gd(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function o(l){if(l=xo(l),l){const c=M.findKey(i,l);c&&(!n||gd(i,i[c],c,n))&&(delete i[c],r=!0)}}return M.isArray(e)?e.forEach(o):o(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const o=n[i];(!e||gd(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const n=this,i={};return M.forEach(this,(r,o)=>{const l=M.findKey(i,o);if(l){n[l]=ru(r),delete n[o];return}const c=e?lL(o):String(o).trim();c!==o&&delete n[o],n[c]=ru(r),i[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return M.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&M.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[Sy]=this[Sy]={accessors:{}}).accessors,r=this.prototype;function o(l){const c=xo(l);i[c]||(uL(r,l),i[c]=!0)}return M.isArray(e)?e.forEach(o):o(e),this}}zc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(zc.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});M.freezeMethods(zc);const Jn=zc;function vd(t,e){const n=this||km,i=e||n,r=Jn.from(i.headers);let o=i.data;return M.forEach(t,function(c){o=c.call(n,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function KS(t){return!!(t&&t.__CANCEL__)}function $a(t,e,n){_e.call(this,t??"canceled",_e.ERR_CANCELED,e,n),this.name="CanceledError"}M.inherits($a,_e,{__CANCEL__:!0});function cL(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new _e("Request failed with status code "+n.status,[_e.ERR_BAD_REQUEST,_e.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const hL=Nn.hasStandardBrowserEnv?function(){return{write:function(n,i,r,o,l,c){const h=[];h.push(n+"="+encodeURIComponent(i)),M.isNumber(r)&&h.push("expires="+new Date(r).toGMTString()),M.isString(o)&&h.push("path="+o),M.isString(l)&&h.push("domain="+l),c===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(n){const i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function dL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function fL(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function YS(t,e){return t&&!dL(e)?fL(t,e):e}const pL=Nn.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function r(o){let l=o;return e&&(n.setAttribute("href",l),l=n.href),n.setAttribute("href",l),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=r(window.location.href),function(l){const c=M.isString(l)?r(l):l;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}();function mL(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function _L(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,o=0,l;return e=e!==void 0?e:1e3,function(h){const f=Date.now(),m=i[o];l||(l=f),n[r]=h,i[r]=f;let _=o,v=0;for(;_!==r;)v+=n[_++],_=_%t;if(r=(r+1)%t,r===o&&(o=(o+1)%t),f-l<e)return;const E=m&&f-m;return E?Math.round(v*1e3/E):void 0}}function Cy(t,e){let n=0;const i=_L(50,250);return r=>{const o=r.loaded,l=r.lengthComputable?r.total:void 0,c=o-n,h=i(c),f=o<=l;n=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:h||void 0,estimated:h&&l&&f?(l-o)/h:void 0,event:r};m[e?"download":"upload"]=!0,t(m)}}const gL=typeof XMLHttpRequest<"u",vL=gL&&function(t){return new Promise(function(n,i){let r=t.data;const o=Jn.from(t.headers).normalize(),l=t.responseType;let c;function h(){t.cancelToken&&t.cancelToken.unsubscribe(c),t.signal&&t.signal.removeEventListener("abort",c)}let f;if(M.isFormData(r)){if(Nn.hasStandardBrowserEnv||Nn.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if((f=o.getContentType())!==!1){const[y,...T]=f?f.split(";").map(R=>R.trim()).filter(Boolean):[];o.setContentType([y||"multipart/form-data",...T].join("; "))}}let m=new XMLHttpRequest;if(t.auth){const y=t.auth.username||"",T=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(y+":"+T))}const _=YS(t.baseURL,t.url);m.open(t.method.toUpperCase(),VS(_,t.params,t.paramsSerializer),!0),m.timeout=t.timeout;function v(){if(!m)return;const y=Jn.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),R={data:!l||l==="text"||l==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:y,config:t,request:m};cL(function(w){n(w),h()},function(w){i(w),h()},R),m=null}if("onloadend"in m?m.onloadend=v:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(v)},m.onabort=function(){m&&(i(new _e("Request aborted",_e.ECONNABORTED,t,m)),m=null)},m.onerror=function(){i(new _e("Network Error",_e.ERR_NETWORK,t,m)),m=null},m.ontimeout=function(){let T=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const R=t.transitional||ZS;t.timeoutErrorMessage&&(T=t.timeoutErrorMessage),i(new _e(T,R.clarifyTimeoutError?_e.ETIMEDOUT:_e.ECONNABORTED,t,m)),m=null},Nn.hasStandardBrowserEnv){const y=pL(_)&&t.xsrfCookieName&&hL.read(t.xsrfCookieName);y&&o.set(t.xsrfHeaderName,y)}r===void 0&&o.setContentType(null),"setRequestHeader"in m&&M.forEach(o.toJSON(),function(T,R){m.setRequestHeader(R,T)}),M.isUndefined(t.withCredentials)||(m.withCredentials=!!t.withCredentials),l&&l!=="json"&&(m.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&m.addEventListener("progress",Cy(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&m.upload&&m.upload.addEventListener("progress",Cy(t.onUploadProgress)),(t.cancelToken||t.signal)&&(c=y=>{m&&(i(!y||y.type?new $a(null,t,m):y),m.abort(),m=null)},t.cancelToken&&t.cancelToken.subscribe(c),t.signal&&(t.signal.aborted?c():t.signal.addEventListener("abort",c)));const E=mL(_);if(E&&Nn.protocols.indexOf(E)===-1){i(new _e("Unsupported protocol "+E+":",_e.ERR_BAD_REQUEST,t));return}m.send(r||null)})},jf={http:WR,xhr:vL};M.forEach(jf,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Ty=t=>`- ${t}`,yL=t=>M.isFunction(t)||t===null||t===!1,QS={getAdapter:t=>{t=M.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let o=0;o<e;o++){n=t[o];let l;if(i=n,!yL(n)&&(i=jf[(l=String(n)).toLowerCase()],i===void 0))throw new _e(`Unknown adapter '${l}'`);if(i)break;r[l||"#"+o]=i}if(!i){const o=Object.entries(r).map(([c,h])=>`adapter ${c} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(Ty).join(`
`):" "+Ty(o[0]):"as no adapter specified";throw new _e("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i},adapters:jf};function yd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new $a(null,t)}function Iy(t){return yd(t),t.headers=Jn.from(t.headers),t.data=vd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),QS.getAdapter(t.adapter||km.adapter)(t).then(function(i){return yd(t),i.data=vd.call(t,t.transformResponse,i),i.headers=Jn.from(i.headers),i},function(i){return KS(i)||(yd(t),i&&i.response&&(i.response.data=vd.call(t,t.transformResponse,i.response),i.response.headers=Jn.from(i.response.headers))),Promise.reject(i)})}const Py=t=>t instanceof Jn?t.toJSON():t;function Bs(t,e){e=e||{};const n={};function i(f,m,_){return M.isPlainObject(f)&&M.isPlainObject(m)?M.merge.call({caseless:_},f,m):M.isPlainObject(m)?M.merge({},m):M.isArray(m)?m.slice():m}function r(f,m,_){if(M.isUndefined(m)){if(!M.isUndefined(f))return i(void 0,f,_)}else return i(f,m,_)}function o(f,m){if(!M.isUndefined(m))return i(void 0,m)}function l(f,m){if(M.isUndefined(m)){if(!M.isUndefined(f))return i(void 0,f)}else return i(void 0,m)}function c(f,m,_){if(_ in e)return i(f,m);if(_ in t)return i(void 0,f)}const h={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(f,m)=>r(Py(f),Py(m),!0)};return M.forEach(Object.keys(Object.assign({},t,e)),function(m){const _=h[m]||r,v=_(t[m],e[m],m);M.isUndefined(v)&&_!==c||(n[m]=v)}),n}const JS="1.6.1",bm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{bm[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const xy={};bm.transitional=function(e,n,i){function r(o,l){return"[Axios v"+JS+"] Transitional option '"+o+"'"+l+(i?". "+i:"")}return(o,l,c)=>{if(e===!1)throw new _e(r(l," has been removed"+(n?" in "+n:"")),_e.ERR_DEPRECATED);return n&&!xy[l]&&(xy[l]=!0,console.warn(r(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,l,c):!0}};function wL(t,e,n){if(typeof t!="object")throw new _e("options must be an object",_e.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const o=i[r],l=e[o];if(l){const c=t[o],h=c===void 0||l(c,o,t);if(h!==!0)throw new _e("option "+o+" must be "+h,_e.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new _e("Unknown option "+o,_e.ERR_BAD_OPTION)}}const Wf={assertOptions:wL,validators:bm},gi=Wf.validators;class Uu{constructor(e){this.defaults=e,this.interceptors={request:new Ey,response:new Ey}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Bs(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:o}=n;i!==void 0&&Wf.assertOptions(i,{silentJSONParsing:gi.transitional(gi.boolean),forcedJSONParsing:gi.transitional(gi.boolean),clarifyTimeoutError:gi.transitional(gi.boolean)},!1),r!=null&&(M.isFunction(r)?n.paramsSerializer={serialize:r}:Wf.assertOptions(r,{encode:gi.function,serialize:gi.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=o&&M.merge(o.common,o[n.method]);o&&M.forEach(["delete","get","head","post","put","patch","common"],y=>{delete o[y]}),n.headers=Jn.concat(l,o);const c=[];let h=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(n)===!1||(h=h&&T.synchronous,c.unshift(T.fulfilled,T.rejected))});const f=[];this.interceptors.response.forEach(function(T){f.push(T.fulfilled,T.rejected)});let m,_=0,v;if(!h){const y=[Iy.bind(this),void 0];for(y.unshift.apply(y,c),y.push.apply(y,f),v=y.length,m=Promise.resolve(n);_<v;)m=m.then(y[_++],y[_++]);return m}v=c.length;let E=n;for(_=0;_<v;){const y=c[_++],T=c[_++];try{E=y(E)}catch(R){T.call(this,R);break}}try{m=Iy.call(this,E)}catch(y){return Promise.reject(y)}for(_=0,v=f.length;_<v;)m=m.then(f[_++],f[_++]);return m}getUri(e){e=Bs(this.defaults,e);const n=YS(e.baseURL,e.url);return VS(n,e.params,e.paramsSerializer)}}M.forEach(["delete","get","head","options"],function(e){Uu.prototype[e]=function(n,i){return this.request(Bs(i||{},{method:e,url:n,data:(i||{}).data}))}});M.forEach(["post","put","patch"],function(e){function n(i){return function(o,l,c){return this.request(Bs(c||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Uu.prototype[e]=n(),Uu.prototype[e+"Form"]=n(!0)});const su=Uu;class Rm{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const i=this;this.promise.then(r=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](r);i._listeners=null}),this.promise.then=r=>{let o;const l=new Promise(c=>{i.subscribe(c),o=c}).then(r);return l.cancel=function(){i.unsubscribe(o)},l},e(function(o,l,c){i.reason||(i.reason=new $a(o,l,c),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Rm(function(r){e=r}),cancel:e}}}const EL=Rm;function SL(t){return function(n){return t.apply(null,n)}}function CL(t){return M.isObject(t)&&t.isAxiosError===!0}const Hf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hf).forEach(([t,e])=>{Hf[e]=t});const TL=Hf;function XS(t){const e=new su(t),n=NS(su.prototype.request,e);return M.extend(n,su.prototype,e,{allOwnKeys:!0}),M.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return XS(Bs(t,r))},n}const qe=XS(km);qe.Axios=su;qe.CanceledError=$a;qe.CancelToken=EL;qe.isCancel=KS;qe.VERSION=JS;qe.toFormData=Bc;qe.AxiosError=_e;qe.Cancel=qe.CanceledError;qe.all=function(e){return Promise.all(e)};qe.spread=SL;qe.isAxiosError=CL;qe.mergeConfig=Bs;qe.AxiosHeaders=Jn;qe.formToJSON=t=>GS(M.isHTMLForm(t)?new FormData(t):t);qe.getAdapter=QS.getAdapter;qe.HttpStatusCode=TL;qe.default=qe;const eC=qe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j=function(t,e){if(!t)throw Ys(e)},Ys=function(t){return new Error("Firebase Database ("+tC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},IL=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],l=t[n++],c=t[n++],h=((r&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return e.join("")},Lm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],l=r+1<t.length,c=l?t[r+1]:0,h=r+2<t.length,f=h?t[r+2]:0,m=o>>2,_=(o&3)<<4|c>>4;let v=(c&15)<<2|f>>6,E=f&63;h||(E=64,l||(v=64)),i.push(n[m],n[_],n[v],n[E])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):IL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],c=r<t.length?n[t.charAt(r)]:0;++r;const f=r<t.length?n[t.charAt(r)]:64;++r;const _=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||c==null||f==null||_==null)throw new PL;const v=o<<2|c>>4;if(i.push(v),f!==64){const E=c<<4&240|f>>2;if(i.push(E),_!==64){const y=f<<6&192|_;i.push(y)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class PL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iC=function(t){const e=nC(t);return Lm.encodeByteArray(e,!0)},Bu=function(t){return iC(t).replace(/\./g,"")},zu=function(t){try{return Lm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t){return rC(void 0,t)}function rC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!kL(n)||(t[n]=rC(t[n],e[n]));return t}function kL(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=()=>bL().__FIREBASE_DEFAULTS__,LL=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zu(t[1]);return e&&JSON.parse(e)},jc=()=>{try{return RL()||LL()||OL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sC=t=>{var e,n;return(n=(e=jc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oC=t=>{const e=sC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},aC=()=>{var t;return(t=jc())===null||t===void 0?void 0:t.config},lC=t=>{var e;return(e=jc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[Bu(JSON.stringify(n)),Bu(JSON.stringify(l)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Om(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function NL(){var t;const e=(t=jc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AL(){const t=yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dC(){return tC.NODE_ADMIN===!0}function fC(){try{return typeof indexedDB=="object"}catch{return!1}}function pC(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function ML(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL="FirebaseError";class Sn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=DL,Object.setPrototypeOf(this,Sn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hr.prototype.create)}}class Hr{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],l=o?FL(o,i):"Error",c=`${this.serviceName}: ${l} (${r}).`;return new Sn(r,c,i)}}function FL(t,e){return t.replace(UL,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const UL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t){return JSON.parse(t)}function rt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=function(t){let e={},n={},i={},r="";try{const o=t.split(".");e=Ca(zu(o[0])||""),n=Ca(zu(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}},BL=function(t){const e=mC(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},zL=function(t){const e=mC(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function zs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function $f(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ju(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function Ta(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const o=t[r],l=e[r];if(ky(o)&&ky(l)){if(!Ta(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function ky(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Uo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Bo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)i[_]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let _=0;_<16;_++)i[_]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let _=16;_<80;_++){const v=i[_-3]^i[_-8]^i[_-14]^i[_-16];i[_]=(v<<1|v>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4],f,m;for(let _=0;_<80;_++){_<40?_<20?(f=c^o&(l^c),m=1518500249):(f=o^l^c,m=1859775393):_<60?(f=o&l|c&(o|l),m=2400959708):(f=o^l^c,m=3395469782);const v=(r<<5|r>>>27)+f+h+m+i[_]&4294967295;h=c,c=l,l=(o<<30|o>>>2)&4294967295,o=r,r=v}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const o=this.buf_;let l=this.inbuf_;for(;r<n;){if(l===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(o[l]=e.charCodeAt(r),++l,++r,l===this.blockSize){this.compress_(o),l=0;break}}else for(;r<n;)if(o[l]=e[r],++l,++r,l===this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}}function WL(t,e){const n=new HL(t,e);return n.subscribe.bind(n)}class HL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");$L(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=wd),r.error===void 0&&(r.error=wd),r.complete===void 0&&(r.complete=wd);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $L(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wd(){}function Nm(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,j(i<t.length,"Surrogate pair missing trail surrogate.");const l=t.charCodeAt(i)-56320;r=65536+(o<<10)+l}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Hc=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=1e3,qL=2,GL=4*60*60*1e3,KL=.5;function by(t,e=ZL,n=qL){const i=e*Math.pow(n,t),r=Math.round(KL*i*(Math.random()-.5)*2);return Math.min(GL,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t){return t&&t._delegate?t._delegate:t}class rn{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Wc;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JL(e))try{this.getOrInitializeService({instanceIdentifier:sr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=sr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sr){return this.instances.has(e)}getOptions(e=sr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);i===c&&l.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const l=this.instances.get(r);return l&&e(l,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:QL(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=sr){return this.component?this.component.multipleInstances?e:sr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QL(t){return t===sr?void 0:t}function JL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new YL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const eO={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},tO=Se.INFO,nO={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},iO=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=nO[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $c{constructor(e){this.name=e,this._logLevel=tO,this._logHandler=iO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const rO=(t,e)=>e.some(n=>t instanceof n);let Ry,Ly;function sO(){return Ry||(Ry=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oO(){return Ly||(Ly=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _C=new WeakMap,Vf=new WeakMap,gC=new WeakMap,Ed=new WeakMap,Am=new WeakMap;function aO(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(zi(t.result)),r()},l=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&_C.set(n,t)}).catch(()=>{}),Am.set(e,t),e}function lO(t){if(Vf.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),r()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Vf.set(t,e)}let Zf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uO(t){Zf=t(Zf)}function cO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Sd(this),e,...n);return gC.set(i,e.sort?e.sort():[e]),zi(i)}:oO().includes(t)?function(...e){return t.apply(Sd(this),e),zi(_C.get(this))}:function(...e){return zi(t.apply(Sd(this),e))}}function hO(t){return typeof t=="function"?cO(t):(t instanceof IDBTransaction&&lO(t),rO(t,sO())?new Proxy(t,Zf):t)}function zi(t){if(t instanceof IDBRequest)return aO(t);if(Ed.has(t))return Ed.get(t);const e=hO(t);return e!==t&&(Ed.set(t,e),Am.set(e,t)),e}const Sd=t=>Am.get(t);function dO(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(t,e),c=zi(l);return i&&l.addEventListener("upgradeneeded",h=>{i(zi(l.result),h.oldVersion,h.newVersion,zi(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),r&&h.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const fO=["get","getKey","getAll","getAllKeys","count"],pO=["put","add","delete","clear"],Cd=new Map;function Oy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cd.get(e))return Cd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=pO.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||fO.includes(n)))return;const o=async function(l,...c){const h=this.transaction(l,r?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),r&&h.done]))[0]};return Cd.set(e,o),o}uO(t=>({...t,get:(e,n,i)=>Oy(e,n)||t.get(e,n,i),has:(e,n)=>!!Oy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_O(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function _O(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qf="@firebase/app",Ny="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr=new $c("@firebase/app"),gO="@firebase/app-compat",vO="@firebase/analytics-compat",yO="@firebase/analytics",wO="@firebase/app-check-compat",EO="@firebase/app-check",SO="@firebase/auth",CO="@firebase/auth-compat",TO="@firebase/database",IO="@firebase/database-compat",PO="@firebase/functions",xO="@firebase/functions-compat",kO="@firebase/installations",bO="@firebase/installations-compat",RO="@firebase/messaging",LO="@firebase/messaging-compat",OO="@firebase/performance",NO="@firebase/performance-compat",AO="@firebase/remote-config",MO="@firebase/remote-config-compat",DO="@firebase/storage",FO="@firebase/storage-compat",UO="@firebase/firestore",BO="@firebase/firestore-compat",zO="firebase",jO="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="[DEFAULT]",WO={[qf]:"fire-core",[gO]:"fire-core-compat",[yO]:"fire-analytics",[vO]:"fire-analytics-compat",[EO]:"fire-app-check",[wO]:"fire-app-check-compat",[SO]:"fire-auth",[CO]:"fire-auth-compat",[TO]:"fire-rtdb",[IO]:"fire-rtdb-compat",[PO]:"fire-fn",[xO]:"fire-fn-compat",[kO]:"fire-iid",[bO]:"fire-iid-compat",[RO]:"fire-fcm",[LO]:"fire-fcm-compat",[OO]:"fire-perf",[NO]:"fire-perf-compat",[AO]:"fire-rc",[MO]:"fire-rc-compat",[DO]:"fire-gcs",[FO]:"fire-gcs-compat",[UO]:"fire-fst",[BO]:"fire-fst-compat","fire-js":"fire-js",[zO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=new Map,Kf=new Map;function HO(t,e){try{t.container.addComponent(e)}catch(n){kr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wn(t){const e=t.name;if(Kf.has(e))return kr.debug(`There were multiple attempts to register component ${e}.`),!1;Kf.set(e,t);for(const n of Wu.values())HO(n,t);return!0}function Qi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ji=new Hr("app","Firebase",$O);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=jO;function vC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Gf,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw ji.create("bad-app-name",{appName:String(r)});if(n||(n=aC()),!n)throw ji.create("no-options");const o=Wu.get(r);if(o){if(Ta(n,o.options)&&Ta(i,o.config))return o;throw ji.create("duplicate-app",{appName:r})}const l=new XL(r);for(const h of Kf.values())l.addComponent(h);const c=new VO(n,i,l);return Wu.set(r,c),c}function Vc(t=Gf){const e=Wu.get(t);if(!e&&t===Gf&&aC())return vC();if(!e)throw ji.create("no-app",{appName:t});return e}function Mt(t,e,n){var i;let r=(i=WO[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kr.warn(c.join(" "));return}wn(new rn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO="firebase-heartbeat-database",qO=1,Ia="firebase-heartbeat-store";let Td=null;function yC(){return Td||(Td=dO(ZO,qO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ia)}}}).catch(t=>{throw ji.create("idb-open",{originalErrorMessage:t.message})})),Td}async function GO(t){try{return await(await yC()).transaction(Ia).objectStore(Ia).get(wC(t))}catch(e){if(e instanceof Sn)kr.warn(e.message);else{const n=ji.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});kr.warn(n.message)}}}async function Ay(t,e){try{const i=(await yC()).transaction(Ia,"readwrite");await i.objectStore(Ia).put(e,wC(t)),await i.done}catch(n){if(n instanceof Sn)kr.warn(n.message);else{const i=ji.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});kr.warn(i.message)}}}function wC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=1024,YO=30*24*60*60*1e3;class QO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=My();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=YO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=My(),{heartbeatsToSend:i,unsentEntries:r}=JO(this._heartbeatsCache.heartbeats),o=Bu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function My(){return new Date().toISOString().substring(0,10)}function JO(t,e=KO){const n=[];let i=t.slice();for(const r of t){const o=n.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),Dy(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Dy(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class XO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fC()?pC().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await GO(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Ay(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Ay(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Dy(t){return Bu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(t){wn(new rn("platform-logger",e=>new mO(e),"PRIVATE")),wn(new rn("heartbeat",e=>new QO(e),"PRIVATE")),Mt(qf,Ny,t),Mt(qf,Ny,"esm2017"),Mt("fire-js","")}eN("");var tN="firebase",nN="10.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mt(tN,nN,"app");const iN=(t,e)=>e.some(n=>t instanceof n);let Fy,Uy;function rN(){return Fy||(Fy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sN(){return Uy||(Uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EC=new WeakMap,Yf=new WeakMap,SC=new WeakMap,Id=new WeakMap,Mm=new WeakMap;function oN(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Wi(t.result)),r()},l=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&EC.set(n,t)}).catch(()=>{}),Mm.set(e,t),e}function aN(t){if(Yf.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),r()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Yf.set(t,e)}let Qf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||SC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lN(t){Qf=t(Qf)}function uN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Pd(this),e,...n);return SC.set(i,e.sort?e.sort():[e]),Wi(i)}:sN().includes(t)?function(...e){return t.apply(Pd(this),e),Wi(EC.get(this))}:function(...e){return Wi(t.apply(Pd(this),e))}}function cN(t){return typeof t=="function"?uN(t):(t instanceof IDBTransaction&&aN(t),iN(t,rN())?new Proxy(t,Qf):t)}function Wi(t){if(t instanceof IDBRequest)return oN(t);if(Id.has(t))return Id.get(t);const e=cN(t);return e!==t&&(Id.set(t,e),Mm.set(e,t)),e}const Pd=t=>Mm.get(t);function hN(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(t,e),c=Wi(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Wi(l.result),h.oldVersion,h.newVersion,Wi(l.transaction))}),n&&l.addEventListener("blocked",()=>n()),c.then(h=>{o&&h.addEventListener("close",()=>o()),r&&h.addEventListener("versionchange",()=>r())}).catch(()=>{}),c}const dN=["get","getKey","getAll","getAllKeys","count"],fN=["put","add","delete","clear"],xd=new Map;function By(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xd.get(e))return xd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=fN.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||dN.includes(n)))return;const o=async function(l,...c){const h=this.transaction(l,r?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),r&&h.done]))[0]};return xd.set(e,o),o}lN(t=>({...t,get:(e,n,i)=>By(e,n)||t.get(e,n,i),has:(e,n)=>!!By(e,n)||t.has(e,n)}));const CC="@firebase/installations",Dm="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=1e4,IC=`w:${Dm}`,PC="FIS_v2",pN="https://firebaseinstallations.googleapis.com/v1",mN=60*60*1e3,_N="installations",gN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},br=new Hr(_N,gN,vN);function xC(t){return t instanceof Sn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC({projectId:t}){return`${pN}/projects/${t}/installations`}function bC(t){return{token:t.token,requestStatus:2,expiresIn:wN(t.expiresIn),creationTime:Date.now()}}async function RC(t,e){const i=(await e.json()).error;return br.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function LC({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function yN(t,{refreshToken:e}){const n=LC(t);return n.append("Authorization",EN(e)),n}async function OC(t){const e=await t();return e.status>=500&&e.status<600?t():e}function wN(t){return Number(t.replace("s","000"))}function EN(t){return`${PC} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=kC(t),r=LC(t),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const l={fid:n,authVersion:PC,appId:t.appId,sdkVersion:IC},c={method:"POST",headers:r,body:JSON.stringify(l)},h=await OC(()=>fetch(i,c));if(h.ok){const f=await h.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:bC(f.authToken)}}else throw await RC("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=/^[cdef][\w-]{21}$/,Jf="";function IN(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=PN(t);return TN.test(n)?n:Jf}catch{return Jf}}function PN(t){return CN(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=new Map;function MC(t,e){const n=Zc(t);DC(n,e),xN(n,e)}function DC(t,e){const n=AC.get(t);if(n)for(const i of n)i(e)}function xN(t,e){const n=kN();n&&n.postMessage({key:t,fid:e}),bN()}let hr=null;function kN(){return!hr&&"BroadcastChannel"in self&&(hr=new BroadcastChannel("[Firebase] FID Change"),hr.onmessage=t=>{DC(t.data.key,t.data.fid)}),hr}function bN(){AC.size===0&&hr&&(hr.close(),hr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="firebase-installations-database",LN=1,Rr="firebase-installations-store";let kd=null;function Fm(){return kd||(kd=hN(RN,LN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Rr)}}})),kd}async function Hu(t,e){const n=Zc(t),r=(await Fm()).transaction(Rr,"readwrite"),o=r.objectStore(Rr),l=await o.get(n);return await o.put(e,n),await r.done,(!l||l.fid!==e.fid)&&MC(t,e.fid),e}async function FC(t){const e=Zc(t),i=(await Fm()).transaction(Rr,"readwrite");await i.objectStore(Rr).delete(e),await i.done}async function qc(t,e){const n=Zc(t),r=(await Fm()).transaction(Rr,"readwrite"),o=r.objectStore(Rr),l=await o.get(n),c=e(l);return c===void 0?await o.delete(n):await o.put(c,n),await r.done,c&&(!l||l.fid!==c.fid)&&MC(t,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Um(t){let e;const n=await qc(t.appConfig,i=>{const r=ON(i),o=NN(t,r);return e=o.registrationPromise,o.installationEntry});return n.fid===Jf?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function ON(t){const e=t||{fid:IN(),registrationStatus:0};return UC(e)}function NN(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(br.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=AN(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:MN(t)}:{installationEntry:e}}async function AN(t,e){try{const n=await SN(t,e);return Hu(t.appConfig,n)}catch(n){throw xC(n)&&n.customData.serverCode===409?await FC(t.appConfig):await Hu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function MN(t){let e=await zy(t.appConfig);for(;e.registrationStatus===1;)await NC(100),e=await zy(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Um(t);return i||n}return e}function zy(t){return qc(t,e=>{if(!e)throw br.create("installation-not-found");return UC(e)})}function UC(t){return DN(t)?{fid:t.fid,registrationStatus:0}:t}function DN(t){return t.registrationStatus===1&&t.registrationTime+TC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN({appConfig:t,heartbeatServiceProvider:e},n){const i=UN(t,n),r=yN(t,n),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const l={installation:{sdkVersion:IC,appId:t.appId}},c={method:"POST",headers:r,body:JSON.stringify(l)},h=await OC(()=>fetch(i,c));if(h.ok){const f=await h.json();return bC(f)}else throw await RC("Generate Auth Token",h)}function UN(t,{fid:e}){return`${kC(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bm(t,e=!1){let n;const i=await qc(t.appConfig,o=>{if(!BC(o))throw br.create("not-registered");const l=o.authToken;if(!e&&jN(l))return o;if(l.requestStatus===1)return n=BN(t,e),o;{if(!navigator.onLine)throw br.create("app-offline");const c=HN(o);return n=zN(t,c),c}});return n?await n:i.authToken}async function BN(t,e){let n=await jy(t.appConfig);for(;n.authToken.requestStatus===1;)await NC(100),n=await jy(t.appConfig);const i=n.authToken;return i.requestStatus===0?Bm(t,e):i}function jy(t){return qc(t,e=>{if(!BC(e))throw br.create("not-registered");const n=e.authToken;return $N(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function zN(t,e){try{const n=await FN(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await Hu(t.appConfig,i),n}catch(n){if(xC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await FC(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Hu(t.appConfig,i)}throw n}}function BC(t){return t!==void 0&&t.registrationStatus===2}function jN(t){return t.requestStatus===2&&!WN(t)}function WN(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+mN}function HN(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function $N(t){return t.requestStatus===1&&t.requestTime+TC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(t){const e=t,{installationEntry:n,registrationPromise:i}=await Um(e);return i?i.catch(console.error):Bm(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(t,e=!1){const n=t;return await qN(n),(await Bm(n,e)).token}async function qN(t){const{registrationPromise:e}=await Um(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(t){if(!t||!t.options)throw bd("App Configuration");if(!t.name)throw bd("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw bd(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function bd(t){return br.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="installations",KN="installations-internal",YN=t=>{const e=t.getProvider("app").getImmediate(),n=GN(e),i=Qi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},QN=t=>{const e=t.getProvider("app").getImmediate(),n=Qi(e,zC).getImmediate();return{getId:()=>VN(n),getToken:r=>ZN(n,r)}};function JN(){wn(new rn(zC,YN,"PUBLIC")),wn(new rn(KN,QN,"PRIVATE"))}JN();Mt(CC,Dm);Mt(CC,Dm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u="analytics",XN="firebase_id",eA="origin",tA=60*1e3,nA="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dt=new $c("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Wt=new Hr("analytics","Analytics",iA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(t){if(!t.startsWith(zm)){const e=Wt.create("invalid-gtag-resource",{gtagURL:t});return Dt.warn(e.message),""}return t}function jC(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function sA(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function oA(t,e){const n=sA("firebase-js-sdk-policy",{createScriptURL:rA}),i=document.createElement("script"),r=`${zm}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function aA(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function lA(t,e,n,i,r,o){const l=i[r];try{if(l)await e[l];else{const h=(await jC(n)).find(f=>f.measurementId===r);h&&await e[h.appId]}}catch(c){Dt.error(c)}t("config",r,o)}async function uA(t,e,n,i,r){try{let o=[];if(r&&r.send_to){let l=r.send_to;Array.isArray(l)||(l=[l]);const c=await jC(n);for(const h of l){const f=c.find(_=>_.measurementId===h),m=f&&e[f.appId];if(m)o.push(m);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",i,r||{})}catch(o){Dt.error(o)}}function cA(t,e,n,i){async function r(o,...l){try{if(o==="event"){const[c,h]=l;await uA(t,e,n,c,h)}else if(o==="config"){const[c,h]=l;await lA(t,e,n,i,c,h)}else if(o==="consent"){const[c]=l;t("consent","update",c)}else if(o==="get"){const[c,h,f]=l;t("get",c,h,f)}else if(o==="set"){const[c]=l;t("set",c)}else t(o,...l)}catch(c){Dt.error(c)}}return r}function hA(t,e,n,i,r){let o=function(...l){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(o=window[r]),window[r]=cA(o,t,e,n),{gtagCore:o,wrappedGtag:window[r]}}function dA(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(zm)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=30,pA=1e3;class mA{constructor(e={},n=pA){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const WC=new mA;function _A(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function gA(t){var e;const{appId:n,apiKey:i}=t,r={method:"GET",headers:_A(i)},o=nA.replace("{app-id}",n),l=await fetch(o,r);if(l.status!==200&&l.status!==304){let c="";try{const h=await l.json();!((e=h.error)===null||e===void 0)&&e.message&&(c=h.error.message)}catch{}throw Wt.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function vA(t,e=WC,n){const{appId:i,apiKey:r,measurementId:o}=t.options;if(!i)throw Wt.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw Wt.create("no-api-key")}const l=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new EA;return setTimeout(async()=>{c.abort()},n!==void 0?n:tA),HC({appId:i,apiKey:r,measurementId:o},l,c,e)}async function HC(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=WC){var o;const{appId:l,measurementId:c}=t;try{await yA(i,e)}catch(h){if(c)return Dt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:c};throw h}try{const h=await gA(t);return r.deleteThrottleMetadata(l),h}catch(h){const f=h;if(!wA(f)){if(r.deleteThrottleMetadata(l),c)return Dt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:c};throw h}const m=Number((o=f==null?void 0:f.customData)===null||o===void 0?void 0:o.httpStatus)===503?by(n,r.intervalMillis,fA):by(n,r.intervalMillis),_={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return r.setThrottleMetadata(l,_),Dt.debug(`Calling attemptFetch again in ${m} millis`),HC(t,_,i,r)}}function yA(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(o),i(Wt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function wA(t){if(!(t instanceof Sn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class EA{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function SA(t,e,n,i,r){if(r&&r.global){t("event",n,i);return}else{const o=await e,l=Object.assign(Object.assign({},i),{send_to:o});t("event",n,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CA(){if(fC())try{await pC()}catch(t){return Dt.warn(Wt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Dt.warn(Wt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function TA(t,e,n,i,r,o,l){var c;const h=vA(t);h.then(E=>{n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&Dt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>Dt.error(E)),e.push(h);const f=CA().then(E=>{if(E)return i.getId()}),[m,_]=await Promise.all([h,f]);dA(o)||oA(o,m.measurementId),r("js",new Date);const v=(c=l==null?void 0:l.config)!==null&&c!==void 0?c:{};return v[eA]="firebase",v.update=!0,_!=null&&(v[XN]=_),r("config",m.measurementId,v),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.app=e}_delete(){return delete Ko[this.app.options.appId],Promise.resolve()}}let Ko={},Wy=[];const Hy={};let Rd="dataLayer",PA="gtag",$y,$C,Vy=!1;function xA(){const t=[];if(cC()&&t.push("This is a browser extension environment."),ML()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,r)=>`(${r+1}) ${i}`).join(" "),n=Wt.create("invalid-analytics-context",{errorInfo:e});Dt.warn(n.message)}}function kA(t,e,n){xA();const i=t.options.appId;if(!i)throw Wt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Dt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Wt.create("no-api-key");if(Ko[i]!=null)throw Wt.create("already-exists",{id:i});if(!Vy){aA(Rd);const{wrappedGtag:o,gtagCore:l}=hA(Ko,Wy,Hy,Rd,PA);$C=o,$y=l,Vy=!0}return Ko[i]=TA(t,Wy,Hy,e,$y,Rd,n),new IA(t)}function bA(t=Vc()){t=ze(t);const e=Qi(t,$u);return e.isInitialized()?e.getImmediate():RA(t)}function RA(t,e={}){const n=Qi(t,$u);if(n.isInitialized()){const r=n.getImmediate();if(Ta(e,n.getOptions()))return r;throw Wt.create("already-initialized")}return n.initialize({options:e})}function LA(t,e,n,i){t=ze(t),SA($C,Ko[t.app.options.appId],e,n,i).catch(r=>Dt.error(r))}const Zy="@firebase/analytics",qy="0.10.0";function OA(){wn(new rn($u,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return kA(i,r,n)},"PUBLIC")),wn(new rn("analytics-internal",t,"PRIVATE")),Mt(Zy,qy),Mt(Zy,qy,"esm2017");function t(e){try{const n=e.getProvider($u).getImmediate();return{logEvent:(i,r,o)=>LA(n,i,r,o)}}catch(n){throw Wt.create("interop-component-reg-failed",{reason:n})}}}OA();const Gy="@firebase/database",Ky="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VC="";function NA(t){VC=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),rt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ca(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ui(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new AA(e)}}catch{}return new MA},dr=ZC("localStorage"),Xf=ZC("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new $c("@firebase/database"),DA=function(){let t=1;return function(){return t++}}(),qC=function(t){const e=VL(t),n=new jL;n.update(e);const i=n.digest();return Lm.encodeByteArray(i)},Va=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Va.apply(null,i):typeof i=="object"?e+=rt(i):e+=i,e+=" "}return e};let yr=null,Yy=!0;const FA=function(t,e){j(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ps.logLevel=Se.VERBOSE,yr=Ps.log.bind(Ps),e&&Xf.set("logging_enabled",!0)):typeof t=="function"?yr=t:(yr=null,Xf.remove("logging_enabled"))},gt=function(...t){if(Yy===!0&&(Yy=!1,yr===null&&Xf.get("logging_enabled")===!0&&FA(!0)),yr){const e=Va.apply(null,t);yr(e)}},Za=function(t){return function(...e){gt(t,...e)}},ep=function(...t){const e="FIREBASE INTERNAL ERROR: "+Va(...t);Ps.error(e)},si=function(...t){const e=`FIREBASE FATAL ERROR: ${Va(...t)}`;throw Ps.error(e),new Error(e)},Ft=function(...t){const e="FIREBASE WARNING: "+Va(...t);Ps.warn(e)},UA=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ft("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},GC=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},BA=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},js="[MIN_NAME]",Lr="[MAX_NAME]",Js=function(t,e){if(t===e)return 0;if(t===js||e===Lr)return-1;if(e===js||t===Lr)return 1;{const n=Qy(t),i=Qy(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},zA=function(t,e){return t===e?0:t<e?-1:1},ko=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+rt(e))},jm=function(t){if(typeof t!="object"||t===null)return rt(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=rt(e[i]),n+=":",n+=jm(t[e[i]]);return n+="}",n},KC=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function Ut(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const YC=function(t){j(!GC(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,o,l,c,h;t===0?(o=0,l=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),i),o=c+i,l=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(o=0,l=Math.round(t/Math.pow(2,1-i-n))));const f=[];for(h=n;h;h-=1)f.push(l%2?1:0),l=Math.floor(l/2);for(h=e;h;h-=1)f.push(o%2?1:0),o=Math.floor(o/2);f.push(r?1:0),f.reverse();const m=f.join("");let _="";for(h=0;h<64;h+=8){let v=parseInt(m.substr(h,8),2).toString(16);v.length===1&&(v="0"+v),_=_+v}return _.toLowerCase()},jA=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},WA=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function HA(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const $A=new RegExp("^-?(0*)\\d{1,10}$"),VA=-2147483648,ZA=2147483647,Qy=function(t){if($A.test(t)){const e=Number(t);if(e>=VA&&e<=ZA)return e}return null},Xs=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ft("Exception was thrown by user callback.",n),e},Math.floor(0))}},qA=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Yo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Ft(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(gt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ft(e)}}class xs{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}xs.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="5",QC="v",JC="s",XC="r",eT="f",tT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,nT="ls",iT="p",tp="ac",rT="websocket",sT="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n,i,r,o=!1,l="",c=!1,h=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=dr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&dr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function YA(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function aT(t,e,n){j(typeof e=="string","typeof type must == string"),j(typeof n=="object","typeof params must == object");let i;if(e===rT)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===sT)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);YA(t)&&(n.ns=t.namespace);const r=[];return Ut(n,(o,l)=>{r.push(o+"="+l)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.counters_={}}incrementCounter(e,n=1){ui(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return xL(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld={},Od={};function Hm(t){const e=t.toString();return Ld[e]||(Ld[e]=new QA),Ld[e]}function JA(t,e){const n=t.toString();return Od[n]||(Od[n]=e()),Od[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Xs(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="start",eM="close",tM="pLPCommand",nM="pRTLPCB",lT="id",uT="pw",cT="ser",iM="cb",rM="seg",sM="ts",oM="d",aM="dframe",hT=1870,dT=30,lM=hT-dT,uM=25e3,cM=3e4;class gs{constructor(e,n,i,r,o,l,c){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=l,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Za(e),this.stats_=Hm(n),this.urlFn=h=>(this.appCheckToken&&(h[tp]=this.appCheckToken),aT(n,sT,h))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new XA(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(cM)),BA(()=>{if(this.isClosed_)return;this.scriptTagHolder=new $m((...o)=>{const[l,c,h,f,m]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===Jy)this.id=c,this.password=h;else if(l===eM)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...o)=>{const[l,c]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,c)},()=>{this.onClosed_()},this.urlFn);const i={};i[Jy]="t",i[cT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[iM]=this.scriptTagHolder.uniqueCallbackIdentifier),i[QC]=Wm,this.transportSessionId&&(i[JC]=this.transportSessionId),this.lastSessionId&&(i[nT]=this.lastSessionId),this.applicationId&&(i[iT]=this.applicationId),this.appCheckToken&&(i[tp]=this.appCheckToken),typeof location<"u"&&location.hostname&&tT.test(location.hostname)&&(i[XC]=eT);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){gs.forceAllow_=!0}static forceDisallow(){gs.forceDisallow_=!0}static isAvailable(){return gs.forceAllow_?!0:!gs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!jA()&&!WA()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=rt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=iC(n),r=KC(i,lM);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[aM]="t",i[lT]=e,i[uT]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=rt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class $m{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=DA(),window[tM+this.uniqueCallbackIdentifier]=e,window[nM+this.uniqueCallbackIdentifier]=n,this.myIFrame=$m.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){gt("frame writing exception"),c.stack&&gt(c.stack),gt(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||gt("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[lT]=this.myID,e[uT]=this.myPW,e[cT]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+dT+i.length<=hT;){const l=this.pendingSegs.shift();i=i+"&"+rM+r+"="+l.seg+"&"+sM+r+"="+l.ts+"&"+oM+r+"="+l.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(uM)),o=()=>{clearTimeout(r),i()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{gt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=16384,dM=45e3;let Vu=null;typeof MozWebSocket<"u"?Vu=MozWebSocket:typeof WebSocket<"u"&&(Vu=WebSocket);class dn{constructor(e,n,i,r,o,l,c){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Za(this.connId),this.stats_=Hm(n),this.connURL=dn.connectionURL_(n,l,c,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,o){const l={};return l[QC]=Wm,typeof location<"u"&&location.hostname&&tT.test(location.hostname)&&(l[XC]=eT),n&&(l[JC]=n),i&&(l[nT]=i),r&&(l[tp]=r),o&&(l[iT]=o),aT(e,rT,l)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,dr.set("previous_websocket_failure",!0);try{let i;dC(),this.mySock=new Vu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){dn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Vu!==null&&!dn.forceDisallow_}static previouslyFailed(){return dr.isInMemoryStorage||dr.get("previous_websocket_failure")===!0}markConnectionHealthy(){dr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Ca(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(j(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=rt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=KC(n,hM);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(dM))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}dn.responsesRequiredToBeHealthy=2;dn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[gs,dn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=dn&&dn.isAvailable();let i=n&&!dn.previouslyFailed();if(e.webSocketOnly&&(n||Ft("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[dn];else{const r=this.transports_=[];for(const o of Pa.ALL_TRANSPORTS)o&&o.isAvailable()&&r.push(o);Pa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Pa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=6e4,pM=5e3,mM=10*1024,_M=100*1024,Nd="t",Xy="d",gM="s",ew="r",vM="e",tw="o",nw="a",iw="n",rw="p",yM="h";class wM{constructor(e,n,i,r,o,l,c,h,f,m){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=l,this.onReady_=c,this.onDisconnect_=h,this.onKill_=f,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Za("c:"+this.id+":"),this.transportManager_=new Pa(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Yo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>_M?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>mM?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Nd in e){const n=e[Nd];n===nw?this.upgradeIfSecondaryHealthy_():n===ew?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===tw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ko("t",e),i=ko("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:rw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:nw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:iw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ko("t",e),i=ko("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ko(Nd,e);if(Xy in e){const i=e[Xy];if(n===yM){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===iw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===gM?this.onConnectionShutdown_(i):n===ew?this.onReset_(i):n===vM?ep("Server Error: "+i):n===tw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ep("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Wm!==i&&Ft("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Yo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(fM))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(pM))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:rw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(dr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){this.allowedEvents_=e,this.listeners_={},j(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(e){j(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends pT{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Om()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Zu}getInitialEvent(e){return j(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=32,ow=768;class Te{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function we(){return new Te("")}function ue(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Zi(t){return t.pieces_.length-t.pieceNum_}function xe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Te(t.pieces_,e)}function mT(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function EM(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function _T(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function gT(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Te(e,0)}function Ke(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Te)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Te(n,0)}function he(t){return t.pieceNum_>=t.pieces_.length}function Rt(t,e){const n=ue(t),i=ue(e);if(n===null)return e;if(n===i)return Rt(xe(t),xe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Vm(t,e){if(Zi(t)!==Zi(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function fn(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Zi(t)>Zi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class SM{constructor(e,n){this.errorPrefix_=n,this.parts_=_T(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Hc(this.parts_[i]);vT(this)}}function CM(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Hc(e),vT(t)}function TM(t){const e=t.parts_.pop();t.byteLength_-=Hc(e),t.parts_.length>0&&(t.byteLength_-=1)}function vT(t){if(t.byteLength_>ow)throw new Error(t.errorPrefix_+"has a key path longer than "+ow+" bytes ("+t.byteLength_+").");if(t.parts_.length>sw)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+sw+") or object contains a cycle "+or(t))}function or(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm extends pT{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Zm}getInitialEvent(e){return j(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=1e3,IM=60*5*1e3,aw=30*1e3,PM=1.3,xM=3e4,kM="server_kill",lw=3;class Xn extends fT{constructor(e,n,i,r,o,l,c,h){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=l,this.appCheckTokenProvider_=c,this.authOverride_=h,this.id=Xn.nextPersistentConnectionId_++,this.log_=Za("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=bo,this.maxReconnectDelay_=IM,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h&&!dC())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Zm.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Zu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,o={r,a:e,b:n};this.log_(rt(o)),j(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new Wc,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const c=l.d;l.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,i,r){this.initConnection_();const o=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+o),this.listens.has(l)||this.listens.set(l,new Map),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),j(!this.listens.get(l).has(o),"listen() called twice for same path/queryId.");const c={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(l).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const o={p:i},l="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(l,o,c=>{const h=c.d,f=c.s;Xn.warnOnListenWarnings_(h,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",c),f!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(f,h))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ui(e,"w")){const i=zs(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Ft(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||zL(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=aw)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=BL(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const o=r.s,l=r.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const o={p:e},l="n";r&&(o.q=i,o.t=r),this.sendRequest(l,o)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const o={p:n,d:i};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,l=>{r&&setTimeout(()=>{r(l.s,l.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,o){this.initConnection_();const l={p:n,d:i};o!==void 0&&(l.h=o),this.outstandingPuts_.push({action:e,request:l,onComplete:r}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+rt(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):ep("Unrecognized action received from server: "+rt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){j(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=bo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=bo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>xM&&(this.reconnectDelay_=bo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*PM)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Xn.nextConnectionId_++,o=this.lastSessionId;let l=!1,c=null;const h=function(){c?c.close():(l=!0,i())},f=function(_){j(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(_)};this.realtime_={close:h,sendRequest:f};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,v]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);l?gt("getToken() completed but was canceled"):(gt("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=v&&v.token,c=new wM(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,E=>{Ft(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(kM)},o))}catch(_){this.log_("Failed to get token: "+_),l||(this.repoInfo_.nodeAdmin&&Ft(_),h())}}}interrupt(e){gt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){gt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],$f(this.interruptReasons_)&&(this.reconnectDelay_=bo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(o=>jm(o)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new Te(e).toString();let r;if(this.listens.has(i)){const o=this.listens.get(i);r=o.get(n),o.delete(n),o.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){gt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=lw&&(this.reconnectDelay_=aw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){gt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=lw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+VC.replace(/\./g,"-")]=1,Om()?e["framework.cordova"]=1:hC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Zu.getInstance().currentlyOnline();return $f(this.interruptReasons_)&&e}}Xn.nextPersistentConnectionId_=0;Xn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ce(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new ce(js,e),r=new ce(js,n);return this.compare(i,r)!==0}minPost(){return ce.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul;class yT extends Gc{static get __EMPTY_NODE(){return Ul}static set __EMPTY_NODE(e){Ul=e}compare(e,n){return Js(e.name,n.name)}isDefinedOn(e){throw Ys("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ce.MIN}maxPost(){return new ce(Lr,Ul)}makePost(e,n){return j(typeof e=="string","KeyIndex indexValue must always be a string."),new ce(e,Ul)}toString(){return".key"}}const ks=new yT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=n?i(e.key,n):1,r&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class nt{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??nt.RED,this.left=r??Lt.EMPTY_NODE,this.right=o??Lt.EMPTY_NODE}copy(e,n,i,r,o){return new nt(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const o=i(e,r.key);return o<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Lt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Lt.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}nt.RED=!0;nt.BLACK=!1;class bM{copy(e,n,i,r,o){return this}insert(e,n,i){return new nt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Lt{constructor(e,n=Lt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Lt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,nt.BLACK,null,null))}remove(e){return new Lt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,nt.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Bl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Bl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Bl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Bl(this.root_,null,this.comparator_,!0,e)}}Lt.EMPTY_NODE=new bM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(t,e){return Js(t.name,e.name)}function qm(t,e){return Js(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let np;function LM(t){np=t}const wT=function(t){return typeof t=="number"?"number:"+YC(t):"string:"+t},ET=function(t){if(t.isLeafNode()){const e=t.val();j(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ui(e,".sv"),"Priority must be a string or number.")}else j(t===np||t.isEmpty(),"priority of unexpected type.");j(t===np||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uw;class et{constructor(e,n=et.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,j(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ET(this.priorityNode_)}static set __childrenNodeConstructor(e){uw=e}static get __childrenNodeConstructor(){return uw}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new et(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:et.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return he(e)?this:ue(e)===".priority"?this.priorityNode_:et.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:et.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=ue(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(j(i!==".priority"||Zi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,et.__childrenNodeConstructor.EMPTY_NODE.updateChild(xe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+wT(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=YC(this.value_):e+=this.value_,this.lazyHash_=qC(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===et.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof et.__childrenNodeConstructor?-1:(j(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=et.VALUE_TYPE_ORDER.indexOf(n),o=et.VALUE_TYPE_ORDER.indexOf(i);return j(r>=0,"Unknown leaf type: "+n),j(o>=0,"Unknown leaf type: "+i),r===o?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}et.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ST,CT;function OM(t){ST=t}function NM(t){CT=t}class AM extends Gc{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?Js(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ce.MIN}maxPost(){return new ce(Lr,new et("[PRIORITY-POST]",CT))}makePost(e,n){const i=ST(e);return new ce(n,new et("[PRIORITY-POST]",i))}toString(){return".priority"}}const Ue=new AM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=Math.log(2);class DM{constructor(e){const n=o=>parseInt(Math.log(o)/MM,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const qu=function(t,e,n,i){t.sort(e);const r=function(h,f){const m=f-h;let _,v;if(m===0)return null;if(m===1)return _=t[h],v=n?n(_):_,new nt(v,_.node,nt.BLACK,null,null);{const E=parseInt(m/2,10)+h,y=r(h,E),T=r(E+1,f);return _=t[E],v=n?n(_):_,new nt(v,_.node,nt.BLACK,y,T)}},o=function(h){let f=null,m=null,_=t.length;const v=function(y,T){const R=_-y,S=_;_-=y;const w=r(R+1,S),I=t[R],O=n?n(I):I;E(new nt(O,I.node,T,null,w))},E=function(y){f?(f.left=y,f=y):(m=y,f=y)};for(let y=0;y<h.count;++y){const T=h.nextBitIsOne(),R=Math.pow(2,h.count-(y+1));T?v(R,nt.BLACK):(v(R,nt.BLACK),v(R,nt.RED))}return m},l=new DM(t.length),c=o(l);return new Lt(i||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad;const is={};class Gn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return j(is&&Ue,"ChildrenNode.ts has not been loaded"),Ad=Ad||new Gn({".priority":is},{".priority":Ue}),Ad}get(e){const n=zs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Lt?n:null}hasIndex(e){return ui(this.indexSet_,e.toString())}addIndex(e,n){j(e!==ks,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=n.getIterator(ce.Wrap);let l=o.getNext();for(;l;)r=r||e.isDefinedOn(l.node),i.push(l),l=o.getNext();let c;r?c=qu(i,e.getCompare()):c=is;const h=e.toString(),f=Object.assign({},this.indexSet_);f[h]=e;const m=Object.assign({},this.indexes_);return m[h]=c,new Gn(m,f)}addToIndexes(e,n){const i=ju(this.indexes_,(r,o)=>{const l=zs(this.indexSet_,o);if(j(l,"Missing index implementation for "+o),r===is)if(l.isDefinedOn(e.node)){const c=[],h=n.getIterator(ce.Wrap);let f=h.getNext();for(;f;)f.name!==e.name&&c.push(f),f=h.getNext();return c.push(e),qu(c,l.getCompare())}else return is;else{const c=n.get(e.name);let h=r;return c&&(h=h.remove(new ce(e.name,c))),h.insert(e,e.node)}});return new Gn(i,this.indexSet_)}removeFromIndexes(e,n){const i=ju(this.indexes_,r=>{if(r===is)return r;{const o=n.get(e.name);return o?r.remove(new ce(e.name,o)):r}});return new Gn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro;class ee{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&ET(this.priorityNode_),this.children_.isEmpty()&&j(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ro||(Ro=new ee(new Lt(qm),null,Gn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ro}updatePriority(e){return this.children_.isEmpty()?this:new ee(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ro:n}}getChild(e){const n=ue(e);return n===null?this:this.getImmediateChild(n).getChild(xe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(j(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new ce(e,n);let r,o;n.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(i,this.children_));const l=r.isEmpty()?Ro:this.priorityNode_;return new ee(r,l,o)}}updateChild(e,n){const i=ue(e);if(i===null)return n;{j(ue(e)!==".priority"||Zi(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(xe(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,o=!0;if(this.forEachChild(Ue,(l,c)=>{n[l]=c.val(e),i++,o&&ee.INTEGER_REGEXP_.test(l)?r=Math.max(r,Number(l)):o=!1}),!e&&o&&r<2*i){const l=[];for(const c in n)l[c]=n[c];return l}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+wT(this.getPriority().val())+":"),this.forEachChild(Ue,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":qC(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const o=r.getPredecessorKey(new ce(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ce(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ce(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,ce.Wrap);let o=r.peek();for(;o!=null&&n.compare(o,e)<0;)r.getNext(),o=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,ce.Wrap);let o=r.peek();for(;o!=null&&n.compare(o,e)>0;)r.getNext(),o=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===qa?-1:0}withIndex(e){if(e===ks||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ee(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ks||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Ue),r=n.getIterator(Ue);let o=i.getNext(),l=r.getNext();for(;o&&l;){if(o.name!==l.name||!o.node.equals(l.node))return!1;o=i.getNext(),l=r.getNext()}return o===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===ks?null:this.indexMap_.get(e.toString())}}ee.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class FM extends ee{constructor(){super(new Lt(qm),ee.EMPTY_NODE,Gn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ee.EMPTY_NODE}isEmpty(){return!1}}const qa=new FM;Object.defineProperties(ce,{MIN:{value:new ce(js,ee.EMPTY_NODE)},MAX:{value:new ce(Lr,qa)}});yT.__EMPTY_NODE=ee.EMPTY_NODE;et.__childrenNodeConstructor=ee;LM(qa);NM(qa);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=!0;function ut(t,e=null){if(t===null)return ee.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),j(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new et(n,ut(e))}if(!(t instanceof Array)&&UM){const n=[];let i=!1;if(Ut(t,(l,c)=>{if(l.substring(0,1)!=="."){const h=ut(c);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),n.push(new ce(l,h)))}}),n.length===0)return ee.EMPTY_NODE;const o=qu(n,RM,l=>l.name,qm);if(i){const l=qu(n,Ue.getCompare());return new ee(o,ut(e),new Gn({".priority":l},{".priority":Ue}))}else return new ee(o,ut(e),Gn.Default)}else{let n=ee.EMPTY_NODE;return Ut(t,(i,r)=>{if(ui(t,i)&&i.substring(0,1)!=="."){const o=ut(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(ut(e))}}OM(ut);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM extends Gc{constructor(e){super(),this.indexPath_=e,j(!he(e)&&ue(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?Js(e.name,n.name):o}makePost(e,n){const i=ut(e),r=ee.EMPTY_NODE.updateChild(this.indexPath_,i);return new ce(n,r)}maxPost(){const e=ee.EMPTY_NODE.updateChild(this.indexPath_,qa);return new ce(Lr,e)}toString(){return _T(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM extends Gc{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Js(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ce.MIN}maxPost(){return ce.MAX}makePost(e,n){const i=ut(e);return new ce(n,i)}toString(){return".value"}}const jM=new zM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(t){return{type:"value",snapshotNode:t}}function Ws(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function xa(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ka(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function WM(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e){this.index_=e}updateChild(e,n,i,r,o,l){j(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(n);return c.getChild(r).equals(i.getChild(r))&&c.isEmpty()===i.isEmpty()||(l!=null&&(i.isEmpty()?e.hasChild(n)?l.trackChildChange(xa(n,c)):j(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?l.trackChildChange(Ws(n,i)):l.trackChildChange(ka(n,i,c))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Ue,(r,o)=>{n.hasChild(r)||i.trackChildChange(xa(r,o))}),n.isLeafNode()||n.forEachChild(Ue,(r,o)=>{if(e.hasChild(r)){const l=e.getImmediateChild(r);l.equals(o)||i.trackChildChange(ka(r,o,l))}else i.trackChildChange(Ws(r,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ee.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this.indexedFilter_=new Gm(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ba.getStartPost_(e),this.endPost_=ba.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,o,l){return this.matches(new ce(n,i))||(i=ee.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,o,l)}updateFullNode(e,n,i){n.isLeafNode()&&(n=ee.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(ee.EMPTY_NODE);const o=this;return n.forEachChild(Ue,(l,c)=>{o.matches(new ce(l,c))||(r=r.updateImmediateChild(l,ee.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new ba(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,o,l){return this.rangedFilter_.matches(new ce(n,i))||(i=ee.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,o,l):this.fullLimitUpdateChild_(e,n,i,o,l)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=ee.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=ee.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;o.hasNext()&&l<this.limit_;){const c=o.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))r=r.updateImmediateChild(c.name,c.node),l++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(ee.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let l=0;for(;o.hasNext();){const c=o.getNext();l<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?l++:r=r.updateImmediateChild(c.name,ee.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,o){let l;if(this.reverse_){const _=this.index_.getCompare();l=(v,E)=>_(E,v)}else l=this.index_.getCompare();const c=e;j(c.numChildren()===this.limit_,"");const h=new ce(n,i),f=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),m=this.rangedFilter_.matches(h);if(c.hasChild(n)){const _=c.getImmediateChild(n);let v=r.getChildAfterChild(this.index_,f,this.reverse_);for(;v!=null&&(v.name===n||c.hasChild(v.name));)v=r.getChildAfterChild(this.index_,v,this.reverse_);const E=v==null?1:l(v,h);if(m&&!i.isEmpty()&&E>=0)return o!=null&&o.trackChildChange(ka(n,i,_)),c.updateImmediateChild(n,i);{o!=null&&o.trackChildChange(xa(n,_));const T=c.updateImmediateChild(n,ee.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(o!=null&&o.trackChildChange(Ws(v.name,v.node)),T.updateImmediateChild(v.name,v.node)):T}}else return i.isEmpty()?e:m&&l(f,h)>=0?(o!=null&&(o.trackChildChange(xa(f.name,f.node)),o.trackChildChange(Ws(n,i))),c.updateImmediateChild(n,i).updateImmediateChild(f.name,ee.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ue}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return j(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return j(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:js}hasEnd(){return this.endSet_}getIndexEndValue(){return j(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return j(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Lr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return j(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ue}copy(){const e=new Km;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function $M(t){return t.loadsAllData()?new Gm(t.getIndex()):t.hasLimit()?new HM(t):new ba(t)}function cw(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ue?n="$priority":t.index_===jM?n="$value":t.index_===ks?n="$key":(j(t.index_ instanceof BM,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=rt(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=rt(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+rt(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=rt(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+rt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function hw(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ue&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu extends fT{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Za("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(j(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const l=Gu.getListenId_(e,i),c={};this.listens_[l]=c;const h=cw(e._queryParams);this.restRequest_(o+".json",h,(f,m)=>{let _=m;if(f===404&&(_=null,f=null),f===null&&this.onDataUpdate_(o,_,!1,i),zs(this.listens_,l)===c){let v;f?f===401?v="permission_denied":v="rest_error:"+f:v="ok",r(v,null)}})}unlisten(e,n){const i=Gu.getListenId_(e,n);delete this.listens_[i]}get(e){const n=cw(e._queryParams),i=e._path.toString(),r=new Wc;return this.restRequest_(i+".json",n,(o,l)=>{let c=l;o===404&&(c=null,o=null),o===null?(this.onDataUpdate_(i,c,!1,null),r.resolve(c)):r.reject(new Error(c))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Qs(n);this.log_("Sending REST request for "+l);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(i&&c.readyState===4){this.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);let h=null;if(c.status>=200&&c.status<300){try{h=Ca(c.responseText)}catch{Ft("Failed to parse JSON response for "+l+": "+c.responseText)}i(null,h)}else c.status!==401&&c.status!==404&&Ft("Got unsuccessful REST response for "+l+" Status: "+c.status),i(c.status);i=null}},c.open("GET",l,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(){this.rootNode_=ee.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(){return{value:null,children:new Map}}function IT(t,e,n){if(he(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=ue(e);t.children.has(i)||t.children.set(i,Ku());const r=t.children.get(i);e=xe(e),IT(r,e,n)}}function ip(t,e,n){t.value!==null?n(e,t.value):ZM(t,(i,r)=>{const o=new Te(e.toString()+"/"+i);ip(r,o,n)})}function ZM(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ut(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=10*1e3,GM=30*1e3,KM=5*60*1e3;class YM{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new qM(e);const i=dw+(GM-dw)*Math.random();Yo(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Ut(e,(r,o)=>{o>0&&ui(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),Yo(this.reportStats_.bind(this),Math.floor(Math.random()*2*KM))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(pn||(pn={}));function PT(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ym(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Qm(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=pn.ACK_USER_WRITE,this.source=PT()}operationForChild(e){if(he(this.path)){if(this.affectedTree.value!=null)return j(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Te(e));return new Yu(we(),n,this.revert)}}else return j(ue(this.path)===e,"operationForChild called for unrelated child."),new Yu(xe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n){this.source=e,this.path=n,this.type=pn.LISTEN_COMPLETE}operationForChild(e){return he(this.path)?new Ra(this.source,we()):new Ra(this.source,xe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=pn.OVERWRITE}operationForChild(e){return he(this.path)?new Or(this.source,we(),this.snap.getImmediateChild(e)):new Or(this.source,xe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=pn.MERGE}operationForChild(e){if(he(this.path)){const n=this.children.subtree(new Te(e));return n.isEmpty()?null:n.value?new Or(this.source,we(),n.value):new La(this.source,we(),n)}else return j(ue(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new La(this.source,xe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(he(e))return this.isFullyInitialized()&&!this.filtered_;const n=ue(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function JM(t,e,n,i){const r=[],o=[];return e.forEach(l=>{l.type==="child_changed"&&t.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(WM(l.childName,l.snapshotNode))}),Lo(t,r,"child_removed",e,i,n),Lo(t,r,"child_added",e,i,n),Lo(t,r,"child_moved",o,i,n),Lo(t,r,"child_changed",e,i,n),Lo(t,r,"value",e,i,n),r}function Lo(t,e,n,i,r,o){const l=i.filter(c=>c.type===n);l.sort((c,h)=>eD(t,c,h)),l.forEach(c=>{const h=XM(t,c,o);r.forEach(f=>{f.respondsTo(c.type)&&e.push(f.createEvent(h,t.query_))})})}function XM(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function eD(t,e,n){if(e.childName==null||n.childName==null)throw Ys("Should only compare child_ events.");const i=new ce(e.childName,e.snapshotNode),r=new ce(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t,e){return{eventCache:t,serverCache:e}}function Qo(t,e,n,i){return Kc(new Nr(e,n,i),t.serverCache)}function xT(t,e,n,i){return Kc(t.eventCache,new Nr(e,n,i))}function rp(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ar(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Md;const tD=()=>(Md||(Md=new Lt(zA)),Md);class Re{constructor(e,n=tD()){this.value=e,this.children=n}static fromObject(e){let n=new Re(null);return Ut(e,(i,r)=>{n=n.set(new Te(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:we(),value:this.value};if(he(e))return null;{const i=ue(e),r=this.children.get(i);if(r!==null){const o=r.findRootMostMatchingPathAndValue(xe(e),n);return o!=null?{path:Ke(new Te(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(he(e))return this;{const n=ue(e),i=this.children.get(n);return i!==null?i.subtree(xe(e)):new Re(null)}}set(e,n){if(he(e))return new Re(n,this.children);{const i=ue(e),o=(this.children.get(i)||new Re(null)).set(xe(e),n),l=this.children.insert(i,o);return new Re(this.value,l)}}remove(e){if(he(e))return this.children.isEmpty()?new Re(null):new Re(null,this.children);{const n=ue(e),i=this.children.get(n);if(i){const r=i.remove(xe(e));let o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new Re(null):new Re(this.value,o)}else return this}}get(e){if(he(e))return this.value;{const n=ue(e),i=this.children.get(n);return i?i.get(xe(e)):null}}setTree(e,n){if(he(e))return n;{const i=ue(e),o=(this.children.get(i)||new Re(null)).setTree(xe(e),n);let l;return o.isEmpty()?l=this.children.remove(i):l=this.children.insert(i,o),new Re(this.value,l)}}fold(e){return this.fold_(we(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Ke(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,we(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(he(e))return null;{const o=ue(e),l=this.children.get(o);return l?l.findOnPath_(xe(e),Ke(n,o),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,we(),n)}foreachOnPath_(e,n,i){if(he(e))return this;{this.value&&i(n,this.value);const r=ue(e),o=this.children.get(r);return o?o.foreachOnPath_(xe(e),Ke(n,r),i):new Re(null)}}foreach(e){this.foreach_(we(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(Ke(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.writeTree_=e}static empty(){return new gn(new Re(null))}}function Jo(t,e,n){if(he(e))return new gn(new Re(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let o=i.value;const l=Rt(r,e);return o=o.updateChild(l,n),new gn(t.writeTree_.set(r,o))}else{const r=new Re(n),o=t.writeTree_.setTree(e,r);return new gn(o)}}}function fw(t,e,n){let i=t;return Ut(n,(r,o)=>{i=Jo(i,Ke(e,r),o)}),i}function pw(t,e){if(he(e))return gn.empty();{const n=t.writeTree_.setTree(e,new Re(null));return new gn(n)}}function sp(t,e){return Vr(t,e)!=null}function Vr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Rt(n.path,e)):null}function mw(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ue,(i,r)=>{e.push(new ce(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new ce(i,r.value))}),e}function Hi(t,e){if(he(e))return t;{const n=Vr(t,e);return n!=null?new gn(new Re(n)):new gn(t.writeTree_.subtree(e))}}function op(t){return t.writeTree_.isEmpty()}function Hs(t,e){return kT(we(),t.writeTree_,e)}function kT(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{r===".priority"?(j(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=kT(Ke(t,r),o,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Ke(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t,e){return OT(e,t)}function nD(t,e,n,i,r){j(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=Jo(t.visibleWrites,e,n)),t.lastWriteId=i}function iD(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function rD(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);j(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,o=!1,l=t.allWrites.length-1;for(;r&&l>=0;){const c=t.allWrites[l];c.visible&&(l>=n&&sD(c,i.path)?r=!1:fn(i.path,c.path)&&(o=!0)),l--}if(r){if(o)return oD(t),!0;if(i.snap)t.visibleWrites=pw(t.visibleWrites,i.path);else{const c=i.children;Ut(c,h=>{t.visibleWrites=pw(t.visibleWrites,Ke(i.path,h))})}return!0}else return!1}function sD(t,e){if(t.snap)return fn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&fn(Ke(t.path,n),e))return!0;return!1}function oD(t){t.visibleWrites=bT(t.allWrites,aD,we()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function aD(t){return t.visible}function bT(t,e,n){let i=gn.empty();for(let r=0;r<t.length;++r){const o=t[r];if(e(o)){const l=o.path;let c;if(o.snap)fn(n,l)?(c=Rt(n,l),i=Jo(i,c,o.snap)):fn(l,n)&&(c=Rt(l,n),i=Jo(i,we(),o.snap.getChild(c)));else if(o.children){if(fn(n,l))c=Rt(n,l),i=fw(i,c,o.children);else if(fn(l,n))if(c=Rt(l,n),he(c))i=fw(i,we(),o.children);else{const h=zs(o.children,ue(c));if(h){const f=h.getChild(xe(c));i=Jo(i,we(),f)}}}else throw Ys("WriteRecord should have .snap or .children")}}return i}function RT(t,e,n,i,r){if(!i&&!r){const o=Vr(t.visibleWrites,e);if(o!=null)return o;{const l=Hi(t.visibleWrites,e);if(op(l))return n;if(n==null&&!sp(l,we()))return null;{const c=n||ee.EMPTY_NODE;return Hs(l,c)}}}else{const o=Hi(t.visibleWrites,e);if(!r&&op(o))return n;if(!r&&n==null&&!sp(o,we()))return null;{const l=function(f){return(f.visible||r)&&(!i||!~i.indexOf(f.writeId))&&(fn(f.path,e)||fn(e,f.path))},c=bT(t.allWrites,l,e),h=n||ee.EMPTY_NODE;return Hs(c,h)}}}function lD(t,e,n){let i=ee.EMPTY_NODE;const r=Vr(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Ue,(o,l)=>{i=i.updateImmediateChild(o,l)}),i;if(n){const o=Hi(t.visibleWrites,e);return n.forEachChild(Ue,(l,c)=>{const h=Hs(Hi(o,new Te(l)),c);i=i.updateImmediateChild(l,h)}),mw(o).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}else{const o=Hi(t.visibleWrites,e);return mw(o).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}}function uD(t,e,n,i,r){j(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Ke(e,n);if(sp(t.visibleWrites,o))return null;{const l=Hi(t.visibleWrites,o);return op(l)?r.getChild(n):Hs(l,r.getChild(n))}}function cD(t,e,n,i){const r=Ke(e,n),o=Vr(t.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){const l=Hi(t.visibleWrites,r);return Hs(l,i.getNode().getImmediateChild(n))}else return null}function hD(t,e){return Vr(t.visibleWrites,e)}function dD(t,e,n,i,r,o,l){let c;const h=Hi(t.visibleWrites,e),f=Vr(h,we());if(f!=null)c=f;else if(n!=null)c=Hs(h,n);else return[];if(c=c.withIndex(l),!c.isEmpty()&&!c.isLeafNode()){const m=[],_=l.getCompare(),v=o?c.getReverseIteratorFrom(i,l):c.getIteratorFrom(i,l);let E=v.getNext();for(;E&&m.length<r;)_(E,i)!==0&&m.push(E),E=v.getNext();return m}else return[]}function fD(){return{visibleWrites:gn.empty(),allWrites:[],lastWriteId:-1}}function Qu(t,e,n,i){return RT(t.writeTree,t.treePath,e,n,i)}function Xm(t,e){return lD(t.writeTree,t.treePath,e)}function _w(t,e,n,i){return uD(t.writeTree,t.treePath,e,n,i)}function Ju(t,e){return hD(t.writeTree,Ke(t.treePath,e))}function pD(t,e,n,i,r,o){return dD(t.writeTree,t.treePath,e,n,i,r,o)}function e_(t,e,n){return cD(t.writeTree,t.treePath,e,n)}function LT(t,e){return OT(Ke(t.treePath,e),t.writeTree)}function OT(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;j(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),j(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,ka(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,xa(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,Ws(i,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,ka(i,e.snapshotNode,r.oldSnap));else throw Ys("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const NT=new _D;class t_{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Nr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return e_(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ar(this.viewCache_),o=pD(this.writes_,r,n,1,i,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t){return{filter:t}}function vD(t,e){j(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),j(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function yD(t,e,n,i,r){const o=new mD;let l,c;if(n.type===pn.OVERWRITE){const f=n;f.source.fromUser?l=ap(t,e,f.path,f.snap,i,r,o):(j(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered()&&!he(f.path),l=Xu(t,e,f.path,f.snap,i,r,c,o))}else if(n.type===pn.MERGE){const f=n;f.source.fromUser?l=ED(t,e,f.path,f.children,i,r,o):(j(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered(),l=lp(t,e,f.path,f.children,i,r,c,o))}else if(n.type===pn.ACK_USER_WRITE){const f=n;f.revert?l=TD(t,e,f.path,i,r,o):l=SD(t,e,f.path,f.affectedTree,i,r,o)}else if(n.type===pn.LISTEN_COMPLETE)l=CD(t,e,n.path,i,o);else throw Ys("Unknown operation type: "+n.type);const h=o.getChanges();return wD(e,l,h),{viewCache:l,changes:h}}function wD(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=rp(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(TT(rp(e)))}}function AT(t,e,n,i,r,o){const l=e.eventCache;if(Ju(i,n)!=null)return e;{let c,h;if(he(n))if(j(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=Ar(e),m=f instanceof ee?f:ee.EMPTY_NODE,_=Xm(i,m);c=t.filter.updateFullNode(e.eventCache.getNode(),_,o)}else{const f=Qu(i,Ar(e));c=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const f=ue(n);if(f===".priority"){j(Zi(n)===1,"Can't have a priority with additional path components");const m=l.getNode();h=e.serverCache.getNode();const _=_w(i,n,m,h);_!=null?c=t.filter.updatePriority(m,_):c=l.getNode()}else{const m=xe(n);let _;if(l.isCompleteForChild(f)){h=e.serverCache.getNode();const v=_w(i,n,l.getNode(),h);v!=null?_=l.getNode().getImmediateChild(f).updateChild(m,v):_=l.getNode().getImmediateChild(f)}else _=e_(i,f,e.serverCache);_!=null?c=t.filter.updateChild(l.getNode(),f,_,m,r,o):c=l.getNode()}}return Qo(e,c,l.isFullyInitialized()||he(n),t.filter.filtersNodes())}}function Xu(t,e,n,i,r,o,l,c){const h=e.serverCache;let f;const m=l?t.filter:t.filter.getIndexedFilter();if(he(n))f=m.updateFullNode(h.getNode(),i,null);else if(m.filtersNodes()&&!h.isFiltered()){const E=h.getNode().updateChild(n,i);f=m.updateFullNode(h.getNode(),E,null)}else{const E=ue(n);if(!h.isCompleteForPath(n)&&Zi(n)>1)return e;const y=xe(n),R=h.getNode().getImmediateChild(E).updateChild(y,i);E===".priority"?f=m.updatePriority(h.getNode(),R):f=m.updateChild(h.getNode(),E,R,y,NT,null)}const _=xT(e,f,h.isFullyInitialized()||he(n),m.filtersNodes()),v=new t_(r,_,o);return AT(t,_,n,r,v,c)}function ap(t,e,n,i,r,o,l){const c=e.eventCache;let h,f;const m=new t_(r,e,o);if(he(n))f=t.filter.updateFullNode(e.eventCache.getNode(),i,l),h=Qo(e,f,!0,t.filter.filtersNodes());else{const _=ue(n);if(_===".priority")f=t.filter.updatePriority(e.eventCache.getNode(),i),h=Qo(e,f,c.isFullyInitialized(),c.isFiltered());else{const v=xe(n),E=c.getNode().getImmediateChild(_);let y;if(he(v))y=i;else{const T=m.getCompleteChild(_);T!=null?mT(v)===".priority"&&T.getChild(gT(v)).isEmpty()?y=T:y=T.updateChild(v,i):y=ee.EMPTY_NODE}if(E.equals(y))h=e;else{const T=t.filter.updateChild(c.getNode(),_,y,v,m,l);h=Qo(e,T,c.isFullyInitialized(),t.filter.filtersNodes())}}}return h}function gw(t,e){return t.eventCache.isCompleteForChild(e)}function ED(t,e,n,i,r,o,l){let c=e;return i.foreach((h,f)=>{const m=Ke(n,h);gw(e,ue(m))&&(c=ap(t,c,m,f,r,o,l))}),i.foreach((h,f)=>{const m=Ke(n,h);gw(e,ue(m))||(c=ap(t,c,m,f,r,o,l))}),c}function vw(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function lp(t,e,n,i,r,o,l,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,f;he(n)?f=i:f=new Re(null).setTree(n,i);const m=e.serverCache.getNode();return f.children.inorderTraversal((_,v)=>{if(m.hasChild(_)){const E=e.serverCache.getNode().getImmediateChild(_),y=vw(t,E,v);h=Xu(t,h,new Te(_),y,r,o,l,c)}}),f.children.inorderTraversal((_,v)=>{const E=!e.serverCache.isCompleteForChild(_)&&v.value===null;if(!m.hasChild(_)&&!E){const y=e.serverCache.getNode().getImmediateChild(_),T=vw(t,y,v);h=Xu(t,h,new Te(_),T,r,o,l,c)}}),h}function SD(t,e,n,i,r,o,l){if(Ju(r,n)!=null)return e;const c=e.serverCache.isFiltered(),h=e.serverCache;if(i.value!=null){if(he(n)&&h.isFullyInitialized()||h.isCompleteForPath(n))return Xu(t,e,n,h.getNode().getChild(n),r,o,c,l);if(he(n)){let f=new Re(null);return h.getNode().forEachChild(ks,(m,_)=>{f=f.set(new Te(m),_)}),lp(t,e,n,f,r,o,c,l)}else return e}else{let f=new Re(null);return i.foreach((m,_)=>{const v=Ke(n,m);h.isCompleteForPath(v)&&(f=f.set(m,h.getNode().getChild(v)))}),lp(t,e,n,f,r,o,c,l)}}function CD(t,e,n,i,r){const o=e.serverCache,l=xT(e,o.getNode(),o.isFullyInitialized()||he(n),o.isFiltered());return AT(t,l,n,i,NT,r)}function TD(t,e,n,i,r,o){let l;if(Ju(i,n)!=null)return e;{const c=new t_(i,e,r),h=e.eventCache.getNode();let f;if(he(n)||ue(n)===".priority"){let m;if(e.serverCache.isFullyInitialized())m=Qu(i,Ar(e));else{const _=e.serverCache.getNode();j(_ instanceof ee,"serverChildren would be complete if leaf node"),m=Xm(i,_)}m=m,f=t.filter.updateFullNode(h,m,o)}else{const m=ue(n);let _=e_(i,m,e.serverCache);_==null&&e.serverCache.isCompleteForChild(m)&&(_=h.getImmediateChild(m)),_!=null?f=t.filter.updateChild(h,m,_,xe(n),c,o):e.eventCache.getNode().hasChild(m)?f=t.filter.updateChild(h,m,ee.EMPTY_NODE,xe(n),c,o):f=h,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=Qu(i,Ar(e)),l.isLeafNode()&&(f=t.filter.updateFullNode(f,l,o)))}return l=e.serverCache.isFullyInitialized()||Ju(i,we())!=null,Qo(e,f,l,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new Gm(i.getIndex()),o=$M(i);this.processor_=gD(o);const l=n.serverCache,c=n.eventCache,h=r.updateFullNode(ee.EMPTY_NODE,l.getNode(),null),f=o.updateFullNode(ee.EMPTY_NODE,c.getNode(),null),m=new Nr(h,l.isFullyInitialized(),r.filtersNodes()),_=new Nr(f,c.isFullyInitialized(),o.filtersNodes());this.viewCache_=Kc(_,m),this.eventGenerator_=new QM(this.query_)}get query(){return this.query_}}function PD(t){return t.viewCache_.serverCache.getNode()}function xD(t,e){const n=Ar(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!he(e)&&!n.getImmediateChild(ue(e)).isEmpty())?n.getChild(e):null}function yw(t){return t.eventRegistrations_.length===0}function kD(t,e){t.eventRegistrations_.push(e)}function ww(t,e,n){const i=[];if(n){j(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(o=>{const l=o.createCancelEvent(n,r);l&&i.push(l)})}if(e){let r=[];for(let o=0;o<t.eventRegistrations_.length;++o){const l=t.eventRegistrations_[o];if(!l.matches(e))r.push(l);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function Ew(t,e,n,i){e.type===pn.MERGE&&e.source.queryId!==null&&(j(Ar(t.viewCache_),"We should always have a full cache before handling merges"),j(rp(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,o=yD(t.processor_,r,e,n,i);return vD(t.processor_,o.viewCache),j(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,MT(t,o.changes,o.viewCache.eventCache.getNode(),null)}function bD(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ue,(o,l)=>{i.push(Ws(o,l))}),n.isFullyInitialized()&&i.push(TT(n.getNode())),MT(t,i,n.getNode(),e)}function MT(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return JM(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec;class RD{constructor(){this.views=new Map}}function LD(t){j(!ec,"__referenceConstructor has already been defined"),ec=t}function OD(){return j(ec,"Reference.ts has not been loaded"),ec}function ND(t){return t.views.size===0}function n_(t,e,n,i){const r=e.source.queryId;if(r!==null){const o=t.views.get(r);return j(o!=null,"SyncTree gave us an op for an invalid query."),Ew(o,e,n,i)}else{let o=[];for(const l of t.views.values())o=o.concat(Ew(l,e,n,i));return o}}function AD(t,e,n,i,r){const o=e._queryIdentifier,l=t.views.get(o);if(!l){let c=Qu(n,r?i:null),h=!1;c?h=!0:i instanceof ee?(c=Xm(n,i),h=!1):(c=ee.EMPTY_NODE,h=!1);const f=Kc(new Nr(c,h,!1),new Nr(i,r,!1));return new ID(e,f)}return l}function MD(t,e,n,i,r,o){const l=AD(t,e,i,r,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,l),kD(l,n),bD(l,n)}function DD(t,e,n,i){const r=e._queryIdentifier,o=[];let l=[];const c=qi(t);if(r==="default")for(const[h,f]of t.views.entries())l=l.concat(ww(f,n,i)),yw(f)&&(t.views.delete(h),f.query._queryParams.loadsAllData()||o.push(f.query));else{const h=t.views.get(r);h&&(l=l.concat(ww(h,n,i)),yw(h)&&(t.views.delete(r),h.query._queryParams.loadsAllData()||o.push(h.query)))}return c&&!qi(t)&&o.push(new(OD())(e._repo,e._path)),{removed:o,events:l}}function DT(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function bs(t,e){let n=null;for(const i of t.views.values())n=n||xD(i,e);return n}function FT(t,e){if(e._queryParams.loadsAllData())return Yc(t);{const i=e._queryIdentifier;return t.views.get(i)}}function UT(t,e){return FT(t,e)!=null}function qi(t){return Yc(t)!=null}function Yc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc;function FD(t){j(!tc,"__referenceConstructor has already been defined"),tc=t}function UD(){return j(tc,"Reference.ts has not been loaded"),tc}let BD=1;class Sw{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Re(null),this.pendingWriteTree_=fD(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function BT(t,e,n,i,r){return nD(t.pendingWriteTree_,e,n,i,r),r?Ga(t,new Or(PT(),e,n)):[]}function fr(t,e,n=!1){const i=iD(t.pendingWriteTree_,e);if(rD(t.pendingWriteTree_,e)){let o=new Re(null);return i.snap!=null?o=o.set(we(),!0):Ut(i.children,l=>{o=o.set(new Te(l),!0)}),Ga(t,new Yu(i.path,o,n))}else return[]}function Qc(t,e,n){return Ga(t,new Or(Ym(),e,n))}function zD(t,e,n){const i=Re.fromObject(n);return Ga(t,new La(Ym(),e,i))}function jD(t,e){return Ga(t,new Ra(Ym(),e))}function WD(t,e,n){const i=r_(t,n);if(i){const r=s_(i),o=r.path,l=r.queryId,c=Rt(o,e),h=new Ra(Qm(l),c);return o_(t,o,h)}else return[]}function up(t,e,n,i,r=!1){const o=e._path,l=t.syncPointTree_.get(o);let c=[];if(l&&(e._queryIdentifier==="default"||UT(l,e))){const h=DD(l,e,n,i);ND(l)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const f=h.removed;if(c=h.events,!r){const m=f.findIndex(v=>v._queryParams.loadsAllData())!==-1,_=t.syncPointTree_.findOnPath(o,(v,E)=>qi(E));if(m&&!_){const v=t.syncPointTree_.subtree(o);if(!v.isEmpty()){const E=VD(v);for(let y=0;y<E.length;++y){const T=E[y],R=T.query,S=WT(t,T);t.listenProvider_.startListening(Xo(R),nc(t,R),S.hashFn,S.onComplete)}}}!_&&f.length>0&&!i&&(m?t.listenProvider_.stopListening(Xo(e),null):f.forEach(v=>{const E=t.queryToTagMap.get(Jc(v));t.listenProvider_.stopListening(Xo(v),E)}))}ZD(t,f)}return c}function HD(t,e,n,i){const r=r_(t,i);if(r!=null){const o=s_(r),l=o.path,c=o.queryId,h=Rt(l,e),f=new Or(Qm(c),h,n);return o_(t,l,f)}else return[]}function $D(t,e,n,i){const r=r_(t,i);if(r){const o=s_(r),l=o.path,c=o.queryId,h=Rt(l,e),f=Re.fromObject(n),m=new La(Qm(c),h,f);return o_(t,l,m)}else return[]}function Cw(t,e,n,i=!1){const r=e._path;let o=null,l=!1;t.syncPointTree_.foreachOnPath(r,(v,E)=>{const y=Rt(v,r);o=o||bs(E,y),l=l||qi(E)});let c=t.syncPointTree_.get(r);c?(l=l||qi(c),o=o||bs(c,we())):(c=new RD,t.syncPointTree_=t.syncPointTree_.set(r,c));let h;o!=null?h=!0:(h=!1,o=ee.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((E,y)=>{const T=bs(y,we());T&&(o=o.updateImmediateChild(E,T))}));const f=UT(c,e);if(!f&&!e._queryParams.loadsAllData()){const v=Jc(e);j(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const E=qD();t.queryToTagMap.set(v,E),t.tagToQueryMap.set(E,v)}const m=Jm(t.pendingWriteTree_,r);let _=MD(c,e,n,m,o,h);if(!f&&!l&&!i){const v=FT(c,e);_=_.concat(GD(t,e,v))}return _}function i_(t,e,n){const r=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(l,c)=>{const h=Rt(l,e),f=bs(c,h);if(f)return f});return RT(r,e,o,n,!0)}function Ga(t,e){return zT(e,t.syncPointTree_,null,Jm(t.pendingWriteTree_,we()))}function zT(t,e,n,i){if(he(t.path))return jT(t,e,n,i);{const r=e.get(we());n==null&&r!=null&&(n=bs(r,we()));let o=[];const l=ue(t.path),c=t.operationForChild(l),h=e.children.get(l);if(h&&c){const f=n?n.getImmediateChild(l):null,m=LT(i,l);o=o.concat(zT(c,h,f,m))}return r&&(o=o.concat(n_(r,t,i,n))),o}}function jT(t,e,n,i){const r=e.get(we());n==null&&r!=null&&(n=bs(r,we()));let o=[];return e.children.inorderTraversal((l,c)=>{const h=n?n.getImmediateChild(l):null,f=LT(i,l),m=t.operationForChild(l);m&&(o=o.concat(jT(m,c,h,f)))}),r&&(o=o.concat(n_(r,t,i,n))),o}function WT(t,e){const n=e.query,i=nc(t,n);return{hashFn:()=>(PD(e)||ee.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?WD(t,n._path,i):jD(t,n._path);{const o=HA(r,n);return up(t,n,null,o)}}}}function nc(t,e){const n=Jc(e);return t.queryToTagMap.get(n)}function Jc(t){return t._path.toString()+"$"+t._queryIdentifier}function r_(t,e){return t.tagToQueryMap.get(e)}function s_(t){const e=t.indexOf("$");return j(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Te(t.substr(0,e))}}function o_(t,e,n){const i=t.syncPointTree_.get(e);j(i,"Missing sync point for query tag that we're tracking");const r=Jm(t.pendingWriteTree_,e);return n_(i,n,r,null)}function VD(t){return t.fold((e,n,i)=>{if(n&&qi(n))return[Yc(n)];{let r=[];return n&&(r=DT(n)),Ut(i,(o,l)=>{r=r.concat(l)}),r}})}function Xo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(UD())(t._repo,t._path):t}function ZD(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const r=Jc(i),o=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(o)}}}function qD(){return BD++}function GD(t,e,n){const i=e._path,r=nc(t,e),o=WT(t,n),l=t.listenProvider_.startListening(Xo(e),r,o.hashFn,o.onComplete),c=t.syncPointTree_.subtree(i);if(r)j(!qi(c.value),"If we're adding a query, it shouldn't be shadowed");else{const h=c.fold((f,m,_)=>{if(!he(f)&&m&&qi(m))return[Yc(m).query];{let v=[];return m&&(v=v.concat(DT(m).map(E=>E.query))),Ut(_,(E,y)=>{v=v.concat(y)}),v}});for(let f=0;f<h.length;++f){const m=h[f];t.listenProvider_.stopListening(Xo(m),nc(t,m))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new a_(n)}node(){return this.node_}}class l_{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ke(this.path_,e);return new l_(this.syncTree_,n)}node(){return i_(this.syncTree_,this.path_)}}const KD=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Tw=function(t,e,n){if(!t||typeof t!="object")return t;if(j(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return YD(t[".sv"],e,n);if(typeof t[".sv"]=="object")return QD(t[".sv"],e);j(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},YD=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:j(!1,"Unexpected server value: "+t)}},QD=function(t,e,n){t.hasOwnProperty("increment")||j(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&j(!1,"Unexpected increment value: "+i);const r=e.node();if(j(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return typeof l!="number"?i:l+i},JD=function(t,e,n,i){return u_(e,new l_(n,t),i)},HT=function(t,e,n){return u_(t,new a_(e),n)};function u_(t,e,n){const i=t.getPriority().val(),r=Tw(i,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const l=t,c=Tw(l.getValue(),e,n);return c!==l.getValue()||r!==l.getPriority().val()?new et(c,ut(r)):t}else{const l=t;return o=l,r!==l.getPriority().val()&&(o=o.updatePriority(new et(r))),l.forEachChild(Ue,(c,h)=>{const f=u_(h,e.getImmediateChild(c),n);f!==h&&(o=o.updateImmediateChild(c,f))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function h_(t,e){let n=e instanceof Te?e:new Te(e),i=t,r=ue(n);for(;r!==null;){const o=zs(i.node.children,r)||{children:{},childCount:0};i=new c_(r,i,o),n=xe(n),r=ue(n)}return i}function eo(t){return t.node.value}function $T(t,e){t.node.value=e,cp(t)}function VT(t){return t.node.childCount>0}function XD(t){return eo(t)===void 0&&!VT(t)}function Xc(t,e){Ut(t.node.children,(n,i)=>{e(new c_(n,t,i))})}function ZT(t,e,n,i){n&&!i&&e(t),Xc(t,r=>{ZT(r,e,!0,i)}),n&&i&&e(t)}function eF(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Ka(t){return new Te(t.parent===null?t.name:Ka(t.parent)+"/"+t.name)}function cp(t){t.parent!==null&&tF(t.parent,t.name,t)}function tF(t,e,n){const i=XD(n),r=ui(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,cp(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,cp(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=/[\[\].#$\/\u0000-\u001F\u007F]/,iF=/[\[\].#$\u0000-\u001F\u007F]/,Dd=10*1024*1024,qT=function(t){return typeof t=="string"&&t.length!==0&&!nF.test(t)},GT=function(t){return typeof t=="string"&&t.length!==0&&!iF.test(t)},rF=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),GT(t)},sF=function(t,e,n,i){i&&e===void 0||d_(Nm(t,"value"),e,n)},d_=function(t,e,n){const i=n instanceof Te?new SM(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+or(i));if(typeof e=="function")throw new Error(t+"contains a function "+or(i)+" with contents = "+e.toString());if(GC(e))throw new Error(t+"contains "+e.toString()+" "+or(i));if(typeof e=="string"&&e.length>Dd/3&&Hc(e)>Dd)throw new Error(t+"contains a string greater than "+Dd+" utf8 bytes "+or(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,o=!1;if(Ut(e,(l,c)=>{if(l===".value")r=!0;else if(l!==".priority"&&l!==".sv"&&(o=!0,!qT(l)))throw new Error(t+" contains an invalid key ("+l+") "+or(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);CM(i,l),d_(t,c,i),TM(i)}),r&&o)throw new Error(t+' contains ".value" child '+or(i)+" in addition to actual children.")}},KT=function(t,e,n,i){if(!(i&&n===void 0)&&!GT(n))throw new Error(Nm(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},oF=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),KT(t,e,n,i)},aF=function(t,e){if(ue(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},lF=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!qT(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!rF(n))throw new Error(Nm(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function f_(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();n!==null&&!Vm(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&t.eventLists_.push(n)}function YT(t,e,n){f_(t,n),QT(t,i=>Vm(i,e))}function oi(t,e,n){f_(t,n),QT(t,i=>fn(i,e)||fn(e,i))}function QT(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const o=r.path;e(o)?(cF(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function cF(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();yr&&gt("event: "+n.toString()),Xs(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF="repo_interrupt",dF=25;class fF{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new uF,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ku(),this.transactionQueueTree_=new c_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function pF(t,e,n){if(t.stats_=Hm(t.repoInfo_),t.forceRestClient_||qA())t.server_=new Gu(t.repoInfo_,(i,r,o,l)=>{Iw(t,i,r,o,l)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Pw(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{rt(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Xn(t.repoInfo_,e,(i,r,o,l)=>{Iw(t,i,r,o,l)},i=>{Pw(t,i)},i=>{_F(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=JA(t.repoInfo_,()=>new YM(t.stats_,t.server_)),t.infoData_=new VM,t.infoSyncTree_=new Sw({startListening:(i,r,o,l)=>{let c=[];const h=t.infoData_.getNode(i._path);return h.isEmpty()||(c=Qc(t.infoSyncTree_,i._path,h),setTimeout(()=>{l("ok")},0)),c},stopListening:()=>{}}),m_(t,"connected",!1),t.serverSyncTree_=new Sw({startListening:(i,r,o,l)=>(t.server_.listen(i,o,r,(c,h)=>{const f=l(c,h);oi(t.eventQueue_,i._path,f)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function mF(t){const n=t.infoData_.getNode(new Te(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function p_(t){return KD({timestamp:mF(t)})}function Iw(t,e,n,i,r){t.dataUpdateCount++;const o=new Te(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let l=[];if(r)if(i){const h=ju(n,f=>ut(f));l=$D(t.serverSyncTree_,o,h,r)}else{const h=ut(n);l=HD(t.serverSyncTree_,o,h,r)}else if(i){const h=ju(n,f=>ut(f));l=zD(t.serverSyncTree_,o,h)}else{const h=ut(n);l=Qc(t.serverSyncTree_,o,h)}let c=o;l.length>0&&(c=eh(t,o)),oi(t.eventQueue_,c,l)}function Pw(t,e){m_(t,"connected",e),e===!1&&vF(t)}function _F(t,e){Ut(e,(n,i)=>{m_(t,n,i)})}function m_(t,e,n){const i=new Te("/.info/"+e),r=ut(n);t.infoData_.updateSnapshot(i,r);const o=Qc(t.infoSyncTree_,i,r);oi(t.eventQueue_,i,o)}function JT(t){return t.nextWriteId_++}function gF(t,e,n,i,r){__(t,"set",{path:e.toString(),value:n,priority:i});const o=p_(t),l=ut(n,i),c=i_(t.serverSyncTree_,e),h=HT(l,c,o),f=JT(t),m=BT(t.serverSyncTree_,e,h,f,!0);f_(t.eventQueue_,m),t.server_.put(e.toString(),l.val(!0),(v,E)=>{const y=v==="ok";y||Ft("set at "+e+" failed: "+v);const T=fr(t.serverSyncTree_,f,!y);oi(t.eventQueue_,e,T),EF(t,r,v,E)});const _=iI(t,e);eh(t,_),oi(t.eventQueue_,_,[])}function vF(t){__(t,"onDisconnectEvents");const e=p_(t),n=Ku();ip(t.onDisconnect_,we(),(r,o)=>{const l=JD(r,o,t.serverSyncTree_,e);IT(n,r,l)});let i=[];ip(n,we(),(r,o)=>{i=i.concat(Qc(t.serverSyncTree_,r,o));const l=iI(t,r);eh(t,l)}),t.onDisconnect_=Ku(),oi(t.eventQueue_,we(),i)}function yF(t,e,n){let i;ue(e._path)===".info"?i=Cw(t.infoSyncTree_,e,n):i=Cw(t.serverSyncTree_,e,n),YT(t.eventQueue_,e._path,i)}function xw(t,e,n){let i;ue(e._path)===".info"?i=up(t.infoSyncTree_,e,n):i=up(t.serverSyncTree_,e,n),YT(t.eventQueue_,e._path,i)}function wF(t){t.persistentConnection_&&t.persistentConnection_.interrupt(hF)}function __(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),gt(n,...e)}function EF(t,e,n,i){e&&Xs(()=>{if(n==="ok")e(null);else{const r=(n||"error").toUpperCase();let o=r;i&&(o+=": "+i);const l=new Error(o);l.code=r,e(l)}})}function XT(t,e,n){return i_(t.serverSyncTree_,e,n)||ee.EMPTY_NODE}function g_(t,e=t.transactionQueueTree_){if(e||th(t,e),eo(e)){const n=tI(t,e);j(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&SF(t,Ka(e),n)}else VT(e)&&Xc(e,n=>{g_(t,n)})}function SF(t,e,n){const i=n.map(f=>f.currentWriteId),r=XT(t,e,i);let o=r;const l=r.hash();for(let f=0;f<n.length;f++){const m=n[f];j(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const _=Rt(e,m.path);o=o.updateChild(_,m.currentOutputSnapshotRaw)}const c=o.val(!0),h=e;t.server_.put(h.toString(),c,f=>{__(t,"transaction put response",{path:h.toString(),status:f});let m=[];if(f==="ok"){const _=[];for(let v=0;v<n.length;v++)n[v].status=2,m=m.concat(fr(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&_.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();th(t,h_(t.transactionQueueTree_,e)),g_(t,t.transactionQueueTree_),oi(t.eventQueue_,e,m);for(let v=0;v<_.length;v++)Xs(_[v])}else{if(f==="datastale")for(let _=0;_<n.length;_++)n[_].status===3?n[_].status=4:n[_].status=0;else{Ft("transaction at "+h.toString()+" failed: "+f);for(let _=0;_<n.length;_++)n[_].status=4,n[_].abortReason=f}eh(t,e)}},l)}function eh(t,e){const n=eI(t,e),i=Ka(n),r=tI(t,n);return CF(t,r,i),i}function CF(t,e,n){if(e.length===0)return;const i=[];let r=[];const l=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const h=e[c],f=Rt(n,h.path);let m=!1,_;if(j(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)m=!0,_=h.abortReason,r=r.concat(fr(t.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=dF)m=!0,_="maxretry",r=r.concat(fr(t.serverSyncTree_,h.currentWriteId,!0));else{const v=XT(t,h.path,l);h.currentInputSnapshot=v;const E=e[c].update(v.val());if(E!==void 0){d_("transaction failed: Data returned ",E,h.path);let y=ut(E);typeof E=="object"&&E!=null&&ui(E,".priority")||(y=y.updatePriority(v.getPriority()));const R=h.currentWriteId,S=p_(t),w=HT(y,v,S);h.currentOutputSnapshotRaw=y,h.currentOutputSnapshotResolved=w,h.currentWriteId=JT(t),l.splice(l.indexOf(R),1),r=r.concat(BT(t.serverSyncTree_,h.path,w,h.currentWriteId,h.applyLocally)),r=r.concat(fr(t.serverSyncTree_,R,!0))}else m=!0,_="nodata",r=r.concat(fr(t.serverSyncTree_,h.currentWriteId,!0))}oi(t.eventQueue_,n,r),r=[],m&&(e[c].status=2,function(v){setTimeout(v,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(_==="nodata"?i.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):i.push(()=>e[c].onComplete(new Error(_),!1,null))))}th(t,t.transactionQueueTree_);for(let c=0;c<i.length;c++)Xs(i[c]);g_(t,t.transactionQueueTree_)}function eI(t,e){let n,i=t.transactionQueueTree_;for(n=ue(e);n!==null&&eo(i)===void 0;)i=h_(i,n),e=xe(e),n=ue(e);return i}function tI(t,e){const n=[];return nI(t,e,n),n.sort((i,r)=>i.order-r.order),n}function nI(t,e,n){const i=eo(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Xc(e,r=>{nI(t,r,n)})}function th(t,e){const n=eo(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,$T(e,n.length>0?n:void 0)}Xc(e,i=>{th(t,i)})}function iI(t,e){const n=Ka(eI(t,e)),i=h_(t.transactionQueueTree_,e);return eF(i,r=>{Fd(t,r)}),Fd(t,i),ZT(i,r=>{Fd(t,r)}),n}function Fd(t,e){const n=eo(e);if(n){const i=[];let r=[],o=-1;for(let l=0;l<n.length;l++)n[l].status===3||(n[l].status===1?(j(o===l-1,"All SENT items should be at beginning of queue."),o=l,n[l].status=3,n[l].abortReason="set"):(j(n[l].status===0,"Unexpected transaction status in abort"),n[l].unwatcher(),r=r.concat(fr(t.serverSyncTree_,n[l].currentWriteId,!0)),n[l].onComplete&&i.push(n[l].onComplete.bind(null,new Error("set"),!1,null))));o===-1?$T(e,void 0):n.length=o+1,oi(t.eventQueue_,Ka(e),r);for(let l=0;l<i.length;l++)Xs(i[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function IF(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ft(`Invalid query segment '${n}' in query '${t}'`)}return e}const kw=function(t,e){const n=PF(t),i=n.namespace;n.domain==="firebase.com"&&si(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&si("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||UA();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new oT(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new Te(n.pathString)}},PF=function(t){let e="",n="",i="",r="",o="",l=!0,c="https",h=443;if(typeof t=="string"){let f=t.indexOf("//");f>=0&&(c=t.substring(0,f-1),t=t.substring(f+2));let m=t.indexOf("/");m===-1&&(m=t.length);let _=t.indexOf("?");_===-1&&(_=t.length),e=t.substring(0,Math.min(m,_)),m<_&&(r=TF(t.substring(m,_)));const v=IF(t.substring(Math.min(t.length,_)));f=e.indexOf(":"),f>=0?(l=c==="https"||c==="wss",h=parseInt(e.substring(f+1),10)):f=e.length;const E=e.slice(0,f);if(E.toLowerCase()==="localhost")n="localhost";else if(E.split(".").length<=2)n=E;else{const y=e.indexOf(".");i=e.substring(0,y).toLowerCase(),n=e.substring(y+1),o=i}"ns"in v&&(o=v.ns)}return{host:e,port:h,domain:n,subdomain:i,secure:l,scheme:c,pathString:r,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+rt(this.snapshot.exportVal())}}class sI{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return j(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return he(this._path)?null:mT(this._path)}get ref(){return new ci(this._repo,this._path)}get _queryIdentifier(){const e=hw(this._queryParams),n=jm(e);return n==="{}"?"default":n}get _queryObject(){return hw(this._queryParams)}isEqual(e){if(e=ze(e),!(e instanceof v_))return!1;const n=this._repo===e._repo,i=Vm(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+EM(this._path)}}class ci extends v_{constructor(e,n){super(e,n,new Km,!1)}get parent(){const e=gT(this._path);return e===null?null:new ci(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Oa{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Te(e),i=ic(this.ref,e);return new Oa(this._node.getChild(n),i,Ue)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new Oa(r,ic(this.ref,i),Ue)))}hasChild(e){const n=new Te(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function oI(t,e){return t=ze(t),t._checkNotDeleted("ref"),e!==void 0?ic(t._root,e):t._root}function ic(t,e){return t=ze(t),ue(t._path)===null?oF("child","path",e,!1):KT("child","path",e,!1),new ci(t._repo,Ke(t._path,e))}function kF(t,e){t=ze(t),aF("set",t._path),sF("set",e,t._path,!1);const n=new Wc;return gF(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class y_{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new rI("value",this,new Oa(e.snapshotNode,new ci(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new sI(this,e,n):null}matches(e){return e instanceof y_?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class w_{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new sI(this,e,n):null}createEvent(e,n){j(e.childName!=null,"Child events should have a childName.");const i=ic(new ci(n._repo,n._path),e.childName),r=n._queryParams.getIndex();return new rI(e.type,this,new Oa(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof w_?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function bF(t,e,n,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){const h=n,f=(m,_)=>{xw(t._repo,t,c),h(m,_)};f.userCallback=n.userCallback,f.context=n.context,n=f}const l=new xF(n,o||void 0),c=e==="value"?new y_(l):new w_(e,l);return yF(t._repo,t,c),()=>xw(t._repo,t,c)}function RF(t,e,n,i){return bF(t,"value",e,n,i)}LD(ci);FD(ci);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF="FIREBASE_DATABASE_EMULATOR_HOST",hp={};let OF=!1;function NF(t,e,n,i){t.repoInfo_=new oT(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function AF(t,e,n,i,r){let o=i||t.options.databaseURL;o===void 0&&(t.options.projectId||si("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gt("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l=kw(o,r),c=l.repoInfo,h,f;typeof process<"u"&&process.env&&(f=process.env[LF]),f?(h=!0,o=`http://${f}?ns=${c.namespace}`,l=kw(o,r),c=l.repoInfo):h=!l.repoInfo.secure;const m=r&&h?new xs(xs.OWNER):new KA(t.name,t.options,e);lF("Invalid Firebase Database URL",l),he(l.path)||si("Database URL must point to the root of a Firebase Database (not including a child path).");const _=DF(c,t,m,new GA(t.name,n));return new FF(_,t)}function MF(t,e){const n=hp[e];(!n||n[t.key]!==t)&&si(`Database ${e}(${t.repoInfo_}) has already been deleted.`),wF(t),delete n[t.key]}function DF(t,e,n,i){let r=hp[e.name];r||(r={},hp[e.name]=r);let o=r[t.toURLString()];return o&&si("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new fF(t,OF,n,i),r[t.toURLString()]=o,o}class FF{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(pF(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ci(this._repo,we())),this._rootInternal}_delete(){return this._rootInternal!==null&&(MF(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&si("Cannot call "+e+" on a deleted database.")}}function UF(t=Vc(),e){const n=Qi(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=oC("database");i&&BF(n,...i)}return n}function BF(t,e,n,i={}){t=ze(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&si("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&si('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new xs(xs.OWNER);else if(i.mockUserToken){const l=typeof i.mockUserToken=="string"?i.mockUserToken:uC(i.mockUserToken,t.app.options.projectId);o=new xs(l)}NF(r,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(t){NA($r),wn(new rn("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return AF(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),Mt(Gy,Ky,t),Mt(Gy,Ky,"esm2017")}Xn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Xn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};zF();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="firebasestorage.googleapis.com",lI="storageBucket",jF=2*60*1e3,WF=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je extends Sn{constructor(e,n,i=0){super(Ud(e),`Firebase Storage: ${n} (${Ud(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,je.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ud(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Be;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Be||(Be={}));function Ud(t){return"storage/"+t}function E_(){const t="An unknown error occurred, please check the error payload for server response.";return new je(Be.UNKNOWN,t)}function HF(t){return new je(Be.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function $F(t){return new je(Be.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function VF(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new je(Be.UNAUTHENTICATED,t)}function ZF(){return new je(Be.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function qF(t){return new je(Be.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function GF(){return new je(Be.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KF(){return new je(Be.CANCELED,"User canceled the upload/download.")}function YF(t){return new je(Be.INVALID_URL,"Invalid URL '"+t+"'.")}function QF(t){return new je(Be.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function JF(){return new je(Be.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+lI+"' property when initializing the app?")}function XF(){return new je(Be.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function e2(){return new je(Be.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function t2(t){return new je(Be.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function dp(t){return new je(Be.INVALID_ARGUMENT,t)}function uI(){return new je(Be.APP_DELETED,"The Firebase app was deleted.")}function n2(t){return new je(Be.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ea(t,e){return new je(Be.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Oo(t){throw new je(Be.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Ct.makeFromUrl(e,n)}catch{return new Ct(e,"")}if(i.path==="")return i;throw QF(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+r+l,"i"),h={bucket:1,path:3};function f(O){O.path_=decodeURIComponent(O.path)}const m="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",E=new RegExp(`^https?://${_}/${m}/b/${r}/o${v}`,"i"),y={bucket:1,path:3},T=n===aI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",S=new RegExp(`^https?://${T}/${r}/${R}`,"i"),I=[{regex:c,indices:h,postModify:o},{regex:E,indices:y,postModify:f},{regex:S,indices:{bucket:1,path:2},postModify:f}];for(let O=0;O<I.length;O++){const B=I[O],W=B.regex.exec(e);if(W){const z=W[B.indices.bucket];let $=W[B.indices.path];$||($=""),i=new Ct(z,$),B.postModify(i);break}}if(i==null)throw YF(e);return i}}class i2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(t,e,n){let i=1,r=null,o=null,l=!1,c=0;function h(){return c===2}let f=!1;function m(...R){f||(f=!0,e.apply(null,R))}function _(R){r=setTimeout(()=>{r=null,t(E,h())},R)}function v(){o&&clearTimeout(o)}function E(R,...S){if(f){v();return}if(R){v(),m.call(null,R,...S);return}if(h()||l){v(),m.call(null,R,...S);return}i<64&&(i*=2);let I;c===1?(c=2,I=0):I=(i+Math.random())*1e3,_(I)}let y=!1;function T(R){y||(y=!0,v(),!f&&(r!==null?(R||(c=2),clearTimeout(r),_(0)):R||(c=1)))}return _(0),o=setTimeout(()=>{l=!0,T(!0)},n),T}function s2(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(t){return t!==void 0}function a2(t){return typeof t=="object"&&!Array.isArray(t)}function S_(t){return typeof t=="string"||t instanceof String}function bw(t){return C_()&&t instanceof Blob}function C_(){return typeof Blob<"u"&&!NL()}function fp(t,e,n,i){if(i<e)throw dp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw dp(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function cI(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wr;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(wr||(wr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n,i,r,o,l,c,h,f,m,_,v=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=m,this.connectionFactory_=_,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,y)=>{this.resolve_=E,this.reject_=y,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new zl(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const h=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===wr.NO_ERROR,h=o.getStatus();if(!c||l2(h,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===wr.ABORT;i(!1,new zl(!1,null,m));return}const f=this.successCodes_.indexOf(h)!==-1;i(!0,new zl(f,o))})},n=(i,r)=>{const o=this.resolve_,l=this.reject_,c=r.connection;if(r.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());o2(h)?o(h):o()}catch(h){l(h)}else if(c!==null){const h=E_();h.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,h)):l(h)}else if(r.canceled){const h=this.appDelete_?uI():KF();l(h)}else{const h=GF();l(h)}};this.canceled_?n(!1,new zl(!1,null,!0)):this.backoffId_=r2(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&s2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class zl{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function c2(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function h2(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function d2(t,e){e&&(t["X-Firebase-GMPID"]=e)}function f2(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function p2(t,e,n,i,r,o,l=!0){const c=cI(t.urlParams),h=t.url+c,f=Object.assign({},t.headers);return d2(f,e),c2(f,n),h2(f,o),f2(f,i),new u2(h,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function _2(...t){const e=m2();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(C_())return new Blob(t);throw new je(Be.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function g2(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(t){if(typeof atob>"u")throw t2("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Bd{constructor(e,n){this.data=e,this.contentType=n||null}}function y2(t,e){switch(t){case An.RAW:return new Bd(hI(e));case An.BASE64:case An.BASE64URL:return new Bd(dI(t,e));case An.DATA_URL:return new Bd(E2(e),S2(e))}throw E_()}function hI(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=i,l=t.charCodeAt(++n);i=65536|(o&1023)<<10|l&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function w2(t){let e;try{e=decodeURIComponent(t)}catch{throw ea(An.DATA_URL,"Malformed data URL.")}return hI(e)}function dI(t,e){switch(t){case An.BASE64:{const r=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(r||o)throw ea(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case An.BASE64URL:{const r=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(r||o)throw ea(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=v2(e)}catch(r){throw r.message.includes("polyfill")?r:ea(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class fI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ea(An.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=C2(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function E2(t){const e=new fI(t);return e.base64?dI(An.BASE64,e.rest):w2(e.rest)}function S2(t){return new fI(t).contentType}function C2(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n){let i=0,r="";bw(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(bw(this.data_)){const i=this.data_,r=g2(i,e,n);return r===null?null:new Ci(r)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Ci(i,!0)}}static getBlob(...e){if(C_()){const n=e.map(i=>i instanceof Ci?i.data_:i);return new Ci(_2.apply(null,n))}else{const n=e.map(l=>S_(l)?y2(An.RAW,l).data:l.data_);let i=0;n.forEach(l=>{i+=l.byteLength});const r=new Uint8Array(i);let o=0;return n.forEach(l=>{for(let c=0;c<l.length;c++)r[o++]=l[c]}),new Ci(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t){let e;try{e=JSON.parse(t)}catch{return null}return a2(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function I2(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function pI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(t,e){return e}class Et{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||P2}}let jl=null;function x2(t){return!S_(t)||t.length<2?t:pI(t)}function mI(){if(jl)return jl;const t=[];t.push(new Et("bucket")),t.push(new Et("generation")),t.push(new Et("metageneration")),t.push(new Et("name","fullPath",!0));function e(o,l){return x2(l)}const n=new Et("name");n.xform=e,t.push(n);function i(o,l){return l!==void 0?Number(l):l}const r=new Et("size");return r.xform=i,t.push(r),t.push(new Et("timeCreated")),t.push(new Et("updated")),t.push(new Et("md5Hash",null,!0)),t.push(new Et("cacheControl",null,!0)),t.push(new Et("contentDisposition",null,!0)),t.push(new Et("contentEncoding",null,!0)),t.push(new Et("contentLanguage",null,!0)),t.push(new Et("contentType",null,!0)),t.push(new Et("metadata","customMetadata",!0)),jl=t,jl}function k2(t,e){function n(){const i=t.bucket,r=t.fullPath,o=new Ct(i,r);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function b2(t,e,n){const i={};i.type="file";const r=n.length;for(let o=0;o<r;o++){const l=n[o];i[l.local]=l.xform(i,e[l.server])}return k2(i,t),i}function _I(t,e,n){const i=T_(e);return i===null?null:b2(t,i,n)}function R2(t,e,n,i){const r=T_(e);if(r===null||!S_(r.downloadTokens))return null;const o=r.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(f=>{const m=t.bucket,_=t.fullPath,v="/b/"+l(m)+"/o/"+l(_),E=nh(v,n,i),y=cI({alt:"media",token:f});return E+y})[0]}function L2(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const o=e[r];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="prefixes",Lw="items";function O2(t,e,n){const i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Rw])for(const r of n[Rw]){const o=r.replace(/\/$/,""),l=t._makeStorageReference(new Ct(e,o));i.prefixes.push(l)}if(n[Lw])for(const r of n[Lw]){const o=t._makeStorageReference(new Ct(e,r.name));i.items.push(o)}return i}function N2(t,e,n){const i=T_(n);return i===null?null:O2(t,e,i)}class I_{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(t){if(!t)throw E_()}function A2(t,e){function n(i,r){const o=_I(t,r,e);return P_(o!==null),o}return n}function M2(t,e){function n(i,r){const o=N2(t,e,r);return P_(o!==null),o}return n}function D2(t,e){function n(i,r){const o=_I(t,r,e);return P_(o!==null),R2(o,r,t.host,t._protocol)}return n}function x_(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=ZF():r=VF():n.getStatus()===402?r=$F(t.bucket):n.getStatus()===403?r=qF(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function F2(t){const e=x_(t);function n(i,r){let o=e(i,r);return i.getStatus()===404&&(o=HF(t.path)),o.serverResponse=r.serverResponse,o}return n}function U2(t,e,n,i,r){const o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),i&&(o.pageToken=i),r&&(o.maxResults=r);const l=e.bucketOnlyServerUrl(),c=nh(l,t.host,t._protocol),h="GET",f=t.maxOperationRetryTime,m=new I_(c,h,M2(t,e.bucket),f);return m.urlParams=o,m.errorHandler=x_(e),m}function B2(t,e,n){const i=e.fullServerUrl(),r=nh(i,t.host,t._protocol),o="GET",l=t.maxOperationRetryTime,c=new I_(r,o,D2(t,n),l);return c.errorHandler=F2(e),c}function z2(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function j2(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=z2(null,e)),i}function W2(t,e,n,i,r){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let I="";for(let O=0;O<2;O++)I=I+Math.random().toString().slice(2);return I}const h=c();l["Content-Type"]="multipart/related; boundary="+h;const f=j2(e,i,r),m=L2(f,n),_="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+h+"--",E=Ci.getBlob(_,i,v);if(E===null)throw XF();const y={name:f.fullPath},T=nh(o,t.host,t._protocol),R="POST",S=t.maxUploadRetryTime,w=new I_(T,R,A2(t,n),S);return w.urlParams=y,w.headers=l,w.body=E.uploadData(),w.errorHandler=x_(e),w}class H2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=wr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=wr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw Oo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Oo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Oo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Oo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Oo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class $2 extends H2{initXhr(){this.xhr_.responseType="text"}}function k_(){return new $2}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,n){this._service=e,n instanceof Ct?this._location=n:this._location=Ct.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Mr(e,n)}get root(){const e=new Ct(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pI(this._location.path)}get storage(){return this._service}get parent(){const e=T2(this._location.path);if(e===null)return null;const n=new Ct(this._location.bucket,e);return new Mr(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw n2(e)}}function V2(t,e,n){t._throwIfRoot("uploadBytes");const i=W2(t.storage,t._location,mI(),new Ci(e,!0),n);return t.storage.makeRequestWithTokens(i,k_).then(r=>({metadata:r,ref:t}))}function Z2(t){const e={prefixes:[],items:[]};return gI(t,e).then(()=>e)}async function gI(t,e,n){const r=await q2(t,{pageToken:n});e.prefixes.push(...r.prefixes),e.items.push(...r.items),r.nextPageToken!=null&&await gI(t,e,r.nextPageToken)}function q2(t,e){e!=null&&typeof e.maxResults=="number"&&fp("options.maxResults",1,1e3,e.maxResults);const n=e||{},i=U2(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(i,k_)}function G2(t){t._throwIfRoot("getDownloadURL");const e=B2(t.storage,t._location,mI());return t.storage.makeRequestWithTokens(e,k_).then(n=>{if(n===null)throw e2();return n})}function K2(t,e){const n=I2(t._location.path,e),i=new Ct(t._location.bucket,n);return new Mr(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t){return/^[A-Za-z]+:\/\//.test(t)}function Q2(t,e){return new Mr(t,e)}function vI(t,e){if(t instanceof b_){const n=t;if(n._bucket==null)throw JF();const i=new Mr(n,n._bucket);return e!=null?vI(i,e):i}else return e!==void 0?K2(t,e):t}function J2(t,e){if(e&&Y2(e)){if(t instanceof b_)return Q2(t,e);throw dp("To use ref(service, url), the first argument must be a Storage instance.")}else return vI(t,e)}function Ow(t,e){const n=e==null?void 0:e[lI];return n==null?null:Ct.makeFromBucketSpec(n,t)}function X2(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:uC(r,t.app.options.projectId))}class b_{constructor(e,n,i,r,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=aI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jF,this._maxUploadRetryTime=WF,this._requests=new Set,r!=null?this._bucket=Ct.makeFromBucketSpec(r,this._host):this._bucket=Ow(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ct.makeFromBucketSpec(this._url,e):this._bucket=Ow(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Mr(this,e)}_makeRequest(e,n,i,r,o=!0){if(this._deleted)return new i2(uI());{const l=p2(e,this._appId,i,r,n,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const Nw="@firebase/storage",Aw="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="storage";function eU(t,e,n){return t=ze(t),V2(t,e,n)}function tU(t){return t=ze(t),Z2(t)}function wI(t){return t=ze(t),G2(t)}function pp(t,e){return t=ze(t),J2(t,e)}function nU(t=Vc(),e){t=ze(t);const i=Qi(t,yI).getImmediate({identifier:e}),r=oC("storage");return r&&iU(i,...r),i}function iU(t,e,n,i={}){X2(t,e,n,i)}function rU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new b_(n,i,r,e,$r)}function sU(){wn(new rn(yI,rU,"PUBLIC").setMultipleInstances(!0)),Mt(Nw,Aw,""),Mt(Nw,Aw,"esm2017")}sU();function R_(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function EI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oU=EI,SI=new Hr("auth","Firebase",EI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=new $c("@firebase/auth");function aU(t,...e){rc.logLevel<=Se.WARN&&rc.warn(`Auth (${$r}): ${t}`,...e)}function ou(t,...e){rc.logLevel<=Se.ERROR&&rc.error(`Auth (${$r}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t,...e){throw L_(t,...e)}function Fn(t,...e){return L_(t,...e)}function lU(t,e,n){const i=Object.assign(Object.assign({},oU()),{[e]:n});return new Hr("auth","Firebase",i).create(e,{appName:t.name})}function L_(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return SI.create(t,...e)}function J(t,e,...n){if(!t)throw L_(e,...n)}function Kn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ou(e),new Error(e)}function ai(t,e){t||Kn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function uU(){return Mw()==="http:"||Mw()==="https:"}function Mw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uU()||cC()||"connection"in navigator)?navigator.onLine:!0}function hU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n){this.shortDelay=e,this.longDelay=n,ai(n>e,"Short delay should be less than long delay!"),this.isMobile=Om()||hC()}get(){return cU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(t,e){ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=new Ya(3e4,6e4);function hi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function di(t,e,n,i,r={}){return TI(t,r,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const c=Qs(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),CI.fetch()(II(t,t.config.apiHost,n,c),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},o))})}async function TI(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},dU),e);try{const r=new mU(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Wl(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wl(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Wl(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Wl(t,"user-disabled",l);const m=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw lU(t,m,f);En(t,m)}}catch(r){if(r instanceof Sn)throw r;En(t,"network-request-failed",{message:String(r)})}}async function Qa(t,e,n,i,r={}){const o=await di(t,e,n,i,r);return"mfaPendingCredential"in o&&En(t,"multi-factor-auth-required",{_serverResponse:o}),o}function II(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?O_(t.config,r):`${t.config.apiScheme}://${r}`}function pU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Fn(this.auth,"network-request-failed")),fU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wl(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Fn(t,e,i);return r.customData._tokenResponse=n,r}function Dw(t){return t!==void 0&&t.enterprise!==void 0}class _U{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function gU(t,e){return di(t,"GET","/v2/recaptchaConfig",hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU(t,e){return di(t,"POST","/v1/accounts:delete",e)}async function yU(t,e){return di(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wU(t,e=!1){const n=ze(t),i=await n.getIdToken(e),r=N_(i);J(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:ta(zd(r.auth_time)),issuedAtTime:ta(zd(r.iat)),expirationTime:ta(zd(r.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function zd(t){return Number(t)*1e3}function N_(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return ou("JWT malformed, contained fewer than 3 sections"),null;try{const r=zu(n);return r?JSON.parse(r):(ou("Failed to decode base64 JWT payload"),null)}catch(r){return ou("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function EU(t){const e=N_(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Na(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Sn&&SU(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function SU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ta(this.lastLoginAt),this.creationTime=ta(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Na(t,yU(n,{idToken:i}));J(r==null?void 0:r.users.length,n,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?PU(o.providerUserInfo):[],c=IU(t.providerData,l),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(c!=null&&c.length),m=h?f:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new PI(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,_)}async function TU(t){const e=ze(t);await sc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IU(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function PU(t){return t.map(e=>{var{providerId:n}=e,i=R_(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xU(t,e){const n=await TI(t,{},async()=>{const i=Qs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,l=II(t,r,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",CI.fetch()(l,{method:"POST",headers:c,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kU(t,e){return di(t,"POST","/v2/accounts:revokeToken",hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):EU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return J(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await xU(e,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,l=new Aa;return i&&(J(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),r&&(J(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),o&&(J(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Aa,this.toJSON())}_performRefresh(){return Kn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Er{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=R_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new PI(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Na(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wU(this,e)}reload(){return TU(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Er(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await sc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Na(this,vU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,l,c,h,f,m;const _=(i=n.displayName)!==null&&i!==void 0?i:void 0,v=(r=n.email)!==null&&r!==void 0?r:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,y=(l=n.photoURL)!==null&&l!==void 0?l:void 0,T=(c=n.tenantId)!==null&&c!==void 0?c:void 0,R=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,S=(f=n.createdAt)!==null&&f!==void 0?f:void 0,w=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:I,emailVerified:O,isAnonymous:B,providerData:W,stsTokenManager:z}=n;J(I&&z,e,"internal-error");const $=Aa.fromJSON(this.name,z);J(typeof I=="string",e,"internal-error"),vi(_,e.name),vi(v,e.name),J(typeof O=="boolean",e,"internal-error"),J(typeof B=="boolean",e,"internal-error"),vi(E,e.name),vi(y,e.name),vi(T,e.name),vi(R,e.name),vi(S,e.name),vi(w,e.name);const ae=new Er({uid:I,auth:e,email:v,emailVerified:O,displayName:_,isAnonymous:B,photoURL:y,phoneNumber:E,tenantId:T,stsTokenManager:$,createdAt:S,lastLoginAt:w});return W&&Array.isArray(W)&&(ae.providerData=W.map(te=>Object.assign({},te))),R&&(ae._redirectEventId=R),ae}static async _fromIdTokenResponse(e,n,i=!1){const r=new Aa;r.updateFromServerResponse(n);const o=new Er({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await sc(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=new Map;function Yn(t){ai(t instanceof Function,"Expected a class definition");let e=Fw.get(t);return e?(ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Fw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xI.type="NONE";const Uw=xI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t,e,n){return`firebase:${t}:${e}:${n}`}class Rs{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=au(this.userKey,r.apiKey,o),this.fullPersistenceKey=au("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Er._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Rs(Yn(Uw),e,i);const r=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||Yn(Uw);const l=au(i,e.config.apiKey,e.name);let c=null;for(const f of n)try{const m=await f._get(l);if(m){const _=Er._fromJSON(e,m);f!==o&&(c=_),o=f;break}}catch{}const h=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Rs(o,e,i):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Rs(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OI(e))return"Blackberry";if(NI(e))return"Webos";if(A_(e))return"Safari";if((e.includes("chrome/")||bI(e))&&!e.includes("edge/"))return"Chrome";if(LI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function kI(t=yt()){return/firefox\//i.test(t)}function A_(t=yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bI(t=yt()){return/crios\//i.test(t)}function RI(t=yt()){return/iemobile/i.test(t)}function LI(t=yt()){return/android/i.test(t)}function OI(t=yt()){return/blackberry/i.test(t)}function NI(t=yt()){return/webos/i.test(t)}function ih(t=yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bU(t=yt()){var e;return ih(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RU(){return AL()&&document.documentMode===10}function AI(t=yt()){return ih(t)||LI(t)||NI(t)||OI(t)||/windows phone/i.test(t)||RI(t)}function LU(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(t,e=[]){let n;switch(t){case"Browser":n=Bw(yt());break;case"Worker":n=`${Bw(yt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$r}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NU(t,e={}){return di(t,"GET","/v2/passwordPolicy",hi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=6;class MU{constructor(e){var n,i,r,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:AU,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(r=h.containsLowercaseLetter)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zw(this),this.idTokenSubscription=new zw(this),this.beforeStateQueue=new OU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yn(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Rs.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ze(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Yn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NU(this),n=new MU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hr("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await kU(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yn(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await Rs.create(this,[Yn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,r);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&aU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Zr(t){return ze(t)}class zw{constructor(e){this.auth=e,this.observer=null,this.addObserver=WL(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function DI(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const o=Fn("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",FU().appendChild(i)})}function UU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const BU="https://www.google.com/recaptcha/enterprise.js?render=",zU="recaptcha-enterprise",jU="NO_RECAPTCHA";class WU{constructor(e){this.type=zU,this.auth=Zr(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{gU(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new _U(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(h=>{c(h)})})}function r(o,l,c){const h=window.grecaptcha;Dw(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(jU)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,l)=>{i(this.auth).then(c=>{if(!n&&Dw(window.grecaptcha))r(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}DI(BU+c).then(()=>{r(c,o,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function jw(t,e,n,i=!1){const r=new WU(t);let o;try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const l=Object.assign({},e);return i?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function _p(t,e,n,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await jw(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await jw(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(t,e){const n=Qi(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(Ta(o,e??{}))return r;En(r,"already-initialized")}return n.initialize({options:e})}function $U(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Yn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function VU(t,e,n){const i=Zr(t);J(i._canInitEmulator,i,"emulator-config-failed"),J(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),o=FI(e),{host:l,port:c}=ZU(e),h=c===null?"":`:${c}`;i.config.emulator={url:`${o}//${l}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||qU()}function FI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ZU(t){const e=FI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:Ww(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:Ww(l)}}}function Ww(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function qU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Kn("not implemented")}_getIdTokenResponse(e){return Kn("not implemented")}_linkToIdToken(e,n){return Kn("not implemented")}_getReauthenticationResolver(e){return Kn("not implemented")}}async function GU(t,e){return di(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KU(t,e){return Qa(t,"POST","/v1/accounts:signInWithPassword",hi(t,e))}async function YU(t,e){return di(t,"POST","/v1/accounts:sendOobCode",hi(t,e))}async function QU(t,e){return YU(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JU(t,e){return Qa(t,"POST","/v1/accounts:signInWithEmailLink",hi(t,e))}async function XU(t,e){return Qa(t,"POST","/v1/accounts:signInWithEmailLink",hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends M_{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Ma(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Ma(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _p(e,n,"signInWithPassword",KU);case"emailLink":return JU(e,{email:this._email,oobCode:this._password});default:En(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _p(e,i,"signUpPassword",GU);case"emailLink":return XU(e,{idToken:n,email:this._email,oobCode:this._password});default:En(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ls(t,e){return Qa(t,"POST","/v1/accounts:signInWithIdp",hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB="http://localhost";class Dr extends M_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Dr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):En("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=R_(n,["providerId","signInMethod"]);if(!i||!r)return null;const l=new Dr(i,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ls(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ls(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ls(e,n)}buildRequest(){const e={requestUri:eB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qs(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nB(t){const e=Uo(Bo(t)).link,n=e?Uo(Bo(e)).deep_link_id:null,i=Uo(Bo(t)).deep_link_id;return(i?Uo(Bo(i)).link:null)||i||n||e||t}class D_{constructor(e){var n,i,r,o,l,c;const h=Uo(Bo(e)),f=(n=h.apiKey)!==null&&n!==void 0?n:null,m=(i=h.oobCode)!==null&&i!==void 0?i:null,_=tB((r=h.mode)!==null&&r!==void 0?r:null);J(f&&m&&_,"argument-error"),this.apiKey=f,this.operation=_,this.code=m,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=nB(e);try{return new D_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.providerId=to.PROVIDER_ID}static credential(e,n){return Ma._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=D_.parseLink(n);return J(i,"argument-error"),Ma._fromEmailAndCode(e,i.code,i.tenantId)}}to.PROVIDER_ID="password";to.EMAIL_PASSWORD_SIGN_IN_METHOD="password";to.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends UI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Ja{constructor(){super("facebook.com")}static credential(e){return Dr._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends Ja{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Dr._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ii.credential(n,i)}catch{return null}}}Ii.GOOGLE_SIGN_IN_METHOD="google.com";Ii.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Ja{constructor(){super("github.com")}static credential(e){return Dr._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.GITHUB_SIGN_IN_METHOD="github.com";Pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Ja{constructor(){super("twitter.com")}static credential(e,n){return Dr._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return xi.credential(n,i)}catch{return null}}}xi.TWITTER_SIGN_IN_METHOD="twitter.com";xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iB(t,e){return Qa(t,"POST","/v1/accounts:signUp",hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const o=await Er._fromIdTokenResponse(e,i,r),l=Hw(i);return new Fr({user:o,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=Hw(i);return new Fr({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function Hw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends Sn{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,oc.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new oc(e,n,i,r)}}function BI(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?oc._fromErrorAndOperation(t,o,e,i):o})}async function rB(t,e,n=!1){const i=await Na(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fr._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sB(t,e,n=!1){const{auth:i}=t,r="reauthenticate";try{const o=await Na(t,BI(i,r,e,t),n);J(o.idToken,i,"internal-error");const l=N_(o.idToken);J(l,i,"internal-error");const{sub:c}=l;return J(t.uid===c,i,"user-mismatch"),Fr._forOperation(t,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&En(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(t,e,n=!1){const i="signIn",r=await BI(t,i,e),o=await Fr._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(o.user),o}async function oB(t,e){return zI(Zr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aB(t,e,n){var i;J(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),J(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(J(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(J(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(t){const e=Zr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lB(t,e,n){const i=Zr(t),l=await _p(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iB).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&jI(t),h}),c=await Fr._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(c.user),c}function uB(t,e,n){return oB(ze(t),to.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&jI(t),i})}async function cB(t,e){const n=ze(t),r={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&aB(n.auth,r,e);const{email:o}=await QU(n.auth,r);o!==t.email&&await t.reload()}function hB(t,e,n,i){return ze(t).onIdTokenChanged(e,n,i)}function dB(t,e,n){return ze(t).beforeAuthStateChanged(e,n)}function WI(t,e,n,i){return ze(t).onAuthStateChanged(e,n,i)}function fB(t){return ze(t).signOut()}const ac="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ac,"1"),this.storage.removeItem(ac),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pB(){const t=yt();return A_(t)||ih(t)}const mB=1e3,_B=10;class $I extends HI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=pB()&&LU(),this.fallbackToPolling=AI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(i);if(e.newValue!==l)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const r=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);RU()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,_B):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},mB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$I.type="LOCAL";const gB=$I;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI extends HI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VI.type="SESSION";const ZI=VI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new rh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:o}=n.data,l=this.handlersMap[r];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const c=Array.from(l).map(async f=>f(n.origin,o)),h=await vB(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const f=F_("",20);r.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(_){const v=_;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(v.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return window}function wB(t){Un().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}async function EB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function CB(){return qI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="firebaseLocalStorageDb",TB=1,lc="firebaseLocalStorage",KI="fbase_key";class Xa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sh(t,e){return t.transaction([lc],e?"readwrite":"readonly").objectStore(lc)}function IB(){const t=indexedDB.deleteDatabase(GI);return new Xa(t).toPromise()}function gp(){const t=indexedDB.open(GI,TB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(lc,{keyPath:KI})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(lc)?e(i):(i.close(),await IB(),e(await gp()))})})}async function $w(t,e,n){const i=sh(t,!0).put({[KI]:e,value:n});return new Xa(i).toPromise()}async function PB(t,e){const n=sh(t,!1).get(e),i=await new Xa(n).toPromise();return i===void 0?null:i.value}function Vw(t,e){const n=sh(t,!0).delete(e);return new Xa(n).toPromise()}const xB=800,kB=3;class YI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>kB)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rh._getInstance(CB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await EB(),!this.activeServiceWorker)return;this.sender=new yB(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gp();return await $w(e,ac,"1"),await Vw(e,ac),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>$w(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>PB(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Vw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=sh(r,!1).getAll();return new Xa(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YI.type="LOCAL";const bB=YI;new Ya(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RB(t,e){return e?Yn(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_ extends M_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ls(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ls(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ls(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function LB(t){return zI(t.auth,new U_(t),t.bypassAuthState)}function OB(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),sB(n,new U_(t),t.bypassAuthState)}async function NB(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),rB(n,new U_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LB;case"linkViaPopup":case"linkViaRedirect":return NB;case"reauthViaPopup":case"reauthViaRedirect":return OB;default:En(this.auth,"internal-error")}}resolve(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB=new Ya(2e3,1e4);class vs extends QI{constructor(e,n,i,r,o){super(e,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,vs.currentPopupAction&&vs.currentPopupAction.cancel(),vs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){ai(this.filter.length===1,"Popup operations only handle one event");const e=F_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AB.get())};e()}}vs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB="pendingRedirect",lu=new Map;class DB extends QI{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=lu.get(this.auth._key());if(!e){try{const i=await FB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}lu.set(this.auth._key(),e)}return this.bypassAuthState||lu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FB(t,e){const n=zB(e),i=BB(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function UB(t,e){lu.set(t._key(),e)}function BB(t){return Yn(t._redirectPersistence)}function zB(t){return au(MB,t.config.apiKey,t.name)}async function jB(t,e,n=!1){const i=Zr(t),r=RB(i,e),l=await new DB(i,r,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB=10*60*1e3;class HB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$B(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!JI(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Fn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WB&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zw(e))}saveEventToCache(e){this.cachedEventUids.add(Zw(e)),this.lastProcessedEventTime=Date.now()}}function Zw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $B(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VB(t,e={}){return di(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qB=/^https?/;async function GB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await VB(t);for(const n of e)try{if(KB(n))return}catch{}En(t,"unauthorized-domain")}function KB(t){const e=mp(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!qB.test(n))return!1;if(ZB.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=new Ya(3e4,6e4);function qw(){const t=Un().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QB(t){return new Promise((e,n)=>{var i,r,o;function l(){qw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qw(),n(Fn(t,"network-request-failed"))},timeout:YB.get()})}if(!((r=(i=Un().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=Un().gapi)===null||o===void 0)&&o.load)l();else{const c=UU("iframefcb");return Un()[c]=()=>{gapi.load?l():n(Fn(t,"network-request-failed"))},DI(`https://apis.google.com/js/api.js?onload=${c}`).catch(h=>n(h))}}).catch(e=>{throw uu=null,e})}let uu=null;function JB(t){return uu=uu||QB(t),uu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XB=new Ya(5e3,15e3),ez="__/auth/iframe",tz="emulator/auth/iframe",nz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rz(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?O_(e,tz):`https://${t.config.authDomain}/${ez}`,i={apiKey:e.apiKey,appName:t.name,v:$r},r=iz.get(t.config.apiHost);r&&(i.eid=r);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Qs(i).slice(1)}`}async function sz(t){const e=await JB(t),n=Un().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:rz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nz,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const l=Fn(t,"network-request-failed"),c=Un().setTimeout(()=>{o(l)},XB.get());function h(){Un().clearTimeout(c),r(i)}i.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},az=500,lz=600,uz="_blank",cz="http://localhost";class Gw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hz(t,e,n,i=az,r=lz){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h=Object.assign(Object.assign({},oz),{width:i.toString(),height:r.toString(),top:o,left:l}),f=yt().toLowerCase();n&&(c=bI(f)?uz:n),kI(f)&&(e=e||cz,h.scrollbars="yes");const m=Object.entries(h).reduce((v,[E,y])=>`${v}${E}=${y},`,"");if(bU(f)&&c!=="_self")return dz(e||"",c),new Gw(null);const _=window.open(e||"",c,m);J(_,t,"popup-blocked");try{_.focus()}catch{}return new Gw(_)}function dz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz="__/auth/handler",pz="emulator/auth/handler",mz=encodeURIComponent("fac");async function Kw(t,e,n,i,r,o){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:$r,eventId:r};if(e instanceof UI){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",$f(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,_]of Object.entries(o||{}))l[m]=_}if(e instanceof Ja){const m=e.getScopes().filter(_=>_!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const h=await t._getAppCheckToken(),f=h?`#${mz}=${encodeURIComponent(h)}`:"";return`${_z(t)}?${Qs(c).slice(1)}${f}`}function _z({config:t}){return t.emulator?O_(t,pz):`https://${t.authDomain}/${fz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="webStorageSupport";class gz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZI,this._completeRedirectFn=jB,this._overrideRedirectResult=UB}async _openPopup(e,n,i,r){var o;ai((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await Kw(e,n,i,mp(),r);return hz(e,l,F_())}async _openRedirect(e,n,i,r){await this._originValidation(e);const o=await Kw(e,n,i,mp(),r);return wB(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(ai(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await sz(e),i=new HB(e);return n.register("authEvent",r=>(J(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jd,{type:jd},r=>{var o;const l=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[jd];l!==void 0&&n(!!l),En(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return AI()||A_()||ih()}}const vz=gz;var Yw="@firebase/auth",Qw="1.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Ez(t){wn(new rn("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;J(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MI(t)},f=new DU(i,r,o,h);return $U(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),wn(new rn("auth-internal",e=>{const n=Zr(e.getProvider("auth").getImmediate());return(i=>new yz(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mt(Yw,Qw,wz(t)),Mt(Yw,Qw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz=5*60,Cz=lC("authIdTokenMaxAge")||Sz;let Jw=null;const Tz=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Cz)return;const r=n==null?void 0:n.token;Jw!==r&&(Jw=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Iz(t=Vc()){const e=Qi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=HU(t,{popupRedirectResolver:vz,persistence:[bB,gB,ZI]}),i=lC("authTokenSyncURL");if(i){const o=Tz(i);dB(n,o,()=>o(n.currentUser)),hB(n,l=>o(l))}const r=sC("auth");return r&&VU(n,`http://${r}`),n}Ez("Browser");const Pz={apiKey:"AIzaSyBEfQt_JsW2jTY83A3EwRAVSn56--ESJ0M",authDomain:"skatespots-56bd6.firebaseapp.com",databaseURL:"https://skatespots-56bd6-default-rtdb.firebaseio.com",projectId:"skatespots-56bd6",storageBucket:"skatespots-56bd6.appspot.com",messagingSenderId:"439071919444",appId:"1:439071919444:web:211c9df6c6f6291bddccc1",measurementId:"G-GKPZW9GDTQ"},oh=vC(Pz);bA(oh);const XI=UF(oh),vp=nU(oh),Ur=Iz(oh);function ah(){Mc();const[t,e]=A.useState(null);A.useEffect(()=>{const i=WI(Ur,r=>{r?(e(r),console.log(r)):e(null)});return()=>{i()}},[]);const n=()=>{fB(Ur).then(()=>{console.log("Sign out successful."),e(null)}).catch(i=>console.log(i))};return P.jsxs("nav",{className:"nav",children:[P.jsx("a",{href:"/",className:"titleSite",children:"jonathan gooning"}),P.jsxs("ul",{children:[P.jsx("li",{children:P.jsx("a",{href:"/skateSpots/#submit",children:P.jsx("button",{className:"submitButton",children:"Submit a Spot"})})}),P.jsx("li",{children:t!==null?P.jsx("div",{children:P.jsx("button",{onClick:n,className:"submitButton",children:"Logout"})}):P.jsxs("ul",{children:[P.jsx("a",{href:"/skateSpots/#login",children:P.jsx("button",{className:"loginButton",children:"Login"})}),P.jsx("a",{href:"/skateSpots/#register",children:P.jsx("button",{className:"regButton",children:"Register"})})]})})]})]})}function xz(){const[t,e]=A.useState(),[n,i]=A.useState(),r=Mc(),o={url:"http://localhost:3000/home",handleCodeInApp:!0},l=c=>{c.preventDefault(),lB(Ur,t,n).then(h=>{console.log(h),cB(Ur.currentUser,o).then(()=>{console.log("Email verification link sent!")}),r("/")}).catch(h=>{console.log(h)})};return P.jsxs(A.Fragment,{children:[P.jsx(ah,{}),P.jsx("div",{children:P.jsxs("div",{className:"container",children:[P.jsx("br",{}),P.jsx("br",{}),P.jsx("br",{}),P.jsx("h2",{id:"topText",children:"Register"}),P.jsx("br",{}),P.jsxs("form",{onSubmit:l,children:[P.jsx("br",{}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"email",children:P.jsx("strong",{children:"Email"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"email",placeholder:"Enter Email",autoComplete:"off",name:"email",onChange:c=>e(c.target.value)})]}),P.jsx("br",{}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"email",children:P.jsx("strong",{children:"Password"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"password",placeholder:"Enter Password",autoComplete:"off",name:"password",onChange:c=>i(c.target.value)})]}),P.jsx("br",{}),P.jsx("button",{id:"logButt",type:"submit",className:"buttons",children:"Register"})]}),P.jsx("button",{id:"regButt",className:"buttons",children:"Already Have an Account"})]})})]})}function kz(){const[t,e]=A.useState(),[n,i]=A.useState(),r=Mc(),o=l=>{l.preventDefault(),uB(Ur,t,n).then(c=>{c.user,r("/")}).catch(c=>{console.log(c)})};return P.jsxs(A.Fragment,{children:[P.jsx(ah,{}),P.jsx("br",{}),P.jsx("br",{}),P.jsx("br",{}),P.jsx("div",{className:"Login",children:P.jsxs("div",{className:"container",children:[P.jsx("h2",{id:"logintext",children:"Login"}),P.jsx("br",{}),P.jsxs("form",{onSubmit:o,children:[P.jsxs("div",{children:[P.jsx("label",{htmlFor:"email",children:P.jsx("strong",{className:"labels",children:"Email"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"email",placeholder:"Enter Email",autoComplete:"off",name:"email",onChange:l=>e(l.target.value)})]}),P.jsx("br",{}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"email",children:P.jsx("strong",{className:"labels",children:"Password"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"password",placeholder:"Enter Password",autoComplete:"off",name:"password",onChange:l=>i(l.target.value)})]}),P.jsx("br",{}),P.jsx("button",{id:"logButt",className:"buttons",type:"submit",children:"Login"})]}),P.jsx("br",{}),P.jsx("a",{href:"/register",children:P.jsx("button",{className:"buttons",id:"regButt",children:"Register"})})]})})]})}function eP(t,e){const n=A.useRef(e);A.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const bz=1;function Rz(t){return Object.freeze({__version:bz,map:t})}function Lz(t,e){return Object.freeze({...t,...e})}const tP=A.createContext(null),nP=tP.Provider;function iP(){const t=A.useContext(tP);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function Oz(t){function e(n,i){const{instance:r,context:o}=t(n).current;return A.useImperativeHandle(i,()=>r),n.children==null?null:hu.createElement(nP,{value:o},n.children)}return A.forwardRef(e)}function Nz(t){function e(n,i){const[r,o]=A.useState(!1),{instance:l}=t(n,o).current;A.useImperativeHandle(i,()=>l),A.useEffect(function(){r&&l.update()},[l,r,n.children]);const c=l._contentNode;return c?Cm.createPortal(n.children,c):null}return A.forwardRef(e)}function Az(t){function e(n,i){const{instance:r}=t(n).current;return A.useImperativeHandle(i,()=>r),null}return A.forwardRef(e)}function rP(t,e){const n=A.useRef();A.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function B_(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function Mz(t,e){return function(i,r){const o=iP(),l=t(B_(i,o),o);return eP(o.map,i.attribution),rP(l.current,i.eventHandlers),e(l.current,o,i,r),l}}var yp={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})($x,function(n){var i="1.9.4";function r(s){var a,u,d,p;for(u=1,d=arguments.length;u<d;u++){p=arguments[u];for(a in p)s[a]=p[a]}return s}var o=Object.create||function(){function s(){}return function(a){return s.prototype=a,new s}}();function l(s,a){var u=Array.prototype.slice;if(s.bind)return s.bind.apply(s,u.call(arguments,1));var d=u.call(arguments,2);return function(){return s.apply(a,d.length?d.concat(u.call(arguments)):arguments)}}var c=0;function h(s){return"_leaflet_id"in s||(s._leaflet_id=++c),s._leaflet_id}function f(s,a,u){var d,p,g,C;return C=function(){d=!1,p&&(g.apply(u,p),p=!1)},g=function(){d?p=arguments:(s.apply(u,arguments),setTimeout(C,a),d=!0)},g}function m(s,a,u){var d=a[1],p=a[0],g=d-p;return s===d&&u?s:((s-p)%g+g)%g+p}function _(){return!1}function v(s,a){if(a===!1)return s;var u=Math.pow(10,a===void 0?6:a);return Math.round(s*u)/u}function E(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function y(s){return E(s).split(/\s+/)}function T(s,a){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?o(s.options):{});for(var u in a)s.options[u]=a[u];return s.options}function R(s,a,u){var d=[];for(var p in s)d.push(encodeURIComponent(u?p.toUpperCase():p)+"="+encodeURIComponent(s[p]));return(!a||a.indexOf("?")===-1?"?":"&")+d.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function w(s,a){return s.replace(S,function(u,d){var p=a[d];if(p===void 0)throw new Error("No value provided for variable "+u);return typeof p=="function"&&(p=p(a)),p})}var I=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function O(s,a){for(var u=0;u<s.length;u++)if(s[u]===a)return u;return-1}var B="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function W(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var z=0;function $(s){var a=+new Date,u=Math.max(0,16-(a-z));return z=a+u,window.setTimeout(s,u)}var ae=window.requestAnimationFrame||W("RequestAnimationFrame")||$,te=window.cancelAnimationFrame||W("CancelAnimationFrame")||W("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function fe(s,a,u){if(u&&ae===$)s.call(a);else return ae.call(window,l(s,a))}function Ie(s){s&&te.call(window,s)}var Je={__proto__:null,extend:r,create:o,bind:l,get lastId(){return c},stamp:h,throttle:f,wrapNum:m,falseFn:_,formatNum:v,trim:E,splitWords:y,setOptions:T,getParamString:R,template:w,isArray:I,indexOf:O,emptyImageUrl:B,requestFn:ae,cancelFn:te,requestAnimFrame:fe,cancelAnimFrame:Ie};function q(){}q.extend=function(s){var a=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=a.__super__=this.prototype,d=o(u);d.constructor=a,a.prototype=d;for(var p in this)Object.prototype.hasOwnProperty.call(this,p)&&p!=="prototype"&&p!=="__super__"&&(a[p]=this[p]);return s.statics&&r(a,s.statics),s.includes&&(K(s.includes),r.apply(null,[d].concat(s.includes))),r(d,s),delete d.statics,delete d.includes,d.options&&(d.options=u.options?o(u.options):{},r(d.options,s.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var g=0,C=d._initHooks.length;g<C;g++)d._initHooks[g].call(this)}},a},q.include=function(s){var a=this.prototype.options;return r(this.prototype,s),s.options&&(this.prototype.options=a,this.mergeOptions(s.options)),this},q.mergeOptions=function(s){return r(this.prototype.options,s),this},q.addInitHook=function(s){var a=Array.prototype.slice.call(arguments,1),u=typeof s=="function"?s:function(){this[s].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function K(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=I(s)?s:[s];for(var a=0;a<s.length;a++)s[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Q={on:function(s,a,u){if(typeof s=="object")for(var d in s)this._on(d,s[d],a);else{s=y(s);for(var p=0,g=s.length;p<g;p++)this._on(s[p],a,u)}return this},off:function(s,a,u){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var d in s)this._off(d,s[d],a);else{s=y(s);for(var p=arguments.length===1,g=0,C=s.length;g<C;g++)p?this._off(s[g]):this._off(s[g],a,u)}return this},_on:function(s,a,u,d){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(s,a,u)===!1){u===this&&(u=void 0);var p={fn:a,ctx:u};d&&(p.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(p)}},_off:function(s,a,u){var d,p,g;if(this._events&&(d=this._events[s],!!d)){if(arguments.length===1){if(this._firingCount)for(p=0,g=d.length;p<g;p++)d[p].fn=_;delete this._events[s];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var C=this._listens(s,a,u);if(C!==!1){var x=d[C];this._firingCount&&(x.fn=_,this._events[s]=d=d.slice()),d.splice(C,1)}}},fire:function(s,a,u){if(!this.listens(s,u))return this;var d=r({},a,{type:s,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var p=this._events[s];if(p){this._firingCount=this._firingCount+1||1;for(var g=0,C=p.length;g<C;g++){var x=p[g],b=x.fn;x.once&&this.off(s,b,x.ctx),b.call(x.ctx||this,d)}this._firingCount--}}return u&&this._propagateEvent(d),this},listens:function(s,a,u,d){typeof s!="string"&&console.warn('"string" type argument expected');var p=a;typeof a!="function"&&(d=!!a,p=void 0,u=void 0);var g=this._events&&this._events[s];if(g&&g.length&&this._listens(s,p,u)!==!1)return!0;if(d){for(var C in this._eventParents)if(this._eventParents[C].listens(s,a,u,d))return!0}return!1},_listens:function(s,a,u){if(!this._events)return!1;var d=this._events[s]||[];if(!a)return!!d.length;u===this&&(u=void 0);for(var p=0,g=d.length;p<g;p++)if(d[p].fn===a&&d[p].ctx===u)return p;return!1},once:function(s,a,u){if(typeof s=="object")for(var d in s)this._on(d,s[d],a,!0);else{s=y(s);for(var p=0,g=s.length;p<g;p++)this._on(s[p],a,u,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[h(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[h(s)],this},_propagateEvent:function(s){for(var a in this._eventParents)this._eventParents[a].fire(s.type,r({layer:s.target,propagatedFrom:s.target},s),!0)}};Q.addEventListener=Q.on,Q.removeEventListener=Q.clearAllEventListeners=Q.off,Q.addOneTimeEventListener=Q.once,Q.fireEvent=Q.fire,Q.hasEventListeners=Q.listens;var N=q.extend(Q);function k(s,a,u){this.x=u?Math.round(s):s,this.y=u?Math.round(a):a}var G=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};k.prototype={clone:function(){return new k(this.x,this.y)},add:function(s){return this.clone()._add(F(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(F(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new k(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new k(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=G(this.x),this.y=G(this.y),this},distanceTo:function(s){s=F(s);var a=s.x-this.x,u=s.y-this.y;return Math.sqrt(a*a+u*u)},equals:function(s){return s=F(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=F(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function F(s,a,u){return s instanceof k?s:I(s)?new k(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new k(s.x,s.y):new k(s,a,u)}function Z(s,a){if(s)for(var u=a?[s,a]:s,d=0,p=u.length;d<p;d++)this.extend(u[d])}Z.prototype={extend:function(s){var a,u;if(!s)return this;if(s instanceof k||typeof s[0]=="number"||"x"in s)a=u=F(s);else if(s=se(s),a=s.min,u=s.max,!a||!u)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=u.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(s){return F((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return F(this.min.x,this.max.y)},getTopRight:function(){return F(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var a,u;return typeof s[0]=="number"||s instanceof k?s=F(s):s=se(s),s instanceof Z?(a=s.min,u=s.max):a=u=s,a.x>=this.min.x&&u.x<=this.max.x&&a.y>=this.min.y&&u.y<=this.max.y},intersects:function(s){s=se(s);var a=this.min,u=this.max,d=s.min,p=s.max,g=p.x>=a.x&&d.x<=u.x,C=p.y>=a.y&&d.y<=u.y;return g&&C},overlaps:function(s){s=se(s);var a=this.min,u=this.max,d=s.min,p=s.max,g=p.x>a.x&&d.x<u.x,C=p.y>a.y&&d.y<u.y;return g&&C},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var a=this.min,u=this.max,d=Math.abs(a.x-u.x)*s,p=Math.abs(a.y-u.y)*s;return se(F(a.x-d,a.y-p),F(u.x+d,u.y+p))},equals:function(s){return s?(s=se(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function se(s,a){return!s||s instanceof Z?s:new Z(s,a)}function Ce(s,a){if(s)for(var u=a?[s,a]:s,d=0,p=u.length;d<p;d++)this.extend(u[d])}Ce.prototype={extend:function(s){var a=this._southWest,u=this._northEast,d,p;if(s instanceof pe)d=s,p=s;else if(s instanceof Ce){if(d=s._southWest,p=s._northEast,!d||!p)return this}else return s?this.extend(ne(s)||ge(s)):this;return!a&&!u?(this._southWest=new pe(d.lat,d.lng),this._northEast=new pe(p.lat,p.lng)):(a.lat=Math.min(d.lat,a.lat),a.lng=Math.min(d.lng,a.lng),u.lat=Math.max(p.lat,u.lat),u.lng=Math.max(p.lng,u.lng)),this},pad:function(s){var a=this._southWest,u=this._northEast,d=Math.abs(a.lat-u.lat)*s,p=Math.abs(a.lng-u.lng)*s;return new Ce(new pe(a.lat-d,a.lng-p),new pe(u.lat+d,u.lng+p))},getCenter:function(){return new pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof pe||"lat"in s?s=ne(s):s=ge(s);var a=this._southWest,u=this._northEast,d,p;return s instanceof Ce?(d=s.getSouthWest(),p=s.getNorthEast()):d=p=s,d.lat>=a.lat&&p.lat<=u.lat&&d.lng>=a.lng&&p.lng<=u.lng},intersects:function(s){s=ge(s);var a=this._southWest,u=this._northEast,d=s.getSouthWest(),p=s.getNorthEast(),g=p.lat>=a.lat&&d.lat<=u.lat,C=p.lng>=a.lng&&d.lng<=u.lng;return g&&C},overlaps:function(s){s=ge(s);var a=this._southWest,u=this._northEast,d=s.getSouthWest(),p=s.getNorthEast(),g=p.lat>a.lat&&d.lat<u.lat,C=p.lng>a.lng&&d.lng<u.lng;return g&&C},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,a){return s?(s=ge(s),this._southWest.equals(s.getSouthWest(),a)&&this._northEast.equals(s.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ge(s,a){return s instanceof Ce?s:new Ce(s,a)}function pe(s,a,u){if(isNaN(s)||isNaN(a))throw new Error("Invalid LatLng object: ("+s+", "+a+")");this.lat=+s,this.lng=+a,u!==void 0&&(this.alt=+u)}pe.prototype={equals:function(s,a){if(!s)return!1;s=ne(s);var u=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return u<=(a===void 0?1e-9:a)},toString:function(s){return"LatLng("+v(this.lat,s)+", "+v(this.lng,s)+")"},distanceTo:function(s){return fi.distance(this,ne(s))},wrap:function(){return fi.wrapLatLng(this)},toBounds:function(s){var a=180*s/40075017,u=a/Math.cos(Math.PI/180*this.lat);return ge([this.lat-a,this.lng-u],[this.lat+a,this.lng+u])},clone:function(){return new pe(this.lat,this.lng,this.alt)}};function ne(s,a,u){return s instanceof pe?s:I(s)&&typeof s[0]!="object"?s.length===3?new pe(s[0],s[1],s[2]):s.length===2?new pe(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new pe(s.lat,"lng"in s?s.lng:s.lon,s.alt):a===void 0?null:new pe(s,a,u)}var dt={latLngToPoint:function(s,a){var u=this.projection.project(s),d=this.scale(a);return this.transformation._transform(u,d)},pointToLatLng:function(s,a){var u=this.scale(a),d=this.transformation.untransform(s,u);return this.projection.unproject(d)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var a=this.projection.bounds,u=this.scale(s),d=this.transformation.transform(a.min,u),p=this.transformation.transform(a.max,u);return new Z(d,p)},infinite:!1,wrapLatLng:function(s){var a=this.wrapLng?m(s.lng,this.wrapLng,!0):s.lng,u=this.wrapLat?m(s.lat,this.wrapLat,!0):s.lat,d=s.alt;return new pe(u,a,d)},wrapLatLngBounds:function(s){var a=s.getCenter(),u=this.wrapLatLng(a),d=a.lat-u.lat,p=a.lng-u.lng;if(d===0&&p===0)return s;var g=s.getSouthWest(),C=s.getNorthEast(),x=new pe(g.lat-d,g.lng-p),b=new pe(C.lat-d,C.lng-p);return new Ce(x,b)}},fi=r({},dt,{wrapLng:[-180,180],R:6371e3,distance:function(s,a){var u=Math.PI/180,d=s.lat*u,p=a.lat*u,g=Math.sin((a.lat-s.lat)*u/2),C=Math.sin((a.lng-s.lng)*u/2),x=g*g+Math.cos(d)*Math.cos(p)*C*C,b=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));return this.R*b}}),V_=6378137,uh={R:V_,MAX_LATITUDE:85.0511287798,project:function(s){var a=Math.PI/180,u=this.MAX_LATITUDE,d=Math.max(Math.min(u,s.lat),-u),p=Math.sin(d*a);return new k(this.R*s.lng*a,this.R*Math.log((1+p)/(1-p))/2)},unproject:function(s){var a=180/Math.PI;return new pe((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*a,s.x*a/this.R)},bounds:function(){var s=V_*Math.PI;return new Z([-s,-s],[s,s])}()};function ch(s,a,u,d){if(I(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=a,this._c=u,this._d=d}ch.prototype={transform:function(s,a){return this._transform(s.clone(),a)},_transform:function(s,a){return a=a||1,s.x=a*(this._a*s.x+this._b),s.y=a*(this._c*s.y+this._d),s},untransform:function(s,a){return a=a||1,new k((s.x/a-this._b)/this._a,(s.y/a-this._d)/this._c)}};function ro(s,a,u,d){return new ch(s,a,u,d)}var hh=r({},fi,{code:"EPSG:3857",projection:uh,transformation:function(){var s=.5/(Math.PI*uh.R);return ro(s,.5,-s,.5)}()}),wP=r({},hh,{code:"EPSG:900913"});function Z_(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function q_(s,a){var u="",d,p,g,C,x,b;for(d=0,g=s.length;d<g;d++){for(x=s[d],p=0,C=x.length;p<C;p++)b=x[p],u+=(p?"L":"M")+b.x+" "+b.y;u+=a?Y.svg?"z":"x":""}return u||"M0 0"}var dh=document.documentElement.style,nl="ActiveXObject"in window,EP=nl&&!document.addEventListener,G_="msLaunchUri"in navigator&&!("documentMode"in document),fh=In("webkit"),K_=In("android"),Y_=In("android 2")||In("android 3"),SP=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),CP=K_&&In("Google")&&SP<537&&!("AudioNode"in window),ph=!!window.opera,Q_=!G_&&In("chrome"),J_=In("gecko")&&!fh&&!ph&&!nl,TP=!Q_&&In("safari"),X_=In("phantom"),eg="OTransition"in dh,IP=navigator.platform.indexOf("Win")===0,tg=nl&&"transition"in dh,mh="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Y_,ng="MozPerspective"in dh,PP=!window.L_DISABLE_3D&&(tg||mh||ng)&&!eg&&!X_,so=typeof orientation<"u"||In("mobile"),xP=so&&fh,kP=so&&mh,ig=!window.PointerEvent&&window.MSPointerEvent,rg=!!(window.PointerEvent||ig),sg="ontouchstart"in window||!!window.TouchEvent,bP=!window.L_NO_TOUCH&&(sg||rg),RP=so&&ph,LP=so&&J_,OP=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,NP=function(){var s=!1;try{var a=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",_,a),window.removeEventListener("testPassiveEventSupport",_,a)}catch{}return s}(),AP=function(){return!!document.createElement("canvas").getContext}(),_h=!!(document.createElementNS&&Z_("svg").createSVGRect),MP=!!_h&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),DP=!_h&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var a=s.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),FP=navigator.platform.indexOf("Mac")===0,UP=navigator.platform.indexOf("Linux")===0;function In(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Y={ie:nl,ielt9:EP,edge:G_,webkit:fh,android:K_,android23:Y_,androidStock:CP,opera:ph,chrome:Q_,gecko:J_,safari:TP,phantom:X_,opera12:eg,win:IP,ie3d:tg,webkit3d:mh,gecko3d:ng,any3d:PP,mobile:so,mobileWebkit:xP,mobileWebkit3d:kP,msPointer:ig,pointer:rg,touch:bP,touchNative:sg,mobileOpera:RP,mobileGecko:LP,retina:OP,passiveEvents:NP,canvas:AP,svg:_h,vml:DP,inlineSvg:MP,mac:FP,linux:UP},og=Y.msPointer?"MSPointerDown":"pointerdown",ag=Y.msPointer?"MSPointerMove":"pointermove",lg=Y.msPointer?"MSPointerUp":"pointerup",ug=Y.msPointer?"MSPointerCancel":"pointercancel",gh={touchstart:og,touchmove:ag,touchend:lg,touchcancel:ug},cg={touchstart:$P,touchmove:il,touchend:il,touchcancel:il},qr={},hg=!1;function BP(s,a,u){return a==="touchstart"&&HP(),cg[a]?(u=cg[a].bind(this,u),s.addEventListener(gh[a],u,!1),u):(console.warn("wrong event specified:",a),_)}function zP(s,a,u){if(!gh[a]){console.warn("wrong event specified:",a);return}s.removeEventListener(gh[a],u,!1)}function jP(s){qr[s.pointerId]=s}function WP(s){qr[s.pointerId]&&(qr[s.pointerId]=s)}function dg(s){delete qr[s.pointerId]}function HP(){hg||(document.addEventListener(og,jP,!0),document.addEventListener(ag,WP,!0),document.addEventListener(lg,dg,!0),document.addEventListener(ug,dg,!0),hg=!0)}function il(s,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var u in qr)a.touches.push(qr[u]);a.changedTouches=[a],s(a)}}function $P(s,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&ot(a),il(s,a)}function VP(s){var a={},u,d;for(d in s)u=s[d],a[d]=u&&u.bind?u.bind(s):u;return s=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var ZP=200;function qP(s,a){s.addEventListener("dblclick",a);var u=0,d;function p(g){if(g.detail!==1){d=g.detail;return}if(!(g.pointerType==="mouse"||g.sourceCapabilities&&!g.sourceCapabilities.firesTouchEvents)){var C=gg(g);if(!(C.some(function(b){return b instanceof HTMLLabelElement&&b.attributes.for})&&!C.some(function(b){return b instanceof HTMLInputElement||b instanceof HTMLSelectElement}))){var x=Date.now();x-u<=ZP?(d++,d===2&&a(VP(g))):d=1,u=x}}}return s.addEventListener("click",p),{dblclick:a,simDblclick:p}}function GP(s,a){s.removeEventListener("dblclick",a.dblclick),s.removeEventListener("click",a.simDblclick)}var vh=ol(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),oo=ol(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),fg=oo==="webkitTransition"||oo==="OTransition"?oo+"End":"transitionend";function pg(s){return typeof s=="string"?document.getElementById(s):s}function ao(s,a){var u=s.style[a]||s.currentStyle&&s.currentStyle[a];if((!u||u==="auto")&&document.defaultView){var d=document.defaultView.getComputedStyle(s,null);u=d?d[a]:null}return u==="auto"?null:u}function ye(s,a,u){var d=document.createElement(s);return d.className=a||"",u&&u.appendChild(d),d}function Ne(s){var a=s.parentNode;a&&a.removeChild(s)}function rl(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Gr(s){var a=s.parentNode;a&&a.lastChild!==s&&a.appendChild(s)}function Kr(s){var a=s.parentNode;a&&a.firstChild!==s&&a.insertBefore(s,a.firstChild)}function yh(s,a){if(s.classList!==void 0)return s.classList.contains(a);var u=sl(s);return u.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(u)}function oe(s,a){if(s.classList!==void 0)for(var u=y(a),d=0,p=u.length;d<p;d++)s.classList.add(u[d]);else if(!yh(s,a)){var g=sl(s);wh(s,(g?g+" ":"")+a)}}function We(s,a){s.classList!==void 0?s.classList.remove(a):wh(s,E((" "+sl(s)+" ").replace(" "+a+" "," ")))}function wh(s,a){s.className.baseVal===void 0?s.className=a:s.className.baseVal=a}function sl(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Zt(s,a){"opacity"in s.style?s.style.opacity=a:"filter"in s.style&&KP(s,a)}function KP(s,a){var u=!1,d="DXImageTransform.Microsoft.Alpha";try{u=s.filters.item(d)}catch{if(a===1)return}a=Math.round(a*100),u?(u.Enabled=a!==100,u.Opacity=a):s.style.filter+=" progid:"+d+"(opacity="+a+")"}function ol(s){for(var a=document.documentElement.style,u=0;u<s.length;u++)if(s[u]in a)return s[u];return!1}function Ji(s,a,u){var d=a||new k(0,0);s.style[vh]=(Y.ie3d?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(u?" scale("+u+")":"")}function $e(s,a){s._leaflet_pos=a,Y.any3d?Ji(s,a):(s.style.left=a.x+"px",s.style.top=a.y+"px")}function Xi(s){return s._leaflet_pos||new k(0,0)}var lo,uo,Eh;if("onselectstart"in document)lo=function(){re(window,"selectstart",ot)},uo=function(){Pe(window,"selectstart",ot)};else{var co=ol(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);lo=function(){if(co){var s=document.documentElement.style;Eh=s[co],s[co]="none"}},uo=function(){co&&(document.documentElement.style[co]=Eh,Eh=void 0)}}function Sh(){re(window,"dragstart",ot)}function Ch(){Pe(window,"dragstart",ot)}var al,Th;function Ih(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(ll(),al=s,Th=s.style.outlineStyle,s.style.outlineStyle="none",re(window,"keydown",ll))}function ll(){al&&(al.style.outlineStyle=Th,al=void 0,Th=void 0,Pe(window,"keydown",ll))}function mg(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Ph(s){var a=s.getBoundingClientRect();return{x:a.width/s.offsetWidth||1,y:a.height/s.offsetHeight||1,boundingClientRect:a}}var YP={__proto__:null,TRANSFORM:vh,TRANSITION:oo,TRANSITION_END:fg,get:pg,getStyle:ao,create:ye,remove:Ne,empty:rl,toFront:Gr,toBack:Kr,hasClass:yh,addClass:oe,removeClass:We,setClass:wh,getClass:sl,setOpacity:Zt,testProp:ol,setTransform:Ji,setPosition:$e,getPosition:Xi,get disableTextSelection(){return lo},get enableTextSelection(){return uo},disableImageDrag:Sh,enableImageDrag:Ch,preventOutline:Ih,restoreOutline:ll,getSizedParentNode:mg,getScale:Ph};function re(s,a,u,d){if(a&&typeof a=="object")for(var p in a)kh(s,p,a[p],u);else{a=y(a);for(var g=0,C=a.length;g<C;g++)kh(s,a[g],u,d)}return this}var Pn="_leaflet_events";function Pe(s,a,u,d){if(arguments.length===1)_g(s),delete s[Pn];else if(a&&typeof a=="object")for(var p in a)bh(s,p,a[p],u);else if(a=y(a),arguments.length===2)_g(s,function(x){return O(a,x)!==-1});else for(var g=0,C=a.length;g<C;g++)bh(s,a[g],u,d);return this}function _g(s,a){for(var u in s[Pn]){var d=u.split(/\d/)[0];(!a||a(d))&&bh(s,d,null,null,u)}}var xh={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function kh(s,a,u,d){var p=a+h(u)+(d?"_"+h(d):"");if(s[Pn]&&s[Pn][p])return this;var g=function(x){return u.call(d||s,x||window.event)},C=g;!Y.touchNative&&Y.pointer&&a.indexOf("touch")===0?g=BP(s,a,g):Y.touch&&a==="dblclick"?g=qP(s,g):"addEventListener"in s?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?s.addEventListener(xh[a]||a,g,Y.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(g=function(x){x=x||window.event,Lh(s,x)&&C(x)},s.addEventListener(xh[a],g,!1)):s.addEventListener(a,C,!1):s.attachEvent("on"+a,g),s[Pn]=s[Pn]||{},s[Pn][p]=g}function bh(s,a,u,d,p){p=p||a+h(u)+(d?"_"+h(d):"");var g=s[Pn]&&s[Pn][p];if(!g)return this;!Y.touchNative&&Y.pointer&&a.indexOf("touch")===0?zP(s,a,g):Y.touch&&a==="dblclick"?GP(s,g):"removeEventListener"in s?s.removeEventListener(xh[a]||a,g,!1):s.detachEvent("on"+a,g),s[Pn][p]=null}function er(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Rh(s){return kh(s,"wheel",er),this}function ho(s){return re(s,"mousedown touchstart dblclick contextmenu",er),s._leaflet_disable_click=!0,this}function ot(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function tr(s){return ot(s),er(s),this}function gg(s){if(s.composedPath)return s.composedPath();for(var a=[],u=s.target;u;)a.push(u),u=u.parentNode;return a}function vg(s,a){if(!a)return new k(s.clientX,s.clientY);var u=Ph(a),d=u.boundingClientRect;return new k((s.clientX-d.left)/u.x-a.clientLeft,(s.clientY-d.top)/u.y-a.clientTop)}var QP=Y.linux&&Y.chrome?window.devicePixelRatio:Y.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function yg(s){return Y.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/QP:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Lh(s,a){var u=a.relatedTarget;if(!u)return!0;try{for(;u&&u!==s;)u=u.parentNode}catch{return!1}return u!==s}var JP={__proto__:null,on:re,off:Pe,stopPropagation:er,disableScrollPropagation:Rh,disableClickPropagation:ho,preventDefault:ot,stop:tr,getPropagationPath:gg,getMousePosition:vg,getWheelDelta:yg,isExternalTarget:Lh,addListener:re,removeListener:Pe},wg=N.extend({run:function(s,a,u,d){this.stop(),this._el=s,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=Xi(s),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=fe(this._animate,this),this._step()},_step:function(s){var a=+new Date-this._startTime,u=this._duration*1e3;a<u?this._runFrame(this._easeOut(a/u),s):(this._runFrame(1),this._complete())},_runFrame:function(s,a){var u=this._startPos.add(this._offset.multiplyBy(s));a&&u._round(),$e(this._el,u),this.fire("step")},_complete:function(){Ie(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),me=N.extend({options:{crs:hh,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,a){a=T(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(ne(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=oo&&Y.any3d&&!Y.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),re(this._proxy,fg,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,a,u){if(a=a===void 0?this._zoom:this._limitZoom(a),s=this._limitCenter(ne(s),a,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=r({animate:u.animate},u.zoom),u.pan=r({animate:u.animate,duration:u.duration},u.pan));var d=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,a,u.zoom):this._tryAnimatedPan(s,u.pan);if(d)return clearTimeout(this._sizeTimer),this}return this._resetView(s,a,u.pan&&u.pan.noMoveStart),this},setZoom:function(s,a){return this._loaded?this.setView(this.getCenter(),s,{zoom:a}):(this._zoom=s,this)},zoomIn:function(s,a){return s=s||(Y.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,a)},zoomOut:function(s,a){return s=s||(Y.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,a)},setZoomAround:function(s,a,u){var d=this.getZoomScale(a),p=this.getSize().divideBy(2),g=s instanceof k?s:this.latLngToContainerPoint(s),C=g.subtract(p).multiplyBy(1-1/d),x=this.containerPointToLatLng(p.add(C));return this.setView(x,a,{zoom:u})},_getBoundsCenterZoom:function(s,a){a=a||{},s=s.getBounds?s.getBounds():ge(s);var u=F(a.paddingTopLeft||a.padding||[0,0]),d=F(a.paddingBottomRight||a.padding||[0,0]),p=this.getBoundsZoom(s,!1,u.add(d));if(p=typeof a.maxZoom=="number"?Math.min(a.maxZoom,p):p,p===1/0)return{center:s.getCenter(),zoom:p};var g=d.subtract(u).divideBy(2),C=this.project(s.getSouthWest(),p),x=this.project(s.getNorthEast(),p),b=this.unproject(C.add(x).divideBy(2).add(g),p);return{center:b,zoom:p}},fitBounds:function(s,a){if(s=ge(s),!s.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(s,a);return this.setView(u.center,u.zoom,a)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,a){return this.setView(s,this._zoom,{pan:a})},panBy:function(s,a){if(s=F(s).round(),a=a||{},!s.x&&!s.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new wg,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){oe(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,u,a.duration||.25,a.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,a,u){if(u=u||{},u.animate===!1||!Y.any3d)return this.setView(s,a,u);this._stop();var d=this.project(this.getCenter()),p=this.project(s),g=this.getSize(),C=this._zoom;s=ne(s),a=a===void 0?C:a;var x=Math.max(g.x,g.y),b=x*this.getZoomScale(C,a),D=p.distanceTo(d)||1,H=1.42,X=H*H;function le(Ve){var wl=Ve?-1:1,zx=Ve?b:x,jx=b*b-x*x+wl*X*X*D*D,Wx=2*zx*X*D,Wh=jx/Wx,ev=Math.sqrt(Wh*Wh+1)-Wh,Hx=ev<1e-9?-18:Math.log(ev);return Hx}function wt(Ve){return(Math.exp(Ve)-Math.exp(-Ve))/2}function Xe(Ve){return(Math.exp(Ve)+Math.exp(-Ve))/2}function Gt(Ve){return wt(Ve)/Xe(Ve)}var xt=le(0);function ts(Ve){return x*(Xe(xt)/Xe(xt+H*Ve))}function Dx(Ve){return x*(Xe(xt)*Gt(xt+H*Ve)-wt(xt))/X}function Fx(Ve){return 1-Math.pow(1-Ve,1.5)}var Ux=Date.now(),Jg=(le(1)-xt)/H,Bx=u.duration?1e3*u.duration:1e3*Jg*.8;function Xg(){var Ve=(Date.now()-Ux)/Bx,wl=Fx(Ve)*Jg;Ve<=1?(this._flyToFrame=fe(Xg,this),this._move(this.unproject(d.add(p.subtract(d).multiplyBy(Dx(wl)/D)),C),this.getScaleZoom(x/ts(wl),C),{flyTo:!0})):this._move(s,a)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),Xg.call(this),this},flyToBounds:function(s,a){var u=this._getBoundsCenterZoom(s,a);return this.flyTo(u.center,u.zoom,a)},setMaxBounds:function(s){return s=ge(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var a=this.options.minZoom;return this.options.minZoom=s,this._loaded&&a!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var a=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&a!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,a){this._enforcingBounds=!0;var u=this.getCenter(),d=this._limitCenter(u,this._zoom,ge(s));return u.equals(d)||this.panTo(d,a),this._enforcingBounds=!1,this},panInside:function(s,a){a=a||{};var u=F(a.paddingTopLeft||a.padding||[0,0]),d=F(a.paddingBottomRight||a.padding||[0,0]),p=this.project(this.getCenter()),g=this.project(s),C=this.getPixelBounds(),x=se([C.min.add(u),C.max.subtract(d)]),b=x.getSize();if(!x.contains(g)){this._enforcingBounds=!0;var D=g.subtract(x.getCenter()),H=x.extend(g).getSize().subtract(b);p.x+=D.x<0?-H.x:H.x,p.y+=D.y<0?-H.y:H.y,this.panTo(this.unproject(p),a),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=r({animate:!1,pan:!0},s===!0?{animate:!0}:s);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),d=a.divideBy(2).round(),p=u.divideBy(2).round(),g=d.subtract(p);return!g.x&&!g.y?this:(s.animate&&s.pan?this.panBy(g):(s.pan&&this._rawPanBy(g),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=r({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=l(this._handleGeolocationResponse,this),u=l(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,u,s):navigator.geolocation.getCurrentPosition(a,u,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var a=s.code,u=s.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var a=s.coords.latitude,u=s.coords.longitude,d=new pe(a,u),p=d.toBounds(s.coords.accuracy*2),g=this._locateOptions;if(g.setView){var C=this.getBoundsZoom(p);this.setView(d,g.maxZoom?Math.min(C,g.maxZoom):C)}var x={latlng:d,bounds:p,timestamp:s.timestamp};for(var b in s.coords)typeof s.coords[b]=="number"&&(x[b]=s.coords[b]);this.fire("locationfound",x)}},addHandler:function(s,a){if(!a)return this;var u=this[s]=new a(this);return this._handlers.push(u),this.options[s]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ne(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ie(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Ne(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,a){var u="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),d=ye("div",u,a||this._mapPane);return s&&(this._panes[s]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),a=this.unproject(s.getBottomLeft()),u=this.unproject(s.getTopRight());return new Ce(a,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,a,u){s=ge(s),u=F(u||[0,0]);var d=this.getZoom()||0,p=this.getMinZoom(),g=this.getMaxZoom(),C=s.getNorthWest(),x=s.getSouthEast(),b=this.getSize().subtract(u),D=se(this.project(x,d),this.project(C,d)).getSize(),H=Y.any3d?this.options.zoomSnap:1,X=b.x/D.x,le=b.y/D.y,wt=a?Math.max(X,le):Math.min(X,le);return d=this.getScaleZoom(wt,d),H&&(d=Math.round(d/(H/100))*(H/100),d=a?Math.ceil(d/H)*H:Math.floor(d/H)*H),Math.max(p,Math.min(g,d))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new k(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,a){var u=this._getTopLeftPoint(s,a);return new Z(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,a){var u=this.options.crs;return a=a===void 0?this._zoom:a,u.scale(s)/u.scale(a)},getScaleZoom:function(s,a){var u=this.options.crs;a=a===void 0?this._zoom:a;var d=u.zoom(s*u.scale(a));return isNaN(d)?1/0:d},project:function(s,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(ne(s),a)},unproject:function(s,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(F(s),a)},layerPointToLatLng:function(s){var a=F(s).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(s){var a=this.project(ne(s))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(ne(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(ge(s))},distance:function(s,a){return this.options.crs.distance(ne(s),ne(a))},containerPointToLayerPoint:function(s){return F(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return F(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var a=this.containerPointToLayerPoint(F(s));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ne(s)))},mouseEventToContainerPoint:function(s){return vg(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var a=this._container=pg(s);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");re(a,"scroll",this._onScroll,this),this._containerId=h(a)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Y.any3d,oe(s,"leaflet-container"+(Y.touch?" leaflet-touch":"")+(Y.retina?" leaflet-retina":"")+(Y.ielt9?" leaflet-oldie":"")+(Y.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=ao(s,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),$e(this._mapPane,new k(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(oe(s.markerPane,"leaflet-zoom-hide"),oe(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,a,u){$e(this._mapPane,new k(0,0));var d=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var p=this._zoom!==a;this._moveStart(p,u)._move(s,a)._moveEnd(p),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(s,a){return s&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(s,a,u,d){a===void 0&&(a=this._zoom);var p=this._zoom!==a;return this._zoom=a,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),d?u&&u.pinch&&this.fire("zoom",u):((p||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ie(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){$e(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[h(this._container)]=this;var a=s?Pe:re;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),Y.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ie(this._resizeRequest),this._resizeRequest=fe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,a){for(var u=[],d,p=a==="mouseout"||a==="mouseover",g=s.target||s.srcElement,C=!1;g;){if(d=this._targets[h(g)],d&&(a==="click"||a==="preclick")&&this._draggableMoved(d)){C=!0;break}if(d&&d.listens(a,!0)&&(p&&!Lh(g,s)||(u.push(d),p))||g===this._container)break;g=g.parentNode}return!u.length&&!C&&!p&&this.listens(a,!0)&&(u=[this]),u},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var a=s.target||s.srcElement;if(!(!this._loaded||a._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(a))){var u=s.type;u==="mousedown"&&Ih(a),this._fireDOMEvent(s,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,a,u){if(s.type==="click"){var d=r({},s);d.type="preclick",this._fireDOMEvent(d,d.type,u)}var p=this._findEventTargets(s,a);if(u){for(var g=[],C=0;C<u.length;C++)u[C].listens(a,!0)&&g.push(u[C]);p=g.concat(p)}if(p.length){a==="contextmenu"&&ot(s);var x=p[0],b={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var D=x.getLatLng&&(!x._radius||x._radius<=10);b.containerPoint=D?this.latLngToContainerPoint(x.getLatLng()):this.mouseEventToContainerPoint(s),b.layerPoint=this.containerPointToLayerPoint(b.containerPoint),b.latlng=D?x.getLatLng():this.layerPointToLatLng(b.layerPoint)}for(C=0;C<p.length;C++)if(p[C].fire(a,b,!0),b.originalEvent._stopped||p[C].options.bubblingMouseEvents===!1&&O(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,a=this._handlers.length;s<a;s++)this._handlers[s].disable()},whenReady:function(s,a){return this._loaded?s.call(a||this,{target:this}):this.on("load",s,a),this},_getMapPanePos:function(){return Xi(this._mapPane)||new k(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,a){var u=s&&a!==void 0?this._getNewPixelOrigin(s,a):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,a){var u=this.getSize()._divideBy(2);return this.project(s,a)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,a,u){var d=this._getNewPixelOrigin(u,a);return this.project(s,a)._subtract(d)},_latLngBoundsToNewLayerBounds:function(s,a,u){var d=this._getNewPixelOrigin(u,a);return se([this.project(s.getSouthWest(),a)._subtract(d),this.project(s.getNorthWest(),a)._subtract(d),this.project(s.getSouthEast(),a)._subtract(d),this.project(s.getNorthEast(),a)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,a,u){if(!u)return s;var d=this.project(s,a),p=this.getSize().divideBy(2),g=new Z(d.subtract(p),d.add(p)),C=this._getBoundsOffset(g,u,a);return Math.abs(C.x)<=1&&Math.abs(C.y)<=1?s:this.unproject(d.add(C),a)},_limitOffset:function(s,a){if(!a)return s;var u=this.getPixelBounds(),d=new Z(u.min.add(s),u.max.add(s));return s.add(this._getBoundsOffset(d,a))},_getBoundsOffset:function(s,a,u){var d=se(this.project(a.getNorthEast(),u),this.project(a.getSouthWest(),u)),p=d.min.subtract(s.min),g=d.max.subtract(s.max),C=this._rebound(p.x,-g.x),x=this._rebound(p.y,-g.y);return new k(C,x)},_rebound:function(s,a){return s+a>0?Math.round(s-a)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(a))},_limitZoom:function(s){var a=this.getMinZoom(),u=this.getMaxZoom(),d=Y.any3d?this.options.zoomSnap:1;return d&&(s=Math.round(s/d)*d),Math.max(a,Math.min(u,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){We(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,a){var u=this._getCenterOffset(s)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,a),!0)},_createAnimProxy:function(){var s=this._proxy=ye("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(a){var u=vh,d=this._proxy.style[u];Ji(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),d===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ne(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),a=this.getZoom();Ji(this._proxy,this.project(s,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,a,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(a),p=this._getCenterOffset(s)._divideBy(1-1/d);return u.animate!==!0&&!this.getSize().contains(p)?!1:(fe(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(s,a,!0)},this),!0)},_animateZoom:function(s,a,u,d){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=a,oe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:a,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&We(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function XP(s,a){return new me(s,a)}var sn=q.extend({options:{position:"topright"},initialize:function(s){T(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var a=this._map;return a&&a.removeControl(this),this.options.position=s,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var a=this._container=this.onAdd(s),u=this.getPosition(),d=s._controlCorners[u];return oe(a,"leaflet-control"),u.indexOf("bottom")!==-1?d.insertBefore(a,d.firstChild):d.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ne(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),fo=function(s){return new sn(s)};me.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},a="leaflet-",u=this._controlContainer=ye("div",a+"control-container",this._container);function d(p,g){var C=a+p+" "+a+g;s[p+g]=ye("div",C,u)}d("top","left"),d("top","right"),d("bottom","left"),d("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Ne(this._controlCorners[s]);Ne(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Eg=sn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,a,u,d){return u<d?-1:d<u?1:0}},initialize:function(s,a,u){T(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var d in s)this._addLayer(s[d],d);for(d in a)this._addLayer(a[d],d,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return sn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,a){return this._addLayer(s,a),this._map?this._update():this},addOverlay:function(s,a){return this._addLayer(s,a,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var a=this._getLayer(h(s));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){oe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(oe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):We(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return We(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",a=this._container=ye("div",s),u=this.options.collapsed;a.setAttribute("aria-haspopup",!0),ho(a),Rh(a);var d=this._section=ye("section",s+"-list");u&&(this._map.on("click",this.collapse,this),re(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var p=this._layersLink=ye("a",s+"-toggle",a);p.href="#",p.title="Layers",p.setAttribute("role","button"),re(p,{keydown:function(g){g.keyCode===13&&this._expandSafely()},click:function(g){ot(g),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=ye("div",s+"-base",d),this._separator=ye("div",s+"-separator",d),this._overlaysList=ye("div",s+"-overlays",d),a.appendChild(d)},_getLayer:function(s){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&h(this._layers[a].layer)===s)return this._layers[a]},_addLayer:function(s,a,u){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:a,overlay:u}),this.options.sortLayers&&this._layers.sort(l(function(d,p){return this.options.sortFunction(d.layer,p.layer,d.name,p.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;rl(this._baseLayersList),rl(this._overlaysList),this._layerControlInputs=[];var s,a,u,d,p=0;for(u=0;u<this._layers.length;u++)d=this._layers[u],this._addItem(d),a=a||d.overlay,s=s||!d.overlay,p+=d.overlay?0:1;return this.options.hideSingleBase&&(s=s&&p>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=a&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var a=this._getLayer(h(s.target)),u=a.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;u&&this._map.fire(u,a)},_createRadioElement:function(s,a){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(a?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=u,d.firstChild},_addItem:function(s){var a=document.createElement("label"),u=this._map.hasLayer(s.layer),d;s.overlay?(d=document.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=u):d=this._createRadioElement("leaflet-base-layers_"+h(this),u),this._layerControlInputs.push(d),d.layerId=h(s.layer),re(d,"click",this._onInputClick,this);var p=document.createElement("span");p.innerHTML=" "+s.name;var g=document.createElement("span");a.appendChild(g),g.appendChild(d),g.appendChild(p);var C=s.overlay?this._overlaysList:this._baseLayersList;return C.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,a,u,d=[],p=[];this._handlingClick=!0;for(var g=s.length-1;g>=0;g--)a=s[g],u=this._getLayer(a.layerId).layer,a.checked?d.push(u):a.checked||p.push(u);for(g=0;g<p.length;g++)this._map.hasLayer(p[g])&&this._map.removeLayer(p[g]);for(g=0;g<d.length;g++)this._map.hasLayer(d[g])||this._map.addLayer(d[g]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,a,u,d=this._map.getZoom(),p=s.length-1;p>=0;p--)a=s[p],u=this._getLayer(a.layerId).layer,a.disabled=u.options.minZoom!==void 0&&d<u.options.minZoom||u.options.maxZoom!==void 0&&d>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,re(s,"click",ot),this.expand();var a=this;setTimeout(function(){Pe(s,"click",ot),a._preventClick=!1})}}),ex=function(s,a,u){return new Eg(s,a,u)},Oh=sn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var a="leaflet-control-zoom",u=ye("div",a+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,a+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,a+"-out",u,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,a,u,d,p){var g=ye("a",u,d);return g.innerHTML=s,g.href="#",g.title=a,g.setAttribute("role","button"),g.setAttribute("aria-label",a),ho(g),re(g,"click",tr),re(g,"click",p,this),re(g,"click",this._refocusOnMap,this),g},_updateDisabled:function(){var s=this._map,a="leaflet-disabled";We(this._zoomInButton,a),We(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(oe(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(oe(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});me.mergeOptions({zoomControl:!0}),me.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Oh,this.addControl(this.zoomControl))});var tx=function(s){return new Oh(s)},Sg=sn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var a="leaflet-control-scale",u=ye("div",a),d=this.options;return this._addScales(d,a+"-line",u),s.on(d.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),u},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,a,u){s.metric&&(this._mScale=ye("div",a,u)),s.imperial&&(this._iScale=ye("div",a,u))},_update:function(){var s=this._map,a=s.getSize().y/2,u=s.distance(s.containerPointToLatLng([0,a]),s.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(u)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var a=this._getRoundNum(s),u=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,u,a/s)},_updateImperial:function(s){var a=s*3.2808399,u,d,p;a>5280?(u=a/5280,d=this._getRoundNum(u),this._updateScale(this._iScale,d+" mi",d/u)):(p=this._getRoundNum(a),this._updateScale(this._iScale,p+" ft",p/a))},_updateScale:function(s,a,u){s.style.width=Math.round(this.options.maxWidth*u)+"px",s.innerHTML=a},_getRoundNum:function(s){var a=Math.pow(10,(Math.floor(s)+"").length-1),u=s/a;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,a*u}}),nx=function(s){return new Sg(s)},ix='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Nh=sn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Y.inlineSvg?ix+" ":"")+"Leaflet</a>"},initialize:function(s){T(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=ye("div","leaflet-control-attribution"),ho(this._container);for(var a in s._layers)s._layers[a].getAttribution&&this.addAttribution(s._layers[a].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var a in this._attributions)this._attributions[a]&&s.push(a);var u=[];this.options.prefix&&u.push(this.options.prefix),s.length&&u.push(s.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});me.mergeOptions({attributionControl:!0}),me.addInitHook(function(){this.options.attributionControl&&new Nh().addTo(this)});var rx=function(s){return new Nh(s)};sn.Layers=Eg,sn.Zoom=Oh,sn.Scale=Sg,sn.Attribution=Nh,fo.layers=ex,fo.zoom=tx,fo.scale=nx,fo.attribution=rx;var xn=q.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});xn.addTo=function(s,a){return s.addHandler(a,this),this};var sx={Events:Q},Cg=Y.touch?"touchstart mousedown":"mousedown",pi=N.extend({options:{clickTolerance:3},initialize:function(s,a,u,d){T(this,d),this._element=s,this._dragStartTarget=a||s,this._preventOutline=u},enable:function(){this._enabled||(re(this._dragStartTarget,Cg,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(pi._dragging===this&&this.finishDrag(!0),Pe(this._dragStartTarget,Cg,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!yh(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){pi._dragging===this&&this.finishDrag();return}if(!(pi._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(pi._dragging=this,this._preventOutline&&Ih(this._element),Sh(),lo(),!this._moving)){this.fire("down");var a=s.touches?s.touches[0]:s,u=mg(this._element);this._startPoint=new k(a.clientX,a.clientY),this._startPos=Xi(this._element),this._parentScale=Ph(u);var d=s.type==="mousedown";re(document,d?"mousemove":"touchmove",this._onMove,this),re(document,d?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var a=s.touches&&s.touches.length===1?s.touches[0]:s,u=new k(a.clientX,a.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,ot(s),this._moved||(this.fire("dragstart"),this._moved=!0,oe(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),oe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),$e(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){We(document.body,"leaflet-dragging"),this._lastTarget&&(We(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Pe(document,"mousemove touchmove",this._onMove,this),Pe(document,"mouseup touchend touchcancel",this._onUp,this),Ch(),uo();var a=this._moved&&this._moving;this._moving=!1,pi._dragging=!1,a&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Tg(s,a,u){var d,p=[1,4,2,8],g,C,x,b,D,H,X,le;for(g=0,H=s.length;g<H;g++)s[g]._code=nr(s[g],a);for(x=0;x<4;x++){for(X=p[x],d=[],g=0,H=s.length,C=H-1;g<H;C=g++)b=s[g],D=s[C],b._code&X?D._code&X||(le=ul(D,b,X,a,u),le._code=nr(le,a),d.push(le)):(D._code&X&&(le=ul(D,b,X,a,u),le._code=nr(le,a),d.push(le)),d.push(b));s=d}return s}function Ig(s,a){var u,d,p,g,C,x,b,D,H;if(!s||s.length===0)throw new Error("latlngs not passed");qt(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var X=ne([0,0]),le=ge(s),wt=le.getNorthWest().distanceTo(le.getSouthWest())*le.getNorthEast().distanceTo(le.getNorthWest());wt<1700&&(X=Ah(s));var Xe=s.length,Gt=[];for(u=0;u<Xe;u++){var xt=ne(s[u]);Gt.push(a.project(ne([xt.lat-X.lat,xt.lng-X.lng])))}for(x=b=D=0,u=0,d=Xe-1;u<Xe;d=u++)p=Gt[u],g=Gt[d],C=p.y*g.x-g.y*p.x,b+=(p.x+g.x)*C,D+=(p.y+g.y)*C,x+=C*3;x===0?H=Gt[0]:H=[b/x,D/x];var ts=a.unproject(F(H));return ne([ts.lat+X.lat,ts.lng+X.lng])}function Ah(s){for(var a=0,u=0,d=0,p=0;p<s.length;p++){var g=ne(s[p]);a+=g.lat,u+=g.lng,d++}return ne([a/d,u/d])}var ox={__proto__:null,clipPolygon:Tg,polygonCenter:Ig,centroid:Ah};function Pg(s,a){if(!a||!s.length)return s.slice();var u=a*a;return s=ux(s,u),s=lx(s,u),s}function xg(s,a,u){return Math.sqrt(po(s,a,u,!0))}function ax(s,a,u){return po(s,a,u)}function lx(s,a){var u=s.length,d=typeof Uint8Array!=void 0+""?Uint8Array:Array,p=new d(u);p[0]=p[u-1]=1,Mh(s,p,a,0,u-1);var g,C=[];for(g=0;g<u;g++)p[g]&&C.push(s[g]);return C}function Mh(s,a,u,d,p){var g=0,C,x,b;for(x=d+1;x<=p-1;x++)b=po(s[x],s[d],s[p],!0),b>g&&(C=x,g=b);g>u&&(a[C]=1,Mh(s,a,u,d,C),Mh(s,a,u,C,p))}function ux(s,a){for(var u=[s[0]],d=1,p=0,g=s.length;d<g;d++)cx(s[d],s[p])>a&&(u.push(s[d]),p=d);return p<g-1&&u.push(s[g-1]),u}var kg;function bg(s,a,u,d,p){var g=d?kg:nr(s,u),C=nr(a,u),x,b,D;for(kg=C;;){if(!(g|C))return[s,a];if(g&C)return!1;x=g||C,b=ul(s,a,x,u,p),D=nr(b,u),x===g?(s=b,g=D):(a=b,C=D)}}function ul(s,a,u,d,p){var g=a.x-s.x,C=a.y-s.y,x=d.min,b=d.max,D,H;return u&8?(D=s.x+g*(b.y-s.y)/C,H=b.y):u&4?(D=s.x+g*(x.y-s.y)/C,H=x.y):u&2?(D=b.x,H=s.y+C*(b.x-s.x)/g):u&1&&(D=x.x,H=s.y+C*(x.x-s.x)/g),new k(D,H,p)}function nr(s,a){var u=0;return s.x<a.min.x?u|=1:s.x>a.max.x&&(u|=2),s.y<a.min.y?u|=4:s.y>a.max.y&&(u|=8),u}function cx(s,a){var u=a.x-s.x,d=a.y-s.y;return u*u+d*d}function po(s,a,u,d){var p=a.x,g=a.y,C=u.x-p,x=u.y-g,b=C*C+x*x,D;return b>0&&(D=((s.x-p)*C+(s.y-g)*x)/b,D>1?(p=u.x,g=u.y):D>0&&(p+=C*D,g+=x*D)),C=s.x-p,x=s.y-g,d?C*C+x*x:new k(p,g)}function qt(s){return!I(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Rg(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),qt(s)}function Lg(s,a){var u,d,p,g,C,x,b,D;if(!s||s.length===0)throw new Error("latlngs not passed");qt(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var H=ne([0,0]),X=ge(s),le=X.getNorthWest().distanceTo(X.getSouthWest())*X.getNorthEast().distanceTo(X.getNorthWest());le<1700&&(H=Ah(s));var wt=s.length,Xe=[];for(u=0;u<wt;u++){var Gt=ne(s[u]);Xe.push(a.project(ne([Gt.lat-H.lat,Gt.lng-H.lng])))}for(u=0,d=0;u<wt-1;u++)d+=Xe[u].distanceTo(Xe[u+1])/2;if(d===0)D=Xe[0];else for(u=0,g=0;u<wt-1;u++)if(C=Xe[u],x=Xe[u+1],p=C.distanceTo(x),g+=p,g>d){b=(g-d)/p,D=[x.x-b*(x.x-C.x),x.y-b*(x.y-C.y)];break}var xt=a.unproject(F(D));return ne([xt.lat+H.lat,xt.lng+H.lng])}var hx={__proto__:null,simplify:Pg,pointToSegmentDistance:xg,closestPointOnSegment:ax,clipSegment:bg,_getEdgeIntersection:ul,_getBitCode:nr,_sqClosestPointOnSegment:po,isFlat:qt,_flat:Rg,polylineCenter:Lg},Dh={project:function(s){return new k(s.lng,s.lat)},unproject:function(s){return new pe(s.y,s.x)},bounds:new Z([-180,-90],[180,90])},Fh={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var a=Math.PI/180,u=this.R,d=s.lat*a,p=this.R_MINOR/u,g=Math.sqrt(1-p*p),C=g*Math.sin(d),x=Math.tan(Math.PI/4-d/2)/Math.pow((1-C)/(1+C),g/2);return d=-u*Math.log(Math.max(x,1e-10)),new k(s.lng*a*u,d)},unproject:function(s){for(var a=180/Math.PI,u=this.R,d=this.R_MINOR/u,p=Math.sqrt(1-d*d),g=Math.exp(-s.y/u),C=Math.PI/2-2*Math.atan(g),x=0,b=.1,D;x<15&&Math.abs(b)>1e-7;x++)D=p*Math.sin(C),D=Math.pow((1-D)/(1+D),p/2),b=Math.PI/2-2*Math.atan(g*D)-C,C+=b;return new pe(C*a,s.x*a/u)}},dx={__proto__:null,LonLat:Dh,Mercator:Fh,SphericalMercator:uh},fx=r({},fi,{code:"EPSG:3395",projection:Fh,transformation:function(){var s=.5/(Math.PI*Fh.R);return ro(s,.5,-s,.5)}()}),Og=r({},fi,{code:"EPSG:4326",projection:Dh,transformation:ro(1/180,1,-1/180,.5)}),px=r({},dt,{projection:Dh,transformation:ro(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,a){var u=a.lng-s.lng,d=a.lat-s.lat;return Math.sqrt(u*u+d*d)},infinite:!0});dt.Earth=fi,dt.EPSG3395=fx,dt.EPSG3857=hh,dt.EPSG900913=wP,dt.EPSG4326=Og,dt.Simple=px;var on=N.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[h(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[h(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var a=s.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var u=this.getEvents();a.on(u,this),this.once("remove",function(){a.off(u,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});me.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var a=h(s);return this._layers[a]?this:(this._layers[a]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var a=h(s);return this._layers[a]?(this._loaded&&s.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return h(s)in this._layers},eachLayer:function(s,a){for(var u in this._layers)s.call(a,this._layers[u]);return this},_addLayers:function(s){s=s?I(s)?s:[s]:[];for(var a=0,u=s.length;a<u;a++)this.addLayer(s[a])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[h(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var a=h(s);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,a=-1/0,u=this._getZoomSpan();for(var d in this._zoomBoundLayers){var p=this._zoomBoundLayers[d].options;s=p.minZoom===void 0?s:Math.min(s,p.minZoom),a=p.maxZoom===void 0?a:Math.max(a,p.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=s===1/0?void 0:s,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Yr=on.extend({initialize:function(s,a){T(this,a),this._layers={};var u,d;if(s)for(u=0,d=s.length;u<d;u++)this.addLayer(s[u])},addLayer:function(s){var a=this.getLayerId(s);return this._layers[a]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var a=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(s){var a=typeof s=="number"?s:this.getLayerId(s);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var a=Array.prototype.slice.call(arguments,1),u,d;for(u in this._layers)d=this._layers[u],d[s]&&d[s].apply(d,a);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,a){for(var u in this._layers)s.call(a,this._layers[u]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return h(s)}}),mx=function(s,a){return new Yr(s,a)},zn=Yr.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Yr.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Yr.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Ce;for(var a in this._layers){var u=this._layers[a];s.extend(u.getBounds?u.getBounds():u.getLatLng())}return s}}),_x=function(s,a){return new zn(s,a)},Qr=q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){T(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,a){var u=this._getIconUrl(s);if(!u){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(u,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(d,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),d},_setIconStyles:function(s,a){var u=this.options,d=u[a+"Size"];typeof d=="number"&&(d=[d,d]);var p=F(d),g=F(a==="shadow"&&u.shadowAnchor||u.iconAnchor||p&&p.divideBy(2,!0));s.className="leaflet-marker-"+a+" "+(u.className||""),g&&(s.style.marginLeft=-g.x+"px",s.style.marginTop=-g.y+"px"),p&&(s.style.width=p.x+"px",s.style.height=p.y+"px")},_createImg:function(s,a){return a=a||document.createElement("img"),a.src=s,a},_getIconUrl:function(s){return Y.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function gx(s){return new Qr(s)}var mo=Qr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof mo.imagePath!="string"&&(mo.imagePath=this._detectIconPath()),(this.options.imagePath||mo.imagePath)+Qr.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var a=function(u,d,p){var g=d.exec(u);return g&&g[p]};return s=a(s,/^url\((['"])?(.+)\1\)$/,2),s&&a(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=ye("div","leaflet-default-icon-path",document.body),a=ao(s,"background-image")||ao(s,"backgroundImage");if(document.body.removeChild(s),a=this._stripUrl(a),a)return a;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),Ng=xn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new pi(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),oe(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&We(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var a=this._marker,u=a._map,d=this._marker.options.autoPanSpeed,p=this._marker.options.autoPanPadding,g=Xi(a._icon),C=u.getPixelBounds(),x=u.getPixelOrigin(),b=se(C.min._subtract(x).add(p),C.max._subtract(x).subtract(p));if(!b.contains(g)){var D=F((Math.max(b.max.x,g.x)-b.max.x)/(C.max.x-b.max.x)-(Math.min(b.min.x,g.x)-b.min.x)/(C.min.x-b.min.x),(Math.max(b.max.y,g.y)-b.max.y)/(C.max.y-b.max.y)-(Math.min(b.min.y,g.y)-b.min.y)/(C.min.y-b.min.y)).multiplyBy(d);u.panBy(D,{animate:!1}),this._draggable._newPos._add(D),this._draggable._startPos._add(D),$e(a._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=fe(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(Ie(this._panRequest),this._panRequest=fe(this._adjustPan.bind(this,s)))},_onDrag:function(s){var a=this._marker,u=a._shadow,d=Xi(a._icon),p=a._map.layerPointToLatLng(d);u&&$e(u,d),a._latlng=p,s.latlng=p,s.oldLatLng=this._oldLatLng,a.fire("move",s).fire("drag",s)},_onDragEnd:function(s){Ie(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),cl=on.extend({options:{icon:new mo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,a){T(this,a),this._latlng=ne(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var a=this._latlng;return this._latlng=ne(s),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=s.icon.createIcon(this._icon),d=!1;u!==this._icon&&(this._icon&&this._removeIcon(),d=!0,s.title&&(u.title=s.title),u.tagName==="IMG"&&(u.alt=s.alt||"")),oe(u,a),s.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&re(u,"focus",this._panOnFocus,this);var p=s.icon.createShadow(this._shadow),g=!1;p!==this._shadow&&(this._removeShadow(),g=!0),p&&(oe(p,a),p.alt=""),this._shadow=p,s.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),p&&g&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pe(this._icon,"focus",this._panOnFocus,this),Ne(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ne(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&$e(this._icon,s),this._shadow&&$e(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(oe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ng)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ng(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Zt(this._icon,s),this._shadow&&Zt(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var a=this.options.icon.options,u=a.iconSize?F(a.iconSize):F(0,0),d=a.iconAnchor?F(a.iconAnchor):F(0,0);s.panInside(this._latlng,{paddingTopLeft:d,paddingBottomRight:u.subtract(d)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function vx(s,a){return new cl(s,a)}var mi=on.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return T(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),hl=mi.extend({options:{fill:!0,radius:10},initialize:function(s,a){T(this,a),this._latlng=ne(s),this._radius=this.options.radius},setLatLng:function(s){var a=this._latlng;return this._latlng=ne(s),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var a=s&&s.radius||this._radius;return mi.prototype.setStyle.call(this,s),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,a=this._radiusY||s,u=this._clickTolerance(),d=[s+u,a+u];this._pxBounds=new Z(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function yx(s,a){return new hl(s,a)}var Uh=hl.extend({initialize:function(s,a,u){if(typeof a=="number"&&(a=r({},u,{radius:a})),T(this,a),this._latlng=ne(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Ce(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:mi.prototype.setStyle,_project:function(){var s=this._latlng.lng,a=this._latlng.lat,u=this._map,d=u.options.crs;if(d.distance===fi.distance){var p=Math.PI/180,g=this._mRadius/fi.R/p,C=u.project([a+g,s]),x=u.project([a-g,s]),b=C.add(x).divideBy(2),D=u.unproject(b).lat,H=Math.acos((Math.cos(g*p)-Math.sin(a*p)*Math.sin(D*p))/(Math.cos(a*p)*Math.cos(D*p)))/p;(isNaN(H)||H===0)&&(H=g/Math.cos(Math.PI/180*a)),this._point=b.subtract(u.getPixelOrigin()),this._radius=isNaN(H)?0:b.x-u.project([D,s-H]).x,this._radiusY=b.y-C.y}else{var X=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(X).x}this._updateBounds()}});function wx(s,a,u){return new Uh(s,a,u)}var jn=mi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,a){T(this,a),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var a=1/0,u=null,d=po,p,g,C=0,x=this._parts.length;C<x;C++)for(var b=this._parts[C],D=1,H=b.length;D<H;D++){p=b[D-1],g=b[D];var X=d(s,p,g,!0);X<a&&(a=X,u=d(s,p,g))}return u&&(u.distance=Math.sqrt(a)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Lg(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,a){return a=a||this._defaultShape(),s=ne(s),a.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Ce,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return qt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var a=[],u=qt(s),d=0,p=s.length;d<p;d++)u?(a[d]=ne(s[d]),this._bounds.extend(a[d])):a[d]=this._convertLatLngs(s[d]);return a},_project:function(){var s=new Z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),a=new k(s,s);this._rawPxBounds&&(this._pxBounds=new Z([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(s,a,u){var d=s[0]instanceof pe,p=s.length,g,C;if(d){for(C=[],g=0;g<p;g++)C[g]=this._map.latLngToLayerPoint(s[g]),u.extend(C[g]);a.push(C)}else for(g=0;g<p;g++)this._projectLatlngs(s[g],a,u)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,u,d,p,g,C,x,b;for(u=0,p=0,g=this._rings.length;u<g;u++)for(b=this._rings[u],d=0,C=b.length;d<C-1;d++)x=bg(b[d],b[d+1],s,d,!0),x&&(a[p]=a[p]||[],a[p].push(x[0]),(x[1]!==b[d+1]||d===C-2)&&(a[p].push(x[1]),p++))}},_simplifyPoints:function(){for(var s=this._parts,a=this.options.smoothFactor,u=0,d=s.length;u<d;u++)s[u]=Pg(s[u],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,a){var u,d,p,g,C,x,b=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(u=0,g=this._parts.length;u<g;u++)for(x=this._parts[u],d=0,C=x.length,p=C-1;d<C;p=d++)if(!(!a&&d===0)&&xg(s,x[p],x[d])<=b)return!0;return!1}});function Ex(s,a){return new jn(s,a)}jn._flat=Rg;var Jr=jn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ig(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var a=jn.prototype._convertLatLngs.call(this,s),u=a.length;return u>=2&&a[0]instanceof pe&&a[0].equals(a[u-1])&&a.pop(),a},_setLatLngs:function(s){jn.prototype._setLatLngs.call(this,s),qt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return qt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,a=this.options.weight,u=new k(a,a);if(s=new Z(s.min.subtract(u),s.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var d=0,p=this._rings.length,g;d<p;d++)g=Tg(this._rings[d],s,!0),g.length&&this._parts.push(g)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var a=!1,u,d,p,g,C,x,b,D;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(g=0,b=this._parts.length;g<b;g++)for(u=this._parts[g],C=0,D=u.length,x=D-1;C<D;x=C++)d=u[C],p=u[x],d.y>s.y!=p.y>s.y&&s.x<(p.x-d.x)*(s.y-d.y)/(p.y-d.y)+d.x&&(a=!a);return a||jn.prototype._containsPoint.call(this,s,!0)}});function Sx(s,a){return new Jr(s,a)}var Wn=zn.extend({initialize:function(s,a){T(this,a),this._layers={},s&&this.addData(s)},addData:function(s){var a=I(s)?s:s.features,u,d,p;if(a){for(u=0,d=a.length;u<d;u++)p=a[u],(p.geometries||p.geometry||p.features||p.coordinates)&&this.addData(p);return this}var g=this.options;if(g.filter&&!g.filter(s))return this;var C=dl(s,g);return C?(C.feature=ml(s),C.defaultOptions=C.options,this.resetStyle(C),g.onEachFeature&&g.onEachFeature(s,C),this.addLayer(C)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=r({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(a){this._setLayerStyle(a,s)},this)},_setLayerStyle:function(s,a){s.setStyle&&(typeof a=="function"&&(a=a(s.feature)),s.setStyle(a))}});function dl(s,a){var u=s.type==="Feature"?s.geometry:s,d=u?u.coordinates:null,p=[],g=a&&a.pointToLayer,C=a&&a.coordsToLatLng||Bh,x,b,D,H;if(!d&&!u)return null;switch(u.type){case"Point":return x=C(d),Ag(g,s,x,a);case"MultiPoint":for(D=0,H=d.length;D<H;D++)x=C(d[D]),p.push(Ag(g,s,x,a));return new zn(p);case"LineString":case"MultiLineString":return b=fl(d,u.type==="LineString"?0:1,C),new jn(b,a);case"Polygon":case"MultiPolygon":return b=fl(d,u.type==="Polygon"?1:2,C),new Jr(b,a);case"GeometryCollection":for(D=0,H=u.geometries.length;D<H;D++){var X=dl({geometry:u.geometries[D],type:"Feature",properties:s.properties},a);X&&p.push(X)}return new zn(p);case"FeatureCollection":for(D=0,H=u.features.length;D<H;D++){var le=dl(u.features[D],a);le&&p.push(le)}return new zn(p);default:throw new Error("Invalid GeoJSON object.")}}function Ag(s,a,u,d){return s?s(a,u):new cl(u,d&&d.markersInheritOptions&&d)}function Bh(s){return new pe(s[1],s[0],s[2])}function fl(s,a,u){for(var d=[],p=0,g=s.length,C;p<g;p++)C=a?fl(s[p],a-1,u):(u||Bh)(s[p]),d.push(C);return d}function zh(s,a){return s=ne(s),s.alt!==void 0?[v(s.lng,a),v(s.lat,a),v(s.alt,a)]:[v(s.lng,a),v(s.lat,a)]}function pl(s,a,u,d){for(var p=[],g=0,C=s.length;g<C;g++)p.push(a?pl(s[g],qt(s[g])?0:a-1,u,d):zh(s[g],d));return!a&&u&&p.length>0&&p.push(p[0].slice()),p}function Xr(s,a){return s.feature?r({},s.feature,{geometry:a}):ml(a)}function ml(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var jh={toGeoJSON:function(s){return Xr(this,{type:"Point",coordinates:zh(this.getLatLng(),s)})}};cl.include(jh),Uh.include(jh),hl.include(jh),jn.include({toGeoJSON:function(s){var a=!qt(this._latlngs),u=pl(this._latlngs,a?1:0,!1,s);return Xr(this,{type:(a?"Multi":"")+"LineString",coordinates:u})}}),Jr.include({toGeoJSON:function(s){var a=!qt(this._latlngs),u=a&&!qt(this._latlngs[0]),d=pl(this._latlngs,u?2:a?1:0,!0,s);return a||(d=[d]),Xr(this,{type:(u?"Multi":"")+"Polygon",coordinates:d})}}),Yr.include({toMultiPoint:function(s){var a=[];return this.eachLayer(function(u){a.push(u.toGeoJSON(s).geometry.coordinates)}),Xr(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(s){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(s);var u=a==="GeometryCollection",d=[];return this.eachLayer(function(p){if(p.toGeoJSON){var g=p.toGeoJSON(s);if(u)d.push(g.geometry);else{var C=ml(g);C.type==="FeatureCollection"?d.push.apply(d,C.features):d.push(C)}}}),u?Xr(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});function Mg(s,a){return new Wn(s,a)}var Cx=Mg,_l=on.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,a,u){this._url=s,this._bounds=ge(a),T(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(oe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ne(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Gr(this._image),this},bringToBack:function(){return this._map&&Kr(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=ge(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",a=this._image=s?this._url:ye("img");if(oe(a,"leaflet-image-layer"),this._zoomAnimated&&oe(a,"leaflet-zoom-animated"),this.options.className&&oe(a,this.options.className),a.onselectstart=_,a.onmousemove=_,a.onload=l(this.fire,this,"load"),a.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(s){var a=this._map.getZoomScale(s.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Ji(this._image,u,a)},_reset:function(){var s=this._image,a=new Z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=a.getSize();$e(s,a.min),s.style.width=u.x+"px",s.style.height=u.y+"px"},_updateOpacity:function(){Zt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Tx=function(s,a,u){return new _l(s,a,u)},Dg=_l.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",a=this._image=s?this._url:ye("video");if(oe(a,"leaflet-image-layer"),this._zoomAnimated&&oe(a,"leaflet-zoom-animated"),this.options.className&&oe(a,this.options.className),a.onselectstart=_,a.onmousemove=_,a.onloadeddata=l(this.fire,this,"load"),s){for(var u=a.getElementsByTagName("source"),d=[],p=0;p<u.length;p++)d.push(u[p].src);this._url=u.length>0?d:[a.src];return}I(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var g=0;g<this._url.length;g++){var C=ye("source");C.src=this._url[g],a.appendChild(C)}}});function Ix(s,a,u){return new Dg(s,a,u)}var Fg=_l.extend({_initImage:function(){var s=this._image=this._url;oe(s,"leaflet-image-layer"),this._zoomAnimated&&oe(s,"leaflet-zoom-animated"),this.options.className&&oe(s,this.options.className),s.onselectstart=_,s.onmousemove=_}});function Px(s,a,u){return new Fg(s,a,u)}var kn=on.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,a){s&&(s instanceof pe||I(s))?(this._latlng=ne(s),T(this,a)):(T(this,s),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Zt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Zt(this._container,1),this.bringToFront(),this.options.interactive&&(oe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Zt(this._container,0),this._removeTimeout=setTimeout(l(Ne,void 0,this._container),200)):Ne(this._container),this.options.interactive&&(We(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=ne(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Gr(this._container),this},bringToBack:function(){return this._map&&Kr(this._container),this},_prepareOpen:function(s){var a=this._source;if(!a._map)return!1;if(a instanceof zn){a=null;var u=this._source._layers;for(var d in u)if(u[d]._map){a=u[d];break}if(!a)return!1;this._source=a}if(!s)if(a.getCenter)s=a.getCenter();else if(a.getLatLng)s=a.getLatLng();else if(a.getBounds)s=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")s.innerHTML=a;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),a=F(this.options.offset),u=this._getAnchor();this._zoomAnimated?$e(this._container,s.add(u)):a=a.add(s).add(u);var d=this._containerBottom=-a.y,p=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=d+"px",this._container.style.left=p+"px"}},_getAnchor:function(){return[0,0]}});me.include({_initOverlay:function(s,a,u,d){var p=a;return p instanceof s||(p=new s(d).setContent(a)),u&&p.setLatLng(u),p}}),on.include({_initOverlay:function(s,a,u,d){var p=u;return p instanceof s?(T(p,d),p._source=this):(p=a&&!d?a:new s(d,this),p.setContent(u)),p}});var gl=kn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,kn.prototype.openOn.call(this,s)},onAdd:function(s){kn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof mi||this._source.on("preclick",er))},onRemove:function(s){kn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof mi||this._source.off("preclick",er))},getEvents:function(){var s=kn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",a=this._container=ye("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=ye("div",s+"-content-wrapper",a);if(this._contentNode=ye("div",s+"-content",u),ho(a),Rh(this._contentNode),re(a,"contextmenu",er),this._tipContainer=ye("div",s+"-tip-container",a),this._tip=ye("div",s+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=ye("a",s+"-close-button",a);d.setAttribute("role","button"),d.setAttribute("aria-label","Close popup"),d.href="#close",d.innerHTML='<span aria-hidden="true">&#215;</span>',re(d,"click",function(p){ot(p),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,a=s.style;a.width="",a.whiteSpace="nowrap";var u=s.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),a.width=u+1+"px",a.whiteSpace="",a.height="";var d=s.offsetHeight,p=this.options.maxHeight,g="leaflet-popup-scrolled";p&&d>p?(a.height=p+"px",oe(s,g)):We(s,g),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),u=this._getAnchor();$e(this._container,a.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,a=parseInt(ao(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+a,d=this._containerWidth,p=new k(this._containerLeft,-u-this._containerBottom);p._add(Xi(this._container));var g=s.layerPointToContainerPoint(p),C=F(this.options.autoPanPadding),x=F(this.options.autoPanPaddingTopLeft||C),b=F(this.options.autoPanPaddingBottomRight||C),D=s.getSize(),H=0,X=0;g.x+d+b.x>D.x&&(H=g.x+d-D.x+b.x),g.x-H-x.x<0&&(H=g.x-x.x),g.y+u+b.y>D.y&&(X=g.y+u-D.y+b.y),g.y-X-x.y<0&&(X=g.y-x.y),(H||X)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([H,X]))}},_getAnchor:function(){return F(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),xx=function(s,a){return new gl(s,a)};me.mergeOptions({closePopupOnClick:!0}),me.include({openPopup:function(s,a,u){return this._initOverlay(gl,s,a,u).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),on.include({bindPopup:function(s,a){return this._popup=this._initOverlay(gl,this._popup,s,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof zn||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){tr(s);var a=s.layer||s.target;if(this._popup._source===a&&!(a instanceof mi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=a,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var vl=kn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){kn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){kn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=kn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",a=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ye("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var a,u,d=this._map,p=this._container,g=d.latLngToContainerPoint(d.getCenter()),C=d.layerPointToContainerPoint(s),x=this.options.direction,b=p.offsetWidth,D=p.offsetHeight,H=F(this.options.offset),X=this._getAnchor();x==="top"?(a=b/2,u=D):x==="bottom"?(a=b/2,u=0):x==="center"?(a=b/2,u=D/2):x==="right"?(a=0,u=D/2):x==="left"?(a=b,u=D/2):C.x<g.x?(x="right",a=0,u=D/2):(x="left",a=b+(H.x+X.x)*2,u=D/2),s=s.subtract(F(a,u,!0)).add(H).add(X),We(p,"leaflet-tooltip-right"),We(p,"leaflet-tooltip-left"),We(p,"leaflet-tooltip-top"),We(p,"leaflet-tooltip-bottom"),oe(p,"leaflet-tooltip-"+x),$e(p,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Zt(this._container,s)},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(a)},_getAnchor:function(){return F(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),kx=function(s,a){return new vl(s,a)};me.include({openTooltip:function(s,a,u){return this._initOverlay(vl,s,a,u).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),on.include({bindTooltip:function(s,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(vl,this._tooltip,s,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var a=s?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[a](u),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof zn||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var a=typeof s.getElement=="function"&&s.getElement();a&&(re(a,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),re(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var a=typeof s.getElement=="function"&&s.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var a=s.latlng,u,d;this._tooltip.options.sticky&&s.originalEvent&&(u=this._map.mouseEventToContainerPoint(s.originalEvent),d=this._map.containerPointToLayerPoint(u),a=this._map.layerPointToLatLng(d)),this._tooltip.setLatLng(a)}});var Ug=Qr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var a=s&&s.tagName==="DIV"?s:document.createElement("div"),u=this.options;if(u.html instanceof Element?(rl(a),a.appendChild(u.html)):a.innerHTML=u.html!==!1?u.html:"",u.bgPos){var d=F(u.bgPos);a.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function bx(s){return new Ug(s)}Qr.Default=mo;var _o=on.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Y.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){T(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Ne(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Gr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Kr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof k?s:new k(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var a=this.getPane().children,u=-s(-1/0,1/0),d=0,p=a.length,g;d<p;d++)g=a[d].style.zIndex,a[d]!==this._container&&g&&(u=s(u,+g));isFinite(u)&&(this.options.zIndex=u+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Y.ielt9){Zt(this._container,this.options.opacity);var s=+new Date,a=!1,u=!1;for(var d in this._tiles){var p=this._tiles[d];if(!(!p.current||!p.loaded)){var g=Math.min(1,(s-p.loaded)/200);Zt(p.el,g),g<1?a=!0:(p.active?u=!0:this._onOpaqueTile(p),p.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),a&&(Ie(this._fadeFrame),this._fadeFrame=fe(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=ye("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,a=this.options.maxZoom;if(s!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===s?(this._levels[u].el.style.zIndex=a-Math.abs(s-u),this._onUpdateLevel(u)):(Ne(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var d=this._levels[s],p=this._map;return d||(d=this._levels[s]={},d.el=ye("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=a,d.origin=p.project(p.unproject(p.getPixelOrigin()),s).round(),d.zoom=s,this._setZoomTransform(d,p.getCenter(),p.getZoom()),_(d.el.offsetWidth),this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var s,a,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)a=this._tiles[s],a.retain=a.current;for(s in this._tiles)if(a=this._tiles[s],a.current&&!a.active){var d=a.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var a in this._tiles)this._tiles[a].coords.z===s&&this._removeTile(a)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Ne(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,a,u,d){var p=Math.floor(s/2),g=Math.floor(a/2),C=u-1,x=new k(+p,+g);x.z=+C;var b=this._tileCoordsToKey(x),D=this._tiles[b];return D&&D.active?(D.retain=!0,!0):(D&&D.loaded&&(D.retain=!0),C>d?this._retainParent(p,g,C,d):!1)},_retainChildren:function(s,a,u,d){for(var p=2*s;p<2*s+2;p++)for(var g=2*a;g<2*a+2;g++){var C=new k(p,g);C.z=u+1;var x=this._tileCoordsToKey(C),b=this._tiles[x];if(b&&b.active){b.retain=!0;continue}else b&&b.loaded&&(b.retain=!0);u+1<d&&this._retainChildren(p,g,u+1,d)}},_resetView:function(s){var a=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var a=this.options;return a.minNativeZoom!==void 0&&s<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<s?a.maxNativeZoom:s},_setView:function(s,a,u,d){var p=Math.round(a);this.options.maxZoom!==void 0&&p>this.options.maxZoom||this.options.minZoom!==void 0&&p<this.options.minZoom?p=void 0:p=this._clampZoom(p);var g=this.options.updateWhenZooming&&p!==this._tileZoom;(!d||g)&&(this._tileZoom=p,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),p!==void 0&&this._update(s),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(s,a)},_setZoomTransforms:function(s,a){for(var u in this._levels)this._setZoomTransform(this._levels[u],s,a)},_setZoomTransform:function(s,a,u){var d=this._map.getZoomScale(u,s.zoom),p=s.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(a,u)).round();Y.any3d?Ji(s.el,p,d):$e(s.el,p)},_resetGrid:function(){var s=this._map,a=s.options.crs,u=this._tileSize=this.getTileSize(),d=this._tileZoom,p=this._map.getPixelWorldBounds(this._tileZoom);p&&(this._globalTileRange=this._pxBoundsToTileRange(p)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,a.wrapLng[0]],d).x/u.x),Math.ceil(s.project([0,a.wrapLng[1]],d).x/u.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([a.wrapLat[0],0],d).y/u.x),Math.ceil(s.project([a.wrapLat[1],0],d).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var a=this._map,u=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),d=a.getZoomScale(u,this._tileZoom),p=a.project(s,this._tileZoom).floor(),g=a.getSize().divideBy(d*2);return new Z(p.subtract(g),p.add(g))},_update:function(s){var a=this._map;if(a){var u=this._clampZoom(a.getZoom());if(s===void 0&&(s=a.getCenter()),this._tileZoom!==void 0){var d=this._getTiledPixelBounds(s),p=this._pxBoundsToTileRange(d),g=p.getCenter(),C=[],x=this.options.keepBuffer,b=new Z(p.getBottomLeft().subtract([x,-x]),p.getTopRight().add([x,-x]));if(!(isFinite(p.min.x)&&isFinite(p.min.y)&&isFinite(p.max.x)&&isFinite(p.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var D in this._tiles){var H=this._tiles[D].coords;(H.z!==this._tileZoom||!b.contains(new k(H.x,H.y)))&&(this._tiles[D].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(s,u);return}for(var X=p.min.y;X<=p.max.y;X++)for(var le=p.min.x;le<=p.max.x;le++){var wt=new k(le,X);if(wt.z=this._tileZoom,!!this._isValidTile(wt)){var Xe=this._tiles[this._tileCoordsToKey(wt)];Xe?Xe.current=!0:C.push(wt)}}if(C.sort(function(xt,ts){return xt.distanceTo(g)-ts.distanceTo(g)}),C.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Gt=document.createDocumentFragment();for(le=0;le<C.length;le++)this._addTile(C[le],Gt);this._level.el.appendChild(Gt)}}}},_isValidTile:function(s){var a=this._map.options.crs;if(!a.infinite){var u=this._globalTileRange;if(!a.wrapLng&&(s.x<u.min.x||s.x>u.max.x)||!a.wrapLat&&(s.y<u.min.y||s.y>u.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(s);return ge(this.options.bounds).overlaps(d)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var a=this._map,u=this.getTileSize(),d=s.scaleBy(u),p=d.add(u),g=a.unproject(d,s.z),C=a.unproject(p,s.z);return[g,C]},_tileCoordsToBounds:function(s){var a=this._tileCoordsToNwSe(s),u=new Ce(a[0],a[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var a=s.split(":"),u=new k(+a[0],+a[1]);return u.z=+a[2],u},_removeTile:function(s){var a=this._tiles[s];a&&(Ne(a.el),delete this._tiles[s],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){oe(s,"leaflet-tile");var a=this.getTileSize();s.style.width=a.x+"px",s.style.height=a.y+"px",s.onselectstart=_,s.onmousemove=_,Y.ielt9&&this.options.opacity<1&&Zt(s,this.options.opacity)},_addTile:function(s,a){var u=this._getTilePos(s),d=this._tileCoordsToKey(s),p=this.createTile(this._wrapCoords(s),l(this._tileReady,this,s));this._initTile(p),this.createTile.length<2&&fe(l(this._tileReady,this,s,null,p)),$e(p,u),this._tiles[d]={el:p,coords:s,current:!0},a.appendChild(p),this.fire("tileloadstart",{tile:p,coords:s})},_tileReady:function(s,a,u){a&&this.fire("tileerror",{error:a,tile:u,coords:s});var d=this._tileCoordsToKey(s);u=this._tiles[d],u&&(u.loaded=+new Date,this._map._fadeAnimated?(Zt(u.el,0),Ie(this._fadeFrame),this._fadeFrame=fe(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),a||(oe(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Y.ielt9||!this._map._fadeAnimated?fe(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var a=new k(this._wrapX?m(s.x,this._wrapX):s.x,this._wrapY?m(s.y,this._wrapY):s.y);return a.z=s.z,a},_pxBoundsToTileRange:function(s){var a=this.getTileSize();return new Z(s.min.unscaleBy(a).floor(),s.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Rx(s){return new _o(s)}var es=_o.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,a){this._url=s,a=T(this,a),a.detectRetina&&Y.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,a){return this._url===s&&a===void 0&&(a=!0),this._url=s,a||this.redraw(),this},createTile:function(s,a){var u=document.createElement("img");return re(u,"load",l(this._tileOnLoad,this,a,u)),re(u,"error",l(this._tileOnError,this,a,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(s),u},getTileUrl:function(s){var a={r:Y.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-s.y;this.options.tms&&(a.y=u),a["-y"]=u}return w(this._url,r(a,this.options))},_tileOnLoad:function(s,a){Y.ielt9?setTimeout(l(s,this,null,a),0):s(null,a)},_tileOnError:function(s,a,u){var d=this.options.errorTileUrl;d&&a.getAttribute("src")!==d&&(a.src=d),s(u,a)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,a=this.options.maxZoom,u=this.options.zoomReverse,d=this.options.zoomOffset;return u&&(s=a-s),s+d},_getSubdomain:function(s){var a=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var s,a;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(a=this._tiles[s].el,a.onload=_,a.onerror=_,!a.complete)){a.src=B;var u=this._tiles[s].coords;Ne(a),delete this._tiles[s],this.fire("tileabort",{tile:a,coords:u})}},_removeTile:function(s){var a=this._tiles[s];if(a)return a.el.setAttribute("src",B),_o.prototype._removeTile.call(this,s)},_tileReady:function(s,a,u){if(!(!this._map||u&&u.getAttribute("src")===B))return _o.prototype._tileReady.call(this,s,a,u)}});function Bg(s,a){return new es(s,a)}var zg=es.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,a){this._url=s;var u=r({},this.defaultWmsParams);for(var d in a)d in this.options||(u[d]=a[d]);a=T(this,a);var p=a.detectRetina&&Y.retina?2:1,g=this.getTileSize();u.width=g.x*p,u.height=g.y*p,this.wmsParams=u},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,es.prototype.onAdd.call(this,s)},getTileUrl:function(s){var a=this._tileCoordsToNwSe(s),u=this._crs,d=se(u.project(a[0]),u.project(a[1])),p=d.min,g=d.max,C=(this._wmsVersion>=1.3&&this._crs===Og?[p.y,p.x,g.y,g.x]:[p.x,p.y,g.x,g.y]).join(","),x=es.prototype.getTileUrl.call(this,s);return x+R(this.wmsParams,x,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+C},setParams:function(s,a){return r(this.wmsParams,s),a||this.redraw(),this}});function Lx(s,a){return new zg(s,a)}es.WMS=zg,Bg.wms=Lx;var Hn=on.extend({options:{padding:.1},initialize:function(s){T(this,s),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),oe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,a){var u=this._map.getZoomScale(a,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),p=this._map.project(this._center,a),g=d.multiplyBy(-u).add(p).subtract(this._map._getNewPixelOrigin(s,a));Y.any3d?Ji(this._container,g,u):$e(this._container,g)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,a=this._map.getSize(),u=this._map.containerPointToLayerPoint(a.multiplyBy(-s)).round();this._bounds=new Z(u,u.add(a.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),jg=Hn.extend({options:{tolerance:0},getEvents:function(){var s=Hn.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Hn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");re(s,"mousemove",this._onMouseMove,this),re(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),re(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){Ie(this._redrawRequest),delete this._ctx,Ne(this._container),Pe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var a in this._layers)s=this._layers[a],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Hn.prototype._update.call(this);var s=this._bounds,a=this._container,u=s.getSize(),d=Y.retina?2:1;$e(a,s.min),a.width=d*u.x,a.height=d*u.y,a.style.width=u.x+"px",a.style.height=u.y+"px",Y.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Hn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[h(s)]=s;var a=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var a=s._order,u=a.next,d=a.prev;u?u.prev=d:this._drawLast=d,d?d.next=u:this._drawFirst=u,delete s._order,delete this._layers[h(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var a=s.options.dashArray.split(/[, ]+/),u=[],d,p;for(p=0;p<a.length;p++){if(d=Number(a[p]),isNaN(d))return;u.push(d)}s.options._dashArray=u}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||fe(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var a=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Z,this._redrawBounds.extend(s._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(s._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var a=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,a=this._redrawBounds;if(this._ctx.save(),a){var u=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)s=d.layer,(!a||s._pxBounds&&s._pxBounds.intersects(a))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,a){if(this._drawing){var u,d,p,g,C=s._parts,x=C.length,b=this._ctx;if(x){for(b.beginPath(),u=0;u<x;u++){for(d=0,p=C[u].length;d<p;d++)g=C[u][d],b[d?"lineTo":"moveTo"](g.x,g.y);a&&b.closePath()}this._fillStroke(b,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var a=s._point,u=this._ctx,d=Math.max(Math.round(s._radius),1),p=(Math.max(Math.round(s._radiusY),1)||d)/d;p!==1&&(u.save(),u.scale(1,p)),u.beginPath(),u.arc(a.x,a.y/p,d,0,Math.PI*2,!1),p!==1&&u.restore(),this._fillStroke(u,s)}},_fillStroke:function(s,a){var u=a.options;u.fill&&(s.globalAlpha=u.fillOpacity,s.fillStyle=u.fillColor||u.color,s.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(s.setLineDash&&s.setLineDash(a.options&&a.options._dashArray||[]),s.globalAlpha=u.opacity,s.lineWidth=u.weight,s.strokeStyle=u.color,s.lineCap=u.lineCap,s.lineJoin=u.lineJoin,s.stroke())},_onClick:function(s){for(var a=this._map.mouseEventToLayerPoint(s),u,d,p=this._drawFirst;p;p=p.next)u=p.layer,u.options.interactive&&u._containsPoint(a)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(u))&&(d=u);this._fireEvent(d?[d]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,a)}},_handleMouseOut:function(s){var a=this._hoveredLayer;a&&(We(this._container,"leaflet-interactive"),this._fireEvent([a],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,a){if(!this._mouseHoverThrottled){for(var u,d,p=this._drawFirst;p;p=p.next)u=p.layer,u.options.interactive&&u._containsPoint(a)&&(d=u);d!==this._hoveredLayer&&(this._handleMouseOut(s),d&&(oe(this._container,"leaflet-interactive"),this._fireEvent([d],s,"mouseover"),this._hoveredLayer=d)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,a,u){this._map._fireDOMEvent(a,u||a.type,s)},_bringToFront:function(s){var a=s._order;if(a){var u=a.next,d=a.prev;if(u)u.prev=d;else return;d?d.next=u:u&&(this._drawFirst=u),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(s)}},_bringToBack:function(s){var a=s._order;if(a){var u=a.next,d=a.prev;if(d)d.next=u;else return;u?u.prev=d:d&&(this._drawLast=d),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(s)}}});function Wg(s){return Y.canvas?new jg(s):null}var go=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ox={_initContainer:function(){this._container=ye("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Hn.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var a=s._container=go("shape");oe(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",s._path=go("path"),a.appendChild(s._path),this._updateStyle(s),this._layers[h(s)]=s},_addPath:function(s){var a=s._container;this._container.appendChild(a),s.options.interactive&&s.addInteractiveTarget(a)},_removePath:function(s){var a=s._container;Ne(a),s.removeInteractiveTarget(a),delete this._layers[h(s)]},_updateStyle:function(s){var a=s._stroke,u=s._fill,d=s.options,p=s._container;p.stroked=!!d.stroke,p.filled=!!d.fill,d.stroke?(a||(a=s._stroke=go("stroke")),p.appendChild(a),a.weight=d.weight+"px",a.color=d.color,a.opacity=d.opacity,d.dashArray?a.dashStyle=I(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=d.lineCap.replace("butt","flat"),a.joinstyle=d.lineJoin):a&&(p.removeChild(a),s._stroke=null),d.fill?(u||(u=s._fill=go("fill")),p.appendChild(u),u.color=d.fillColor||d.color,u.opacity=d.fillOpacity):u&&(p.removeChild(u),s._fill=null)},_updateCircle:function(s){var a=s._point.round(),u=Math.round(s._radius),d=Math.round(s._radiusY||u);this._setPath(s,s._empty()?"M0 0":"AL "+a.x+","+a.y+" "+u+","+d+" 0,"+65535*360)},_setPath:function(s,a){s._path.v=a},_bringToFront:function(s){Gr(s._container)},_bringToBack:function(s){Kr(s._container)}},yl=Y.vml?go:Z_,vo=Hn.extend({_initContainer:function(){this._container=yl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=yl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ne(this._container),Pe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Hn.prototype._update.call(this);var s=this._bounds,a=s.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,u.setAttribute("width",a.x),u.setAttribute("height",a.y)),$e(u,s.min),u.setAttribute("viewBox",[s.min.x,s.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(s){var a=s._path=yl("path");s.options.className&&oe(a,s.options.className),s.options.interactive&&oe(a,"leaflet-interactive"),this._updateStyle(s),this._layers[h(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Ne(s._path),s.removeInteractiveTarget(s._path),delete this._layers[h(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var a=s._path,u=s.options;a&&(u.stroke?(a.setAttribute("stroke",u.color),a.setAttribute("stroke-opacity",u.opacity),a.setAttribute("stroke-width",u.weight),a.setAttribute("stroke-linecap",u.lineCap),a.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?a.setAttribute("stroke-dasharray",u.dashArray):a.removeAttribute("stroke-dasharray"),u.dashOffset?a.setAttribute("stroke-dashoffset",u.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),u.fill?(a.setAttribute("fill",u.fillColor||u.color),a.setAttribute("fill-opacity",u.fillOpacity),a.setAttribute("fill-rule",u.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(s,a){this._setPath(s,q_(s._parts,a))},_updateCircle:function(s){var a=s._point,u=Math.max(Math.round(s._radius),1),d=Math.max(Math.round(s._radiusY),1)||u,p="a"+u+","+d+" 0 1,0 ",g=s._empty()?"M0 0":"M"+(a.x-u)+","+a.y+p+u*2+",0 "+p+-u*2+",0 ";this._setPath(s,g)},_setPath:function(s,a){s._path.setAttribute("d",a)},_bringToFront:function(s){Gr(s._path)},_bringToBack:function(s){Kr(s._path)}});Y.vml&&vo.include(Ox);function Hg(s){return Y.svg||Y.vml?new vo(s):null}me.include({getRenderer:function(s){var a=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var a=this._paneRenderers[s];return a===void 0&&(a=this._createRenderer({pane:s}),this._paneRenderers[s]=a),a},_createRenderer:function(s){return this.options.preferCanvas&&Wg(s)||Hg(s)}});var $g=Jr.extend({initialize:function(s,a){Jr.prototype.initialize.call(this,this._boundsToLatLngs(s),a)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=ge(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Nx(s,a){return new $g(s,a)}vo.create=yl,vo.pointsToPath=q_,Wn.geometryToLayer=dl,Wn.coordsToLatLng=Bh,Wn.coordsToLatLngs=fl,Wn.latLngToCoords=zh,Wn.latLngsToCoords=pl,Wn.getFeature=Xr,Wn.asFeature=ml,me.mergeOptions({boxZoom:!0});var Vg=xn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){re(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Pe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ne(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),lo(),Sh(),this._startPoint=this._map.mouseEventToContainerPoint(s),re(document,{contextmenu:tr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=ye("div","leaflet-zoom-box",this._container),oe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var a=new Z(this._point,this._startPoint),u=a.getSize();$e(this._box,a.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(Ne(this._box),We(this._container,"leaflet-crosshair")),uo(),Ch(),Pe(document,{contextmenu:tr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var a=new Ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});me.addInitHook("addHandler","boxZoom",Vg),me.mergeOptions({doubleClickZoom:!0});var Zg=xn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var a=this._map,u=a.getZoom(),d=a.options.zoomDelta,p=s.originalEvent.shiftKey?u-d:u+d;a.options.doubleClickZoom==="center"?a.setZoom(p):a.setZoomAround(s.containerPoint,p)}});me.addInitHook("addHandler","doubleClickZoom",Zg),me.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var qg=xn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new pi(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}oe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){We(this._map._container,"leaflet-grab"),We(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=ge(this._map.options.maxBounds);this._offsetLimit=se(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var a=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(a),this._prunePositions(a)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,a){return s-(s-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;s.x<a.min.x&&(s.x=this._viscousLimit(s.x,a.min.x)),s.y<a.min.y&&(s.y=this._viscousLimit(s.y,a.min.y)),s.x>a.max.x&&(s.x=this._viscousLimit(s.x,a.max.x)),s.y>a.max.y&&(s.y=this._viscousLimit(s.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,a=Math.round(s/2),u=this._initialWorldOffset,d=this._draggable._newPos.x,p=(d-a+u)%s+a-u,g=(d+a+u)%s-a-u,C=Math.abs(p+u)<Math.abs(g+u)?p:g;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=C},_onDragEnd:function(s){var a=this._map,u=a.options,d=!u.inertia||s.noInertia||this._times.length<2;if(a.fire("dragend",s),d)a.fire("moveend");else{this._prunePositions(+new Date);var p=this._lastPos.subtract(this._positions[0]),g=(this._lastTime-this._times[0])/1e3,C=u.easeLinearity,x=p.multiplyBy(C/g),b=x.distanceTo([0,0]),D=Math.min(u.inertiaMaxSpeed,b),H=x.multiplyBy(D/b),X=D/(u.inertiaDeceleration*C),le=H.multiplyBy(-X/2).round();!le.x&&!le.y?a.fire("moveend"):(le=a._limitOffset(le,a.options.maxBounds),fe(function(){a.panBy(le,{duration:X,easeLinearity:C,noMoveStart:!0,animate:!0})}))}}});me.addInitHook("addHandler","dragging",qg),me.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Gg=xn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),re(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Pe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,a=document.documentElement,u=s.scrollTop||a.scrollTop,d=s.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(d,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var a=this._panKeys={},u=this.keyCodes,d,p;for(d=0,p=u.left.length;d<p;d++)a[u.left[d]]=[-1*s,0];for(d=0,p=u.right.length;d<p;d++)a[u.right[d]]=[s,0];for(d=0,p=u.down.length;d<p;d++)a[u.down[d]]=[0,s];for(d=0,p=u.up.length;d<p;d++)a[u.up[d]]=[0,-1*s]},_setZoomDelta:function(s){var a=this._zoomKeys={},u=this.keyCodes,d,p;for(d=0,p=u.zoomIn.length;d<p;d++)a[u.zoomIn[d]]=s;for(d=0,p=u.zoomOut.length;d<p;d++)a[u.zoomOut[d]]=-s},_addHooks:function(){re(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Pe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var a=s.keyCode,u=this._map,d;if(a in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(d=this._panKeys[a],s.shiftKey&&(d=F(d).multiplyBy(3)),u.options.maxBounds&&(d=u._limitOffset(F(d),u.options.maxBounds)),u.options.worldCopyJump){var p=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(d)));u.panTo(p)}else u.panBy(d)}else if(a in this._zoomKeys)u.setZoom(u.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;tr(s)}}});me.addInitHook("addHandler","keyboard",Gg),me.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Kg=xn.extend({addHooks:function(){re(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Pe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var a=yg(s),u=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var d=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),d),tr(s)},_performZoom:function(){var s=this._map,a=s.getZoom(),u=this._map.options.zoomSnap||0;s._stop();var d=this._delta/(this._map.options.wheelPxPerZoomLevel*4),p=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2,g=u?Math.ceil(p/u)*u:p,C=s._limitZoom(a+(this._delta>0?g:-g))-a;this._delta=0,this._startTime=null,C&&(s.options.scrollWheelZoom==="center"?s.setZoom(a+C):s.setZoomAround(this._lastMousePos,a+C))}});me.addInitHook("addHandler","scrollWheelZoom",Kg);var Ax=600;me.mergeOptions({tapHold:Y.touchNative&&Y.safari&&Y.mobile,tapTolerance:15});var Yg=xn.extend({addHooks:function(){re(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Pe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var a=s.touches[0];this._startPos=this._newPos=new k(a.clientX,a.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(re(document,"touchend",ot),re(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),Ax),re(document,"touchend touchcancel contextmenu",this._cancel,this),re(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Pe(document,"touchend",ot),Pe(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Pe(document,"touchend touchcancel contextmenu",this._cancel,this),Pe(document,"touchmove",this._onMove,this)},_onMove:function(s){var a=s.touches[0];this._newPos=new k(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,a){var u=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});u._simulated=!0,a.target.dispatchEvent(u)}});me.addInitHook("addHandler","tapHold",Yg),me.mergeOptions({touchZoom:Y.touch,bounceAtZoomLimits:!0});var Qg=xn.extend({addHooks:function(){oe(this._map._container,"leaflet-touch-zoom"),re(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){We(this._map._container,"leaflet-touch-zoom"),Pe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var a=this._map;if(!(!s.touches||s.touches.length!==2||a._animatingZoom||this._zooming)){var u=a.mouseEventToContainerPoint(s.touches[0]),d=a.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(u.add(d)._divideBy(2))),this._startDist=u.distanceTo(d),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),re(document,"touchmove",this._onTouchMove,this),re(document,"touchend touchcancel",this._onTouchEnd,this),ot(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var a=this._map,u=a.mouseEventToContainerPoint(s.touches[0]),d=a.mouseEventToContainerPoint(s.touches[1]),p=u.distanceTo(d)/this._startDist;if(this._zoom=a.getScaleZoom(p,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&p<1||this._zoom>a.getMaxZoom()&&p>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,p===1)return}else{var g=u._add(d)._divideBy(2)._subtract(this._centerPoint);if(p===1&&g.x===0&&g.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(g),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),Ie(this._animRequest);var C=l(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=fe(C,this,!0),ot(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ie(this._animRequest),Pe(document,"touchmove",this._onTouchMove,this),Pe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});me.addInitHook("addHandler","touchZoom",Qg),me.BoxZoom=Vg,me.DoubleClickZoom=Zg,me.Drag=qg,me.Keyboard=Gg,me.ScrollWheelZoom=Kg,me.TapHold=Yg,me.TouchZoom=Qg,n.Bounds=Z,n.Browser=Y,n.CRS=dt,n.Canvas=jg,n.Circle=Uh,n.CircleMarker=hl,n.Class=q,n.Control=sn,n.DivIcon=Ug,n.DivOverlay=kn,n.DomEvent=JP,n.DomUtil=YP,n.Draggable=pi,n.Evented=N,n.FeatureGroup=zn,n.GeoJSON=Wn,n.GridLayer=_o,n.Handler=xn,n.Icon=Qr,n.ImageOverlay=_l,n.LatLng=pe,n.LatLngBounds=Ce,n.Layer=on,n.LayerGroup=Yr,n.LineUtil=hx,n.Map=me,n.Marker=cl,n.Mixin=sx,n.Path=mi,n.Point=k,n.PolyUtil=ox,n.Polygon=Jr,n.Polyline=jn,n.Popup=gl,n.PosAnimation=wg,n.Projection=dx,n.Rectangle=$g,n.Renderer=Hn,n.SVG=vo,n.SVGOverlay=Fg,n.TileLayer=es,n.Tooltip=vl,n.Transformation=ch,n.Util=Je,n.VideoOverlay=Dg,n.bind=l,n.bounds=se,n.canvas=Wg,n.circle=wx,n.circleMarker=yx,n.control=fo,n.divIcon=bx,n.extend=r,n.featureGroup=_x,n.geoJSON=Mg,n.geoJson=Cx,n.gridLayer=Rx,n.icon=gx,n.imageOverlay=Tx,n.latLng=ne,n.latLngBounds=ge,n.layerGroup=mx,n.map=XP,n.marker=vx,n.point=F,n.polygon=Sx,n.polyline=Ex,n.popup=xx,n.rectangle=Nx,n.setOptions=T,n.stamp=h,n.svg=Hg,n.svgOverlay=Px,n.tileLayer=Bg,n.tooltip=kx,n.transformation=ro,n.version=i,n.videoOverlay=Ix;var Mx=window.L;n.noConflict=function(){return window.L=Mx,this},window.L=n})})(yp,yp.exports);var it=yp.exports;const Dz=kp(it),z_=u0({__proto__:null,default:Dz},[it]);function j_(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function W_(t,e){return e==null?function(i,r){const o=A.useRef();return o.current||(o.current=t(i,r)),o}:function(i,r){const o=A.useRef();o.current||(o.current=t(i,r));const l=A.useRef(i),{instance:c}=o.current;return A.useEffect(function(){l.current!==i&&(e(c,i,l.current),l.current=i)},[c,i,r]),o}}function Fz(t,e){A.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function sP(t){return function(n){const i=iP(),r=t(B_(n,i),i);return eP(i.map,n.attribution),rP(r.current,n.eventHandlers),Fz(r.current,i),r}}function Uz(t,e){const n=W_(t,e),i=sP(n);return Oz(i)}function Bz(t,e){const n=W_(t),i=Mz(n,e);return Nz(i)}function zz(t,e){const n=W_(t,e),i=sP(n);return Az(i)}function jz(t,e,n){const{opacity:i,zIndex:r}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),r!=null&&r!==n.zIndex&&t.setZIndex(r)}function wp(){return wp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},wp.apply(this,arguments)}function Wz({bounds:t,boundsOptions:e,center:n,children:i,className:r,id:o,placeholder:l,style:c,whenReady:h,zoom:f,...m},_){const[v]=A.useState({className:r,id:o,style:c}),[E,y]=A.useState(null);A.useImperativeHandle(_,()=>(E==null?void 0:E.map)??null,[E]);const T=A.useCallback(S=>{if(S!==null&&E===null){const w=new it.Map(S,m);n!=null&&f!=null?w.setView(n,f):t!=null&&w.fitBounds(t,e),h!=null&&w.whenReady(h),y(Rz(w))}},[]);A.useEffect(()=>()=>{E==null||E.map.remove()},[E]);const R=E?hu.createElement(nP,{value:E},i):l??null;return hu.createElement("div",wp({},v,{ref:T}),R)}const Hz=A.forwardRef(Wz),$z=Uz(function({position:e,...n},i){const r=new it.Marker(e,n);return j_(r,Lz(i,{overlayContainer:r}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),Vz=Bz(function(e,n){const i=new it.Popup(e,n.overlayContainer);return j_(i,n)},function(e,n,{position:i},r){A.useEffect(function(){const{instance:l}=e;function c(f){f.popup===l&&(l.update(),r(!0))}function h(f){f.popup===l&&r(!1)}return n.map.on({popupopen:c,popupclose:h}),n.overlayContainer==null?(i!=null&&l.setLatLng(i),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var m;n.map.off({popupopen:c,popupclose:h}),(m=n.overlayContainer)==null||m.unbindPopup(),n.map.removeLayer(l)}},[e,n,r,i])}),Zz=zz(function({url:e,...n},i){const r=new it.TileLayer(e,B_(n,i));return j_(r,i)},function(e,n,i){jz(e,n,i);const{url:r}=n;r!=null&&r!==i.url&&e.setUrl(r)});function qz(){A.useState("");const t=[],[e,n]=A.useState(0),[i,r]=A.useState(!1),[o,l]=A.useState(),[c,h]=A.useState([]),[f,m]=A.useState(null),_=pp(vp,"images/"),v=oI(XI,"spots/");A.useEffect(()=>{WI(Ur,R=>{m(R||null)}),RF(v,R=>{R.forEach(S=>{t.push(S.val())}),l(t)}),tU(_).then(R=>{R.items.forEach(S=>{wI(S).then(w=>{h(I=>[...I,w])})})})},[]);function E(R){console.log(R.currentTarget.id),r(!0),n(R.currentTarget.id)}function y(){r(!1)}const T=new it.Icon({iconUrl:"https://cdn2.iconfinder.com/data/icons/activity-5/50/1F6F9-skateboard-512.png",iconSize:[64,64]});return P.jsxs(A.Fragment,{children:[P.jsx(ah,{}),P.jsxs("div",{className:"bigContainer",children:[P.jsxs(Hz,{center:[43.747474670410156,-79.49417877197266],zoom:13,scrollWheelZoom:!1,children:[P.jsx(Zz,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o?P.jsx("div",{children:o.map(R=>P.jsx($z,{position:[R.lat,R.long],icon:T,children:P.jsx(Vz,{children:R.spotDescription})}))}):P.jsx("div",{})]}),i?P.jsx("div",{className:"spotContainer",children:o?P.jsxs("div",{className:"spotWindow",children:[P.jsx("br",{}),P.jsx("img",{className:"spotImage",src:o[e].imgURL}),P.jsx("br",{}),P.jsxs("strong",{id:"spotTitleText",children:["Spot Name: ",o[e].spotName]}),P.jsxs("p",{id:"spotInfo",children:["Address: ",o[e].spotAddress]}),P.jsx("br",{}),P.jsx("button",{id:"backButton",onClick:y,children:" Back"})]}):P.jsx("div",{})}):P.jsxs("div",{className:"spotContainer",children:[P.jsx("h2",{id:"text1",children:"View Skate Spots!"}),P.jsx("div",{children:o?P.jsx("div",{children:o.map((R,S)=>P.jsxs("div",{id:S,className:"element-container",onClick:E,children:[P.jsx("img",{src:R.imgURL,className:"image"}),P.jsx("div",{className:"element-text",children:o[S].spotName})]}))}):P.jsx("p",{className:"errorText",children:"Loading spots...."})})]})]})]})}var Ep={exports:{}},Br={},oP={exports:{}},Gz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Kz=Gz,Yz=Kz;function aP(){}function lP(){}lP.resetWarningCache=aP;var Qz=function(){function t(i,r,o,l,c,h){if(h!==Yz){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:lP,resetWarningCache:aP};return n.PropTypes=n,n};oP.exports=Qz();var uP=oP.exports,Sp={exports:{}},Cn={},Cp={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=m;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",i="contents",r=/input|select|textarea|button|object|iframe/;function o(_,v){return v.getPropertyValue("overflow")!=="visible"||_.scrollWidth<=0&&_.scrollHeight<=0}function l(_){var v=_.offsetWidth<=0&&_.offsetHeight<=0;if(v&&!_.innerHTML)return!0;try{var E=window.getComputedStyle(_),y=E.getPropertyValue("display");return v?y!==i&&o(_,E):y===n}catch{return console.warn("Failed to inspect element style"),!1}}function c(_){for(var v=_,E=_.getRootNode&&_.getRootNode();v&&v!==document.body;){if(E&&v===E&&(v=E.host.parentNode),l(v))return!1;v=v.parentNode}return!0}function h(_,v){var E=_.nodeName.toLowerCase(),y=r.test(E)&&!_.disabled||E==="a"&&_.href||v;return y&&c(_)}function f(_){var v=_.getAttribute("tabindex");v===null&&(v=void 0);var E=isNaN(v);return(E||v>=0)&&h(_,!E)}function m(_){var v=[].slice.call(_.querySelectorAll("*"),0).reduce(function(E,y){return E.concat(y.shadowRoot?m(y.shadowRoot):[y])},[]);return v.filter(f)}t.exports=e.default})(Cp,Cp.exports);var cP=Cp.exports;Object.defineProperty(Cn,"__esModule",{value:!0});Cn.resetState=tj;Cn.log=nj;Cn.handleBlur=Da;Cn.handleFocus=Fa;Cn.markForFocusLater=ij;Cn.returnFocus=rj;Cn.popWithoutFocus=sj;Cn.setupScopedFocus=oj;Cn.teardownScopedFocus=aj;var Jz=cP,Xz=ej(Jz);function ej(t){return t&&t.__esModule?t:{default:t}}var $s=[],ys=null,Tp=!1;function tj(){$s=[]}function nj(){}function Da(){Tp=!0}function Fa(){if(Tp){if(Tp=!1,!ys)return;setTimeout(function(){if(!ys.contains(document.activeElement)){var t=(0,Xz.default)(ys)[0]||ys;t.focus()}},0)}}function ij(){$s.push(document.activeElement)}function rj(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{$s.length!==0&&(e=$s.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function sj(){$s.length>0&&$s.pop()}function oj(t){ys=t,window.addEventListener?(window.addEventListener("blur",Da,!1),document.addEventListener("focus",Fa,!0)):(window.attachEvent("onBlur",Da),document.attachEvent("onFocus",Fa))}function aj(){ys=null,window.addEventListener?(window.removeEventListener("blur",Da),document.removeEventListener("focus",Fa)):(window.detachEvent("onBlur",Da),document.detachEvent("onFocus",Fa))}var Ip={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var n=cP,i=r(n);function r(c){return c&&c.__esModule?c:{default:c}}function o(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return c.activeElement.shadowRoot?o(c.activeElement.shadowRoot):c.activeElement}function l(c,h){var f=(0,i.default)(c);if(!f.length){h.preventDefault();return}var m=void 0,_=h.shiftKey,v=f[0],E=f[f.length-1],y=o();if(c===y){if(!_)return;m=E}if(E===y&&!_&&(m=v),v===y&&_&&(m=E),m){h.preventDefault(),m.focus();return}var T=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),R=T!=null&&T[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(R){var S=f.indexOf(y);if(S>-1&&(S+=_?-1:1),m=f[S],typeof m>"u"){h.preventDefault(),m=_?E:v,m.focus();return}h.preventDefault(),m.focus()}}t.exports=e.default})(Ip,Ip.exports);var lj=Ip.exports,Tn={},uj=function(){},cj=uj,vn={},hP={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()})(hP);var hj=hP.exports;Object.defineProperty(vn,"__esModule",{value:!0});vn.canUseDOM=vn.SafeNodeList=vn.SafeHTMLCollection=void 0;var dj=hj,fj=pj(dj);function pj(t){return t&&t.__esModule?t:{default:t}}var lh=fj.default,mj=lh.canUseDOM?window.HTMLElement:{};vn.SafeHTMLCollection=lh.canUseDOM?window.HTMLCollection:{};vn.SafeNodeList=lh.canUseDOM?window.NodeList:{};vn.canUseDOM=lh.canUseDOM;vn.default=mj;Object.defineProperty(Tn,"__esModule",{value:!0});Tn.resetState=wj;Tn.log=Ej;Tn.assertNodeList=dP;Tn.setElement=Sj;Tn.validateElement=H_;Tn.hide=Cj;Tn.show=Tj;Tn.documentNotReadyOrSSRTesting=Ij;var _j=cj,gj=yj(_j),vj=vn;function yj(t){return t&&t.__esModule?t:{default:t}}var Kt=null;function wj(){Kt&&(Kt.removeAttribute?Kt.removeAttribute("aria-hidden"):Kt.length!=null?Kt.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(Kt).forEach(function(t){return t.removeAttribute("aria-hidden")})),Kt=null}function Ej(){}function dP(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function Sj(t){var e=t;if(typeof e=="string"&&vj.canUseDOM){var n=document.querySelectorAll(e);dP(n,e),e=n}return Kt=e||Kt,Kt}function H_(t){var e=t||Kt;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,gj.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function Cj(t){var e=!0,n=!1,i=void 0;try{for(var r=H_(t)[Symbol.iterator](),o;!(e=(o=r.next()).done);e=!0){var l=o.value;l.setAttribute("aria-hidden","true")}}catch(c){n=!0,i=c}finally{try{!e&&r.return&&r.return()}finally{if(n)throw i}}}function Tj(t){var e=!0,n=!1,i=void 0;try{for(var r=H_(t)[Symbol.iterator](),o;!(e=(o=r.next()).done);e=!0){var l=o.value;l.removeAttribute("aria-hidden")}}catch(c){n=!0,i=c}finally{try{!e&&r.return&&r.return()}finally{if(n)throw i}}}function Ij(){Kt=null}var no={};Object.defineProperty(no,"__esModule",{value:!0});no.resetState=Pj;no.log=xj;var na={},ia={};function Xw(t,e){t.classList.remove(e)}function Pj(){var t=document.getElementsByTagName("html")[0];for(var e in na)Xw(t,na[e]);var n=document.body;for(var i in ia)Xw(n,ia[i]);na={},ia={}}function xj(){}var kj=function(e,n){return e[n]||(e[n]=0),e[n]+=1,n},bj=function(e,n){return e[n]&&(e[n]-=1),n},Rj=function(e,n,i){i.forEach(function(r){kj(n,r),e.add(r)})},Lj=function(e,n,i){i.forEach(function(r){bj(n,r),n[r]===0&&e.remove(r)})};no.add=function(e,n){return Rj(e.classList,e.nodeName.toLowerCase()=="html"?na:ia,n.split(" "))};no.remove=function(e,n){return Lj(e.classList,e.nodeName.toLowerCase()=="html"?na:ia,n.split(" "))};var io={};Object.defineProperty(io,"__esModule",{value:!0});io.log=Nj;io.resetState=Aj;function Oj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var fP=function t(){var e=this;Oj(this,t),this.register=function(n){e.openInstances.indexOf(n)===-1&&(e.openInstances.push(n),e.emit("register"))},this.deregister=function(n){var i=e.openInstances.indexOf(n);i!==-1&&(e.openInstances.splice(i,1),e.emit("deregister"))},this.subscribe=function(n){e.subscribers.push(n)},this.emit=function(n){e.subscribers.forEach(function(i){return i(n,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},uc=new fP;function Nj(){console.log("portalOpenInstances ----------"),console.log(uc.openInstances.length),uc.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function Aj(){uc=new fP}io.default=uc;var $_={};Object.defineProperty($_,"__esModule",{value:!0});$_.resetState=Uj;$_.log=Bj;var Mj=io,Dj=Fj(Mj);function Fj(t){return t&&t.__esModule?t:{default:t}}var mt=void 0,un=void 0,Sr=[];function Uj(){for(var t=[mt,un],e=0;e<t.length;e++){var n=t[e];n&&n.parentNode&&n.parentNode.removeChild(n)}mt=un=null,Sr=[]}function Bj(){console.log("bodyTrap ----------"),console.log(Sr.length);for(var t=[mt,un],e=0;e<t.length;e++){var n=t[e],i=n||{};console.log(i.nodeName,i.className,i.id)}console.log("edn bodyTrap ----------")}function e0(){Sr.length!==0&&Sr[Sr.length-1].focusContent()}function zj(t,e){!mt&&!un&&(mt=document.createElement("div"),mt.setAttribute("data-react-modal-body-trap",""),mt.style.position="absolute",mt.style.opacity="0",mt.setAttribute("tabindex","0"),mt.addEventListener("focus",e0),un=mt.cloneNode(),un.addEventListener("focus",e0)),Sr=e,Sr.length>0?(document.body.firstChild!==mt&&document.body.insertBefore(mt,document.body.firstChild),document.body.lastChild!==un&&document.body.appendChild(un)):(mt.parentElement&&mt.parentElement.removeChild(mt),un.parentElement&&un.parentElement.removeChild(un))}Dj.default.subscribe(zj);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(q){for(var K=1;K<arguments.length;K++){var Q=arguments[K];for(var N in Q)Object.prototype.hasOwnProperty.call(Q,N)&&(q[N]=Q[N])}return q},i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},r=function(){function q(K,Q){for(var N=0;N<Q.length;N++){var k=Q[N];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(K,k.key,k)}}return function(K,Q,N){return Q&&q(K.prototype,Q),N&&q(K,N),K}}(),o=A,l=uP,c=B(l),h=Cn,f=O(h),m=lj,_=B(m),v=Tn,E=O(v),y=no,T=O(y),R=vn,S=B(R),w=io,I=B(w);function O(q){if(q&&q.__esModule)return q;var K={};if(q!=null)for(var Q in q)Object.prototype.hasOwnProperty.call(q,Q)&&(K[Q]=q[Q]);return K.default=q,K}function B(q){return q&&q.__esModule?q:{default:q}}function W(q,K){if(!(q instanceof K))throw new TypeError("Cannot call a class as a function")}function z(q,K){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:q}function $(q,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);q.prototype=Object.create(K&&K.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(q,K):q.__proto__=K)}var ae={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},te=function(K){return K.code==="Tab"||K.keyCode===9},fe=function(K){return K.code==="Escape"||K.keyCode===27},Ie=0,Je=function(q){$(K,q);function K(Q){W(this,K);var N=z(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,Q));return N.setOverlayRef=function(k){N.overlay=k,N.props.overlayRef&&N.props.overlayRef(k)},N.setContentRef=function(k){N.content=k,N.props.contentRef&&N.props.contentRef(k)},N.afterClose=function(){var k=N.props,G=k.appElement,F=k.ariaHideApp,Z=k.htmlOpenClassName,se=k.bodyOpenClassName,Ce=k.parentSelector,ge=Ce&&Ce().ownerDocument||document;se&&T.remove(ge.body,se),Z&&T.remove(ge.getElementsByTagName("html")[0],Z),F&&Ie>0&&(Ie-=1,Ie===0&&E.show(G)),N.props.shouldFocusAfterRender&&(N.props.shouldReturnFocusAfterClose?(f.returnFocus(N.props.preventScroll),f.teardownScopedFocus()):f.popWithoutFocus()),N.props.onAfterClose&&N.props.onAfterClose(),I.default.deregister(N)},N.open=function(){N.beforeOpen(),N.state.afterOpen&&N.state.beforeClose?(clearTimeout(N.closeTimer),N.setState({beforeClose:!1})):(N.props.shouldFocusAfterRender&&(f.setupScopedFocus(N.node),f.markForFocusLater()),N.setState({isOpen:!0},function(){N.openAnimationFrame=requestAnimationFrame(function(){N.setState({afterOpen:!0}),N.props.isOpen&&N.props.onAfterOpen&&N.props.onAfterOpen({overlayEl:N.overlay,contentEl:N.content})})}))},N.close=function(){N.props.closeTimeoutMS>0?N.closeWithTimeout():N.closeWithoutTimeout()},N.focusContent=function(){return N.content&&!N.contentHasFocus()&&N.content.focus({preventScroll:!0})},N.closeWithTimeout=function(){var k=Date.now()+N.props.closeTimeoutMS;N.setState({beforeClose:!0,closesAt:k},function(){N.closeTimer=setTimeout(N.closeWithoutTimeout,N.state.closesAt-Date.now())})},N.closeWithoutTimeout=function(){N.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},N.afterClose)},N.handleKeyDown=function(k){te(k)&&(0,_.default)(N.content,k),N.props.shouldCloseOnEsc&&fe(k)&&(k.stopPropagation(),N.requestClose(k))},N.handleOverlayOnClick=function(k){N.shouldClose===null&&(N.shouldClose=!0),N.shouldClose&&N.props.shouldCloseOnOverlayClick&&(N.ownerHandlesClose()?N.requestClose(k):N.focusContent()),N.shouldClose=null},N.handleContentOnMouseUp=function(){N.shouldClose=!1},N.handleOverlayOnMouseDown=function(k){!N.props.shouldCloseOnOverlayClick&&k.target==N.overlay&&k.preventDefault()},N.handleContentOnClick=function(){N.shouldClose=!1},N.handleContentOnMouseDown=function(){N.shouldClose=!1},N.requestClose=function(k){return N.ownerHandlesClose()&&N.props.onRequestClose(k)},N.ownerHandlesClose=function(){return N.props.onRequestClose},N.shouldBeClosed=function(){return!N.state.isOpen&&!N.state.beforeClose},N.contentHasFocus=function(){return document.activeElement===N.content||N.content.contains(document.activeElement)},N.buildClassName=function(k,G){var F=(typeof G>"u"?"undefined":i(G))==="object"?G:{base:ae[k],afterOpen:ae[k]+"--after-open",beforeClose:ae[k]+"--before-close"},Z=F.base;return N.state.afterOpen&&(Z=Z+" "+F.afterOpen),N.state.beforeClose&&(Z=Z+" "+F.beforeClose),typeof G=="string"&&G?Z+" "+G:Z},N.attributesFromObject=function(k,G){return Object.keys(G).reduce(function(F,Z){return F[k+"-"+Z]=G[Z],F},{})},N.state={afterOpen:!1,beforeClose:!1},N.shouldClose=null,N.moveFromContentToOverlay=null,N}return r(K,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(N,k){this.props.isOpen&&!N.isOpen?this.open():!this.props.isOpen&&N.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!k.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var N=this.props,k=N.appElement,G=N.ariaHideApp,F=N.htmlOpenClassName,Z=N.bodyOpenClassName,se=N.parentSelector,Ce=se&&se().ownerDocument||document;Z&&T.add(Ce.body,Z),F&&T.add(Ce.getElementsByTagName("html")[0],F),G&&(Ie+=1,E.hide(k)),I.default.register(this)}},{key:"render",value:function(){var N=this.props,k=N.id,G=N.className,F=N.overlayClassName,Z=N.defaultStyles,se=N.children,Ce=G?{}:Z.content,ge=F?{}:Z.overlay;if(this.shouldBeClosed())return null;var pe={ref:this.setOverlayRef,className:this.buildClassName("overlay",F),style:n({},ge,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},ne=n({id:k,ref:this.setContentRef,style:n({},Ce,this.props.style.content),className:this.buildClassName("content",G),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),dt=this.props.contentElement(ne,se);return this.props.overlayElement(pe,dt)}}]),K}(o.Component);Je.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},Je.propTypes={isOpen:c.default.bool.isRequired,defaultStyles:c.default.shape({content:c.default.object,overlay:c.default.object}),style:c.default.shape({content:c.default.object,overlay:c.default.object}),className:c.default.oneOfType([c.default.string,c.default.object]),overlayClassName:c.default.oneOfType([c.default.string,c.default.object]),parentSelector:c.default.func,bodyOpenClassName:c.default.string,htmlOpenClassName:c.default.string,ariaHideApp:c.default.bool,appElement:c.default.oneOfType([c.default.instanceOf(S.default),c.default.instanceOf(R.SafeHTMLCollection),c.default.instanceOf(R.SafeNodeList),c.default.arrayOf(c.default.instanceOf(S.default))]),onAfterOpen:c.default.func,onAfterClose:c.default.func,onRequestClose:c.default.func,closeTimeoutMS:c.default.number,shouldFocusAfterRender:c.default.bool,shouldCloseOnOverlayClick:c.default.bool,shouldReturnFocusAfterClose:c.default.bool,preventScroll:c.default.bool,role:c.default.string,contentLabel:c.default.string,aria:c.default.object,data:c.default.object,children:c.default.node,shouldCloseOnEsc:c.default.bool,overlayRef:c.default.func,contentRef:c.default.func,id:c.default.string,overlayElement:c.default.func,contentElement:c.default.func,testId:c.default.string},e.default=Je,t.exports=e.default})(Sp,Sp.exports);var jj=Sp.exports;function pP(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function mP(t){function e(n){var i=this.constructor.getDerivedStateFromProps(t,n);return i??null}this.setState(e.bind(this))}function _P(t,e){try{var n=this.props,i=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}pP.__suppressDeprecationWarning=!0;mP.__suppressDeprecationWarning=!0;_P.__suppressDeprecationWarning=!0;function Wj(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,i=null,r=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?i="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(i="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?r="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(r="UNSAFE_componentWillUpdate"),n!==null||i!==null||r!==null){var o=t.displayName||t.name,l=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+l+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+(r!==null?`
  `+r:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=pP,e.componentWillReceiveProps=mP),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=_P;var c=e.componentDidUpdate;e.componentDidUpdate=function(f,m,_){var v=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:_;c.call(this,f,m,v)}}return t}const Hj=Object.freeze(Object.defineProperty({__proto__:null,polyfill:Wj},Symbol.toStringTag,{value:"Module"})),$j=Vx(Hj);Object.defineProperty(Br,"__esModule",{value:!0});Br.bodyOpenClassName=Br.portalClassName=void 0;var t0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Vj=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),gP=A,cc=el(gP),Zj=Cm,hc=el(Zj),qj=uP,ie=el(qj),Gj=jj,n0=el(Gj),Kj=Tn,Yj=Jj(Kj),Li=vn,i0=el(Li),Qj=$j;function Jj(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function el(t){return t&&t.__esModule?t:{default:t}}function Xj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r0(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function eW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var tW=Br.portalClassName="ReactModalPortal",nW=Br.bodyOpenClassName="ReactModal__Body--open",ar=Li.canUseDOM&&hc.default.createPortal!==void 0,s0=function(e){return document.createElement(e)},o0=function(){return ar?hc.default.createPortal:hc.default.unstable_renderSubtreeIntoContainer};function Hl(t){return t()}var tl=function(t){eW(e,t);function e(){var n,i,r,o;Xj(this,e);for(var l=arguments.length,c=Array(l),h=0;h<l;h++)c[h]=arguments[h];return o=(i=(r=r0(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(c))),r),r.removePortal=function(){!ar&&hc.default.unmountComponentAtNode(r.node);var f=Hl(r.props.parentSelector);f&&f.contains(r.node)?f.removeChild(r.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},r.portalRef=function(f){r.portal=f},r.renderPortal=function(f){var m=o0(),_=m(r,cc.default.createElement(n0.default,t0({defaultStyles:e.defaultStyles},f)),r.node);r.portalRef(_)},i),r0(r,o)}return Vj(e,[{key:"componentDidMount",value:function(){if(Li.canUseDOM){ar||(this.node=s0("div")),this.node.className=this.props.portalClassName;var i=Hl(this.props.parentSelector);i.appendChild(this.node),!ar&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(i){var r=Hl(i.parentSelector),o=Hl(this.props.parentSelector);return{prevParent:r,nextParent:o}}},{key:"componentDidUpdate",value:function(i,r,o){if(Li.canUseDOM){var l=this.props,c=l.isOpen,h=l.portalClassName;i.portalClassName!==h&&(this.node.className=h);var f=o.prevParent,m=o.nextParent;m!==f&&(f.removeChild(this.node),m.appendChild(this.node)),!(!i.isOpen&&!c)&&!ar&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!Li.canUseDOM||!this.node||!this.portal)){var i=this.portal.state,r=Date.now(),o=i.isOpen&&this.props.closeTimeoutMS&&(i.closesAt||r+this.props.closeTimeoutMS);o?(i.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,o-r)):this.removePortal()}}},{key:"render",value:function(){if(!Li.canUseDOM||!ar)return null;!this.node&&ar&&(this.node=s0("div"));var i=o0();return i(cc.default.createElement(n0.default,t0({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(i){Yj.setElement(i)}}]),e}(gP.Component);tl.propTypes={isOpen:ie.default.bool.isRequired,style:ie.default.shape({content:ie.default.object,overlay:ie.default.object}),portalClassName:ie.default.string,bodyOpenClassName:ie.default.string,htmlOpenClassName:ie.default.string,className:ie.default.oneOfType([ie.default.string,ie.default.shape({base:ie.default.string.isRequired,afterOpen:ie.default.string.isRequired,beforeClose:ie.default.string.isRequired})]),overlayClassName:ie.default.oneOfType([ie.default.string,ie.default.shape({base:ie.default.string.isRequired,afterOpen:ie.default.string.isRequired,beforeClose:ie.default.string.isRequired})]),appElement:ie.default.oneOfType([ie.default.instanceOf(i0.default),ie.default.instanceOf(Li.SafeHTMLCollection),ie.default.instanceOf(Li.SafeNodeList),ie.default.arrayOf(ie.default.instanceOf(i0.default))]),onAfterOpen:ie.default.func,onRequestClose:ie.default.func,closeTimeoutMS:ie.default.number,ariaHideApp:ie.default.bool,shouldFocusAfterRender:ie.default.bool,shouldCloseOnOverlayClick:ie.default.bool,shouldReturnFocusAfterClose:ie.default.bool,preventScroll:ie.default.bool,parentSelector:ie.default.func,aria:ie.default.object,data:ie.default.object,role:ie.default.string,contentLabel:ie.default.string,shouldCloseOnEsc:ie.default.bool,overlayRef:ie.default.func,contentRef:ie.default.func,id:ie.default.string,overlayElement:ie.default.func,contentElement:ie.default.func};tl.defaultProps={isOpen:!1,portalClassName:tW,bodyOpenClassName:nW,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,n){return cc.default.createElement("div",e,n)},contentElement:function(e,n){return cc.default.createElement("div",e,n)}};tl.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,Qj.polyfill)(tl);Br.default=tl;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Br,i=r(n);function r(o){return o&&o.__esModule?o:{default:o}}e.default=i.default,t.exports=e.default})(Ep,Ep.exports);var iW=Ep.exports;const rW=kp(iW),sW=({isOpen:t,onRequestClose:e})=>{const[n,i]=A.useState(""),[r,o]=A.useState(""),l=c=>{c.preventDefault(),eC.get("http://localhost:3001/test",{email:n,password:r}).then(h=>{console.log(h),h.data==="Success"&&navigate("/home")}).catch(h=>console.log(h))};return P.jsxs(rW,{isOpen:t,onRequestClose:e,contentLabel:"Login Modal",children:[P.jsx("h2",{children:"Login"}),P.jsxs("form",{children:[P.jsxs("label",{children:["Email:",P.jsx("input",{type:"email",name:"email",onChange:c=>i(c.target.value)})]}),P.jsxs("label",{children:["Password:",P.jsx("input",{type:"password",name:"password",onChange:c=>o(c.target.value)})]}),P.jsx("button",{type:"button",onClick:l,children:"Login"})]})]})},oW=()=>{const[t,e]=A.useState(!1),n=()=>{e(!0)},i=()=>{e(!1)};return P.jsxs("div",{children:[P.jsx("h1",{children:"Welcome to the Homepage"}),P.jsx("button",{onClick:n,children:"Login"}),P.jsx(sW,{isOpen:t,onRequestClose:i})]})};function pr(){return pr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},pr.apply(this,arguments)}function aW(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,dc(t,e)}function dc(t,e){return dc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dc(t,e)}function lW(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pp(t,e,n){return Pp=lW()?Reflect.construct.bind():function(i,r,o){var l=[null];l.push.apply(l,r);var c=new(Function.bind.apply(i,l));return o&&dc(c,o.prototype),c},Pp.apply(null,arguments)}function ei(t,e,n,i){e===void 0&&(e=""),i===void 0&&(i={});var r=document.createElement(t);return e&&(r.className=e),Object.keys(i).forEach(function(o){if(typeof i[o]=="function"){var l=o.indexOf("on")===0?o.substr(2).toLowerCase():o;r.addEventListener(l,i[o])}else o==="html"?r.innerHTML=i[o]:o==="text"?r.innerText=i[o]:r.setAttribute(o,i[o])}),n&&n.appendChild(r),r}function No(t){t.preventDefault(),t.stopPropagation()}var cu=function(){return[].slice.call(arguments).filter(Boolean).join(" ").trim()};function mr(t,e){t&&t.classList&&(Array.isArray(e)?e:[e]).forEach(function(n){t.classList.contains(n)||t.classList.add(n)})}function On(t,e){t&&t.classList&&(Array.isArray(e)?e:[e]).forEach(function(n){t.classList.contains(n)&&t.classList.remove(n)})}var fc,pc=13,xp=40,vP=38,uW=[pc,27,xp,vP,37,39],cW=function(){function t(n){var i=this,r=n.handleSubmit,o=n.searchLabel,l=n.classNames,c=l===void 0?{}:l;this.container=void 0,this.form=void 0,this.input=void 0,this.handleSubmit=void 0,this.hasError=!1,this.container=ei("div",cu("geosearch",c.container)),this.form=ei("form",["",c.form].join(" "),this.container,{autocomplete:"none",onClick:No,onDblClick:No,touchStart:No,touchEnd:No}),this.input=ei("input",["glass",c.input].join(" "),this.form,{type:"text",placeholder:o||"search",onInput:this.onInput,onKeyUp:function(h){return i.onKeyUp(h)},onKeyPress:function(h){return i.onKeyPress(h)},onFocus:this.onFocus,onBlur:this.onBlur,onClick:function(){i.input.focus(),i.input.dispatchEvent(new Event("focus"))}}),this.handleSubmit=r}var e=t.prototype;return e.onFocus=function(){mr(this.form,"active")},e.onBlur=function(){On(this.form,"active")},e.onSubmit=function(n){try{var i=this;return No(n),On(r=i.container,"error"),mr(r,"pending"),Promise.resolve(i.handleSubmit({query:i.input.value})).then(function(){On(i.container,"pending")})}catch(o){return Promise.reject(o)}var r},e.onInput=function(){this.hasError&&(On(this.container,"error"),this.hasError=!1)},e.onKeyUp=function(n){n.keyCode===27&&(On(this.container,["pending","active"]),this.input.value="",document.body.focus(),document.body.blur())},e.onKeyPress=function(n){n.keyCode===pc&&this.onSubmit(n)},e.setQuery=function(n){this.input.value=n},t}(),hW=function(){function t(n){var i=this,r=n.handleClick,o=n.classNames,l=o===void 0?{}:o,c=n.notFoundMessage;this.handleClick=void 0,this.selected=-1,this.results=[],this.container=void 0,this.resultItem=void 0,this.notFoundMessage=void 0,this.onClick=function(h){if(typeof i.handleClick=="function"){var f=h.target;if(f&&i.container.contains(f)&&f.hasAttribute("data-key")){var m=Number(f.getAttribute("data-key"));i.handleClick({result:i.results[m]})}}},this.handleClick=r,this.notFoundMessage=c?ei("div",cu(l.notfound),void 0,{html:c}):void 0,this.container=ei("div",cu("results",l.resultlist)),this.container.addEventListener("click",this.onClick,!0),this.resultItem=ei("div",cu(l.item))}var e=t.prototype;return e.render=function(n,i){var r=this;n===void 0&&(n=[]),this.clear(),n.forEach(function(o,l){var c=r.resultItem.cloneNode(!0);c.setAttribute("data-key",""+l),c.innerHTML=i({result:o}),r.container.appendChild(c)}),n.length>0?(mr(this.container.parentElement,"open"),mr(this.container,"active")):this.notFoundMessage&&(this.container.appendChild(this.notFoundMessage),mr(this.container.parentElement,"open")),this.results=n},e.select=function(n){return Array.from(this.container.children).forEach(function(i,r){return r===n?mr(i,"active"):On(i,"active")}),this.selected=n,this.results[n]},e.count=function(){return this.results?this.results.length:0},e.clear=function(){for(this.selected=-1;this.container.lastChild;)this.container.removeChild(this.container.lastChild);On(this.container.parentElement,"open"),On(this.container,"active")},t}(),Wd={position:"topleft",style:"button",showMarker:!0,showPopup:!1,popupFormat:function(t){return""+t.result.label},resultFormat:function(t){return""+t.result.label},marker:{icon:z_&&it.Icon?new it.Icon.Default:void 0,draggable:!1},maxMarkers:1,maxSuggestions:5,retainZoomLevel:!1,animateZoom:!0,searchLabel:"Enter address",clearSearchLabel:"Clear search",notFoundMessage:"",messageHideDelay:3e3,zoomLevel:18,classNames:{container:"leaflet-bar leaflet-control leaflet-control-geosearch",button:"leaflet-bar-part leaflet-bar-part-single",resetButton:"reset",msgbox:"leaflet-bar message",form:"",input:"",resultlist:"",item:"",notfound:"leaflet-bar-notfound"},autoComplete:!0,autoCompleteDelay:250,autoClose:!1,keepResult:!1,updateMap:!0},yP="Leaflet must be loaded before instantiating the GeoSearch control",dW={options:pr({},Wd),classNames:pr({},Wd.classNames),initialize:function(t){var e,n,i,r,o=this;if(!z_)throw new Error(yP);if(!t.provider)throw new Error("Provider is missing from options");this.options=pr({},Wd,t),this.classNames=pr({},this.classNames,t.classNames),this.markers=new it.FeatureGroup,this.classNames.container+=" leaflet-geosearch-"+this.options.style,this.searchElement=new cW({searchLabel:this.options.searchLabel,classNames:{container:this.classNames.container,form:this.classNames.form,input:this.classNames.input},handleSubmit:function(l){return o.onSubmit(l)}}),this.button=ei("a",this.classNames.button,this.searchElement.container,{title:this.options.searchLabel,href:"#",onClick:function(l){return o.onClick(l)}}),it.DomEvent.disableClickPropagation(this.button),this.resetButton=ei("button",this.classNames.resetButton,this.searchElement.form,{text:"×","aria-label":this.options.clearSearchLabel,onClick:function(){o.searchElement.input.value===""?o.close():o.clearResults(null,!0)}}),it.DomEvent.disableClickPropagation(this.resetButton),this.options.autoComplete&&(this.resultList=new hW({handleClick:function(l){var c=l.result;o.searchElement.input.value=c.label,o.onSubmit({query:c.label,data:c})},classNames:{resultlist:this.classNames.resultlist,item:this.classNames.item,notfound:this.classNames.notfound},notFoundMessage:this.options.notFoundMessage}),this.searchElement.form.appendChild(this.resultList.container),this.searchElement.input.addEventListener("keyup",(e=function(l){return o.autoSearch(l)},(n=this.options.autoCompleteDelay)===void 0&&(n=250),i===void 0&&(i=!1),function(){var l=[].slice.call(arguments);r&&clearTimeout(r),r=setTimeout(function(){r=null,i||e.apply(void 0,l)},n),i&&!r&&e.apply(void 0,l)}),!0),this.searchElement.input.addEventListener("keydown",function(l){return o.selectResult(l)},!0),this.searchElement.input.addEventListener("keydown",function(l){return o.clearResults(l,!0)},!0)),this.searchElement.form.addEventListener("click",function(l){l.preventDefault()},!1)},onAdd:function(t){var e=this.options,n=e.showMarker,i=e.style;if(this.map=t,n&&this.markers.addTo(t),i==="bar"){var r=t.getContainer().querySelector(".leaflet-control-container");this.container=ei("div","leaflet-control-geosearch leaflet-geosearch-bar"),this.container.appendChild(this.searchElement.form),r.appendChild(this.container)}return it.DomEvent.disableClickPropagation(this.searchElement.form),this.searchElement.container},onRemove:function(){var t;return(t=this.container)==null||t.remove(),this},open:function(){var t=this.searchElement,e=t.input;mr(t.container,"active"),e.focus()},close:function(){On(this.searchElement.container,"active"),this.clearResults()},onClick:function(t){t.preventDefault(),t.stopPropagation(),this.searchElement.container.classList.contains("active")?this.close():this.open()},selectResult:function(t){if([pc,xp,vP].indexOf(t.keyCode)!==-1)if(t.preventDefault(),t.keyCode!==pc){var e=this.resultList.count()-1;if(!(e<0)){var n=this.resultList.selected,i=t.keyCode===xp?n+1:n-1,r=this.resultList.select(i<0?e:i>e?0:i);this.searchElement.input.value=r.label}}else{var o=this.resultList.select(this.resultList.selected);this.onSubmit({query:this.searchElement.input.value,data:o})}},clearResults:function(t,e){if(e===void 0&&(e=!1),!t||t.keyCode===27){var n=this.options,i=n.autoComplete;!e&&n.keepResult||(this.searchElement.input.value="",this.markers.clearLayers()),i&&this.resultList.clear()}},autoSearch:function(t){try{var e=this;if(uW.indexOf(t.keyCode)>-1)return Promise.resolve();var n=t.target.value,i=e.options.provider,r=function(){if(n.length)return Promise.resolve(i.search({query:n})).then(function(o){o=o.slice(0,e.options.maxSuggestions),e.resultList.render(o,e.options.resultFormat)});e.resultList.clear()}();return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(o){return Promise.reject(o)}},onSubmit:function(t){try{var e=this;return e.resultList.clear(),Promise.resolve(e.options.provider.search(t)).then(function(n){n&&n.length>0&&e.showResult(n[0],t)})}catch(n){return Promise.reject(n)}},showResult:function(t,e){var n=this.options,i=n.autoClose,r=n.updateMap,o=this.markers.getLayers();o.length>=this.options.maxMarkers&&this.markers.removeLayer(o[0]);var l=this.addMarker(t,e);r&&this.centerMap(t),this.map.fireEvent("geosearch/showlocation",{location:t,marker:l}),i&&this.closeResults()},closeResults:function(){var t=this.searchElement.container;t.classList.contains("active")&&On(t,"active"),this.clearResults()},addMarker:function(t,e){var n=this,i=this.options,r=i.marker,o=i.showPopup,l=i.popupFormat,c=new it.Marker([t.y,t.x],r),h=t.label;return typeof l=="function"&&(h=l({query:e,result:t})),c.bindPopup(h),this.markers.addLayer(c),o&&c.openPopup(),r.draggable&&c.on("dragend",function(f){n.map.fireEvent("geosearch/marker/dragend",{location:c.getLatLng(),event:f})}),c},centerMap:function(t){var e=this.options,n=e.retainZoomLevel,i=e.animateZoom,r=t.bounds?new it.LatLngBounds(t.bounds):new it.LatLng(t.y,t.x).toBounds(10),o=r.isValid()?r:this.markers.getBounds();!n&&r.isValid()&&!t.bounds||n||!r.isValid()?this.map.setView(o.getCenter(),this.getZoom(),{animate:i}):this.map.fitBounds(o,{animate:i})},getZoom:function(){var t=this.options,e=t.zoomLevel;return t.retainZoomLevel?this.map.getZoom():e}};function fW(){if(!z_)throw new Error(yP);var t=it.Control.extend(dW);return Pp(t,[].slice.call(arguments))}(function(t){t[t.SEARCH=0]="SEARCH",t[t.REVERSE=1]="REVERSE"})(fc||(fc={}));var a0,pW=function(){function t(n){n===void 0&&(n={}),this.options=void 0,this.options=n}var e=t.prototype;return e.getParamString=function(n){n===void 0&&(n={});var i=pr({},this.options.params,n);return Object.keys(i).map(function(r){return encodeURIComponent(r)+"="+encodeURIComponent(i[r])}).join("&")},e.getUrl=function(n,i){return n+"?"+this.getParamString(i)},e.search=function(n){try{var i=this,r=i.endpoint({query:n.query,type:fc.SEARCH});return Promise.resolve(fetch(r)).then(function(o){return Promise.resolve(o.json()).then(function(l){return i.parse({data:l})})})}catch(o){return Promise.reject(o)}},t}();(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(a0||(a0={}));var mW=function(t){function e(i){var r;i===void 0&&(i={}),(r=t.call(this,i)||this).searchUrl=void 0,r.reverseUrl=void 0;var o="https://nominatim.openstreetmap.org";return r.searchUrl=i.searchUrl||o+"/search",r.reverseUrl=i.reverseUrl||o+"/reverse",r}aW(e,t);var n=e.prototype;return n.endpoint=function(i){var r=i.query,o=i.type,l=typeof r=="string"?{q:r}:r;return l.format="json",this.getUrl(o===fc.REVERSE?this.reverseUrl:this.searchUrl,l)},n.parse=function(i){return(Array.isArray(i.data)?i.data:[i.data]).map(function(r){return{x:Number(r.lon),y:Number(r.lat),label:r.display_name,bounds:[[parseFloat(r.boundingbox[0]),parseFloat(r.boundingbox[2])],[parseFloat(r.boundingbox[1]),parseFloat(r.boundingbox[3])]],raw:r}})},e}(pW);let $l;const _W=new Uint8Array(16);function gW(){if(!$l&&($l=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$l))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $l(_W)}const at=[];for(let t=0;t<256;++t)at.push((t+256).toString(16).slice(1));function vW(t,e=0){return at[t[e+0]]+at[t[e+1]]+at[t[e+2]]+at[t[e+3]]+"-"+at[t[e+4]]+at[t[e+5]]+"-"+at[t[e+6]]+at[t[e+7]]+"-"+at[t[e+8]]+at[t[e+9]]+"-"+at[t[e+10]]+at[t[e+11]]+at[t[e+12]]+at[t[e+13]]+at[t[e+14]]+at[t[e+15]]}const yW=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),l0={randomUUID:yW};function wW(t,e,n){if(l0.randomUUID&&!e&&!t)return l0.randomUUID();t=t||{};const i=t.random||(t.rng||gW)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){n=n||0;for(let r=0;r<16;++r)e[n+r]=i[r];return e}return vW(i)}function EW(){const[t,e]=A.useState(1),n=Mc(),[i,r]=A.useState(),[o,l]=A.useState(),[c,h]=A.useState(),[f,m]=A.useState();A.useState();const[_,v]=A.useState(),[E,y]=A.useState(!1),[T,R]=A.useState(!1);A.useState();const[S,w]=A.useState(null);var I="";A.useEffect(()=>{Ur.onAuthStateChanged(z=>{console.log(z),z&&z.emailVerified?(y(!0),R(!0),W()):z&&!z.emailVerified?(y(!0),R(!1)):(y(!1),R(!1))})},[]);const O=()=>{e(t+1),document.getElementById("map2").style.height="0px"},B=z=>{z.preventDefault();const $=pp(vp,`images/${S[0].name+wW()}`);eU($,S[0]).then(ae=>{console.log("Image uploaded"),console.log(ae),wI(pp(vp,ae.metadata.fullPath)).then(te=>{console.log(te),I=te;const fe=oI(XI,"spots/"+i);kF(fe,{spotName:i,spotDesc,spotDescription:_,lat:o,long:c,spotAddress:f,imgURL:I}).then(()=>{console.log("Spot added."),n("/")})})})};function W(){const z=L.map("map2").setView([43.747474670410156,-79.49417877197266],10);L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"© OpenStreetMap"}).addTo(z);const $=new it.Icon({iconUrl:"https://cdn2.iconfinder.com/data/icons/activity-5/50/1F6F9-skateboard-512.png",iconSize:[64,64]}),ae=new fW({provider:new mW,style:"bar",showMarker:!1,marker:{icon:$,draggable:!1}});z.addControl(ae);var te={clickable:!0,icon:$},fe=L.marker(new L.LatLng(0,0),te);fe.addTo(z),z.on("click",function(Je){var q=Je.latlng,K=q.lat,Q=q.lng,N=new L.LatLng(K,Q);fe.setLatLng(N),l(K),h(Q),Ie(K,Q)});function Ie(Je,q){eC.get("https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat="+Je+"&lon="+q).then(K=>{console.log(K.data);let Q=K.data.address;m((Q.house_number?Q.house_number+" ":"")+Q.road+", "+Q.city+", "+Q.state+", "+Q.country)}).catch(K=>{console.log(K)})}z.on("geosearch/showlocation",function(Je){var q=Je.location.y,K=Je.location.x;l(q),h(K);var Q=new L.LatLng(q,K);fe.setLatLng(Q),Ie(q,K)})}return P.jsxs(A.Fragment,{children:[P.jsx(ah,{}),E==!0?P.jsx("div",{children:T==!0?P.jsx("div",{}):P.jsx("p",{className:"verText",children:"Please verify your email!"})}):P.jsx("p",{className:"verText",children:"Please login to submit!"}),P.jsxs("div",{className:"map-container",children:[T==!0&&t==1?P.jsxs("div",{children:[P.jsx("h2",{id:"topText",children:"Add Your Own Skatespot!"}),P.jsx("strong",{id:"text3",children:"Coordinates"}),P.jsx("p",{id:"text2",children:"Enter an address using the search bar, then drop a pin at the approximate location."})]}):P.jsx("div",{}),P.jsx("div",{id:"map2"}),T==!0&&t==1?P.jsxs("div",{children:[P.jsx("br",{}),P.jsxs("div",{children:[o!=null?P.jsx("div",{children:P.jsxs("p",{className:"fade-in",children:["Your coordinates are ",o,", ",c]})}):P.jsx("div",{}),f!=null?P.jsxs("p",{className:"fade-in",children:["The address of this location is ",f]}):P.jsx("div",{}),f!=null&&o!=null?P.jsx("div",{className:"fade-in",children:P.jsx("button",{id:"logButt",onClick:O,className:"buttons",children:"Next!"})}):P.jsx("div",{})]})]}):P.jsx("div",{})]}),t==2?P.jsx("div",{className:"bigahcontainer",children:P.jsx("div",{children:P.jsxs("div",{className:"container",children:[P.jsx("br",{}),P.jsxs("form",{onSubmit:B,children:[P.jsxs("div",{children:[P.jsx("label",{htmlFor:"name",children:P.jsx("strong",{children:"Name"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"text",placeholder:"Enter Spot Name",autoComplete:"off",id:"name",onChange:z=>r(z.target.value)})]}),P.jsx("br",{}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"image",children:P.jsx("strong",{children:"Image Path"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"file",placeholder:"Enter Image Link",autoComplete:"off",id:"image",onChange:z=>w(z.target.files)})]}),P.jsx("br",{}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"spotDescription",children:P.jsx("strong",{children:"Description"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"text",placeholder:"Enter a Description",autoComplete:"off",id:"spotDescription",onChange:z=>v(z.target.value)})]}),P.jsx("br",{}),P.jsx("button",{id:"logButt",type:"submit",className:"buttons",children:"Submit!"})]})]})})}):P.jsx("div",{})]})}function SW(){return P.jsx(aR,{children:P.jsxs(sR,{children:[P.jsx(rs,{exact:!0,path:"/",element:P.jsx(qz,{})}),P.jsx(rs,{exact:!0,path:"/register",element:P.jsx(xz,{})}),P.jsx(rs,{exact:!0,path:"/login",element:P.jsx(kz,{})}),P.jsx(rs,{exact:!0,path:"/test",element:P.jsx(oW,{})}),P.jsx(rs,{exact:!0,path:"/submit",element:P.jsx(EW,{})})]})})}Hd.createRoot(document.getElementById("root")).render(P.jsx(SW,{}));
